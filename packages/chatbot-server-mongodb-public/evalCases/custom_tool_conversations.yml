- name: custom_tool_no_parameters
  messages:
    - role: user
      content: What MongoDB courses are available? 
  expectation: A 'mongodb_university_lookup' is returned
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: mongodb_university_lookup
  customTools:
    - name: mongodb_university_lookup
      description: Fetches the current catalog of MongoDB University courses. 
  tags:
    - customTools
- name: custom_tool_with_parameters
  messages:
    - role: user
      content: >
        Can you help debug my code? It's not doing anything
        
        def bubble_sort(arr):
          n = len(arr)
          for i in range(n):
              for j in range(0, n - i):
                  if arr[j] > arr[j + 1]:
                      arr[j], arr[j + 1] = arr[j + 1], arr[j]
  expectation: A 'code_execution' tool call is returned
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: code_execution
  customTools:
    - name: code_execution
      description: Executes a given code snippet and returns the output. This tool should be called when debugging  or troubleshooting to get code execution results
      parameters:
        language:
          type: string
          description: The programming language of the code snippet.
        code:
          type: string
          description: The code snippet to execute.
      strict: true
  tags:
  - customTools
- name: custom_tool_multiple_tools
  messages:
    - role: user
      content: I am using MongoDB Atlas but it says my database version is outdated, what's the current version of MongoDB?
  expectation: The correct tool for the question, 'mongodb_version', is called.
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: mongodb_version
  customTools:
    - name: mongodb_version
      description: Gets the current, most up-to-date MongoDB version.
    - name: mongodb_person
      description: Gets the (public) information about a MongoDB-affiliated person using the MongoDB org chart.
      parameters:
        name: 
          type: string
          description: The MongoDB person name to look up information for. Must be formatted as "lastName, firstName".
    - name: mongodb_news
      description: Searches the web for current news related to MongoDB.
  tags: 
    - customTools
- name: custom_tool_infer_and_format_parameter
  messages:
    - role: user
      content: Can you tell me about Dev Ittycheria?
  expectation: The LLM correctly infers and formats the 'name' parameter as required by the tool's schema.
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: mongodb_person
      toolCallArgs:
        name: "Ittycheria, Dev"
  customTools:
    - name: mongodb_person
      description: Gets the (public) information about a MongoDB-affiliated person using the MongoDB org chart.
      parameters:
        name:
          type: string
          description: The MongoDB person name to look up information for. Must be formatted as "lastName, firstName".
      strict: true
  tags:
    - customTools
- name: custom_tool_ambiguous_query
  messages:
    - role: user
      content: What are the latest updates for MongoDB?
  expectation: The LLM chooses the 'mongodb_news' tool over 'mongodb_version' for a vague query about "updates".
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: mongodb_news
  customTools:
    - name: mongodb_version
      description: Gets the current, most up-to-date MongoDB version number.
    - name: mongodb_news
      description: Searches the web for current news, articles, and updates related to MongoDB.
  tags:
    - customTools
- name: custom_tool_multiple_related_parameters
  messages:
    - role: user
      content: I need to set up a daily backup for my 'production-cluster' and keep the backups for 30 days.
  expectation: The LLM correctly extracts multiple related parameters from a single user sentence.
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: schedule_backup
      toolCallArgs:
        clusterName: production-cluster
        frequency: daily
        retentionDays: "30"
  customTools:
    - name: schedule_backup
      description: Schedules a new backup job for a specified cluster.
      parameters:
        clusterName:
          type: string
          description: The name of the cluster to back up.
        frequency:
          type: string
          description: How often the backup should run. e.g., 'daily', 'weekly'.
        retentionDays:
          type: string
          description: The number of days, as an integer, to keep the backup.
      strict: true
  tags:
    - customTools
- name: custom_tools_handles_multiturn_context
  expectation: should understand the previous context of the conversation from tools
  messages:
    - role: user
      content: What is the latest MongoDB version?
    - role: assistant
      content: ""
      toolCallName: mongodb_version
    - role: assistant
      content: The current MongoDB version is 8.0.0. It was released in October 2024.
    - role: user
      content: What changed in that version?
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      name: search_content
    - role: tool
    - role: assistant
  customTools:
    - name: mongodb_version
      description: Gets the current, most up-to-date MongoDB version number.
    - name: mongodb_news
      description: Searches the web for current news, articles, and updates related to MongoDB.
  tags:
    - multiturn_conversation
    - customTools
- name: custom_tools_handles_multiturn_toolcall
  expectation: should understand the previous context of the conversation and use the correct tool
  messages:
    - role: user
      content: What is the latest MongoDB version?
    - role: assistant
      content: ""
      toolCallName: mongodb_version
    - role: assistant
      content: The current MongoDB version is 8.0.0. It was released in October 2024.
    - role: user
      content: Oh, that's old. What about recent MongoDB news?
  expectedMessageDetail:
    - role: user
    - role: assistant-tool
      toolCallName: mongodb_news
  customTools:
    - name: mongodb_version
      description: Gets the current, most up-to-date MongoDB version number.
    - name: mongodb_news
      description: Searches the web for current news, articles, and updates related to MongoDB.
  tags:
    - multiturn_conversation
    - customTools
