{"nlQuery":"Find the top 10 Japanese movies with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    \"countries\": \"Japan\",\n    \"imdb.rating\": { $gt: 8.0 }\n  },\n  {\n    \"title\": 1,\n    \"imdb.rating\": 1,\n    \"countries\": 1,\n    \"year\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"title":"The Real Miyagi","year":2015,"imdb":{"rating":9.3},"countries":["USA","Canada","Japan","Panama"]},{"title":"Death Note","year":"2006è2007","imdb":{"rating":9},"countries":["Japan"]},{"imdb":{"rating":8.6},"year":2001,"title":"Spirited Away","countries":["Japan"]},{"title":"Hellsing Ultimate","year":"2006è2012","imdb":{"rating":8.5},"countries":["Japan"]},{"title":"Hellsing Ultimate","year":"2006è2012","imdb":{"rating":8.5},"countries":["Japan"]},{"title":"Samsara","countries":["USA","Indonesia","Singapore","Thailand","Kenya","Denmark","Brazil","Jordan","United Arab Emirates","Saudi Arabia","South Africa","Italy","Ghana","Egypt","China","Japan"],"year":2011,"imdb":{"rating":8.4}},{"imdb":{"rating":8.4},"year":1997,"title":"Princess Mononoke","countries":["Japan"]},{"imdb":{"rating":8.4},"year":1997,"title":"Princess Mononoke","countries":["Japan"]},{"title":"The Naked Island","countries":["Japan"],"year":1960,"imdb":{"rating":8.4}},{"title":"FLCL","year":2000,"imdb":{"rating":8.4},"countries":["Japan"]}],"executionTimeMs":3193,"queryOperators":["$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me French movies released between 2010 and 2017 with an IMDb rating above 7.5 and a Rotten Tomatoes critic score above 80","dbQuery":"db.movies.find(\n  {\n    countries: \"France\",\n    year: { $gte: 2010, $lte: 2017 },\n    \"imdb.rating\": { $gt: 7.5, $exists: true },\n    \"tomatoes.critic.meter\": { $gt: 80, $exists: true }\n  },\n  {\n    title: 1,\n    year: 1,\n    countries: 1,\n    \"imdb.rating\": 1,\n    \"tomatoes.critic.meter\": 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":8.2},"year":2010,"title":"Incendies","tomatoes":{"critic":{"meter":92}},"countries":["Canada","France"]},{"title":"Senna","year":2010,"imdb":{"rating":8.6},"countries":["UK","France","USA","Brazil"],"tomatoes":{"critic":{"meter":92}}},{"title":"Pina","year":2011,"imdb":{"rating":7.7},"countries":["Germany","France","UK"],"tomatoes":{"critic":{"meter":95}}},{"title":"Nostalgia for the Light","year":2010,"imdb":{"rating":7.6},"countries":["France","Germany","Chile","Spain","USA"],"tomatoes":{"critic":{"meter":100}}},{"title":"Ernest & Celestine","year":2012,"imdb":{"rating":7.9},"countries":["France","Belgium","Luxembourg"],"tomatoes":{"critic":{"meter":97}}},{"imdb":{"rating":8.2},"year":2014,"title":"Song of the Sea","tomatoes":{"critic":{"meter":99}},"countries":["Ireland","Denmark","Belgium","Luxembourg","France"]},{"imdb":{"rating":7.6},"year":2011,"title":"The Raid: Redemption","tomatoes":{"critic":{"meter":85}},"countries":["Indonesia","France","USA"]},{"title":"Jodorowsky's Dune","year":2013,"imdb":{"rating":8.1},"countries":["France","USA"],"tomatoes":{"critic":{"meter":98}}},{"title":"The Gatekeepers","year":2012,"imdb":{"rating":7.6},"countries":["Israel","France"],"tomatoes":{"critic":{"meter":93}}},{"imdb":{"rating":7.8},"year":2013,"title":"The Lunchbox","tomatoes":{"critic":{"meter":96}},"countries":["India","France","Germany","USA"]},{"imdb":{"rating":7.9},"year":2013,"title":"The Past","tomatoes":{"critic":{"meter":93}},"countries":["France","Italy","Iran"]},{"imdb":{"rating":7.6},"year":2013,"title":"Philomena","tomatoes":{"critic":{"meter":92}},"countries":["UK","USA","France"]},{"title":"Winter Sleep","year":2014,"imdb":{"rating":8.3},"countries":["Turkey","Germany","France"],"tomatoes":{"critic":{"meter":89}}},{"title":"Twinsters","year":2015,"imdb":{"rating":8.6},"countries":["UK","France","South Korea","USA"],"tomatoes":{"critic":{"meter":100}}},{"title":"Gett: The Trial of Viviane Amsalem","year":2014,"imdb":{"rating":7.8},"countries":["Israel","France","Germany"],"tomatoes":{"critic":{"meter":100}}}],"executionTimeMs":1622,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find South Korean films with a Metacritic score above 75","dbQuery":"db.movies.find(\n  {\n    $and: [\n      { countries: \"South Korea\" },\n      { metacritic: { $gt: 75, $exists: true } }\n    ]\n  },\n  {\n    title: 1,\n    countries: 1,\n    metacritic: 1,\n    directors: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"metacritic":79,"title":"Chunhyang","directors":["Kwon-taek Im"],"countries":["South Korea"]},{"metacritic":79,"title":"Oasiseu","directors":["Chang-dong Lee"],"countries":["South Korea"]},{"metacritic":85,"title":"Spring, Summer, Fall, Winter... and Spring","directors":["Ki-duk Kim"],"countries":["South Korea","Germany"]},{"metacritic":85,"title":"The Host","directors":["Joon-ho Bong"],"countries":["South Korea"]},{"metacritic":77,"title":"Tazza: The High Rollers","directors":["Dong-hoon Choi"],"countries":["South Korea"]},{"metacritic":79,"title":"Mother","countries":["South Korea"],"directors":["Joon-ho Bong"]},{"metacritic":76,"title":"Service","countries":["Philippines","France","South Korea","Hong Kong"],"directors":["Brillante Mendoza"]},{"metacritic":78,"title":"The Yellow Sea","countries":["South Korea","USA","Hong Kong"],"directors":["Hong-jin Na"]},{"metacritic":78,"title":"The Yellow Sea","countries":["South Korea","USA","Hong Kong"],"directors":["Hong-jin Na"]},{"metacritic":84,"title":"Snowpiercer","countries":["South Korea","Czech Republic","USA","France"],"directors":["Joon-ho Bong"]},{"metacritic":78,"title":"Oki's Movie","directors":["Sang-soo Hong"],"countries":["South Korea"]},{"metacritic":81,"title":"Twinsters","directors":["Samantha Futerman","Ryan Miyamoto"],"countries":["UK","France","South Korea","USA"]}],"executionTimeMs":1328,"queryOperators":["$and","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find movies from Sweden, Norway, or Denmark with an IMDb rating above 8.0, at least 500 votes, and either won an award or received more than 2 nominations","dbQuery":"db.movies.find({\n  $and: [\n    { countries: { $in: [\"Sweden\", \"Norway\", \"Denmark\"] } },\n    { \"imdb.rating\": { $gt: 8.0 } },\n    { \"imdb.votes\": { $gte: 500 } },\n    { \"imdb.rating\": { $exists: true } },\n    { \"imdb.votes\": { $exists: true } },\n    { \n      $or: [\n        { \"awards.wins\": { $gt: 0 } },\n        { \"awards.nominations\": { $gt: 2 } }\n      ]\n    },\n    { \"awards\": { $exists: true } }\n  ]\n}, {\n  title: 1,\n  countries: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  \"awards.wins\": 1,\n  \"awards.nominations\": 1,\n  \"awards.text\": 1,\n  year: 1,\n  directors: 1,\n  _id: 0\n})","language":"mongosh","result":[{"title":"The Silence","directors":["Ingmar Bergman"],"awards":{"wins":3,"nominations":1,"text":"3 wins & 1 nomination."},"year":1963,"imdb":{"rating":8.1,"votes":11187},"countries":["Sweden"]},{"title":"Cries & Whispers","directors":["Ingmar Bergman"],"awards":{"wins":25,"nominations":8,"text":"Won 1 Oscar. Another 24 wins & 8 nominations."},"year":1972,"imdb":{"rating":8.1,"votes":18248},"countries":["Sweden"]},{"title":"Scenes from a Marriage","awards":{"wins":14,"nominations":2,"text":"Won 1 Golden Globe. Another 13 wins & 2 nominations."},"year":1973,"imdb":{"rating":8.5,"votes":10766},"countries":["Sweden"]},{"title":"Edvard Munch","directors":["Peter Watkins"],"awards":{"wins":1,"nominations":0,"text":"1 win."},"year":1974,"imdb":{"rating":8.4,"votes":2054},"countries":["Sweden","Norway"]},{"title":"Autumn Sonata","directors":["Ingmar Bergman"],"awards":{"wins":16,"nominations":2,"text":"Nominated for 2 Oscars. Another 14 wins & 2 nominations."},"year":1978,"imdb":{"rating":8.3,"votes":13656},"countries":["France","West Germany","Sweden"]},{"imdb":{"rating":8.1,"votes":38461},"year":1982,"title":"Fanny and Alexander","awards":{"wins":25,"nominations":8,"text":"Won 4 Oscars. Another 21 wins & 8 nominations."},"countries":["Sweden","France","West Germany"],"directors":["Ingmar Bergman"]},{"title":"The Sacrifice","directors":["Andrei Tarkovsky"],"awards":{"wins":9,"nominations":1,"text":"Won 1 BAFTA Film Award. Another 8 wins & 1 nomination."},"year":1986,"imdb":{"rating":8.1,"votes":12705},"countries":["Sweden","UK","France"]},{"title":"Manufacturing Consent: Noam Chomsky and the Media","directors":["Mark Achbar","Peter Wintonick"],"awards":{"wins":4,"nominations":1,"text":"4 wins & 1 nomination."},"year":1992,"imdb":{"rating":8.2,"votes":3411},"countries":["Australia","Finland","Norway","Canada"]},{"title":"The Kingdom","awards":{"wins":20,"nominations":2,"text":"20 wins & 2 nominations."},"year":1994,"imdb":{"rating":8.5,"votes":12897},"countries":["Denmark","Italy","Germany","France","Norway","Sweden"]},{"title":"The Kingdom","awards":{"wins":20,"nominations":2,"text":"20 wins & 2 nominations."},"year":1994,"imdb":{"rating":8.4,"votes":12492},"countries":["Denmark","Italy","Germany","France","Norway","Sweden"]},{"imdb":{"rating":8.1,"votes":62593},"year":1998,"title":"The Celebration","awards":{"wins":32,"nominations":19,"text":"Nominated for 1 Golden Globe. Another 31 wins & 19 nominations."},"countries":["Denmark","Sweden"],"directors":["Thomas Vinterberg"]},{"title":"Dogville","directors":["Lars von Trier"],"awards":{"wins":22,"nominations":20,"text":"22 wins & 20 nominations."},"year":2003,"imdb":{"rating":8.1,"votes":99963},"countries":["Denmark","Sweden","UK","France","Germany","Netherlands","Norway","Finland","Italy"]},{"title":"Why We Fight","directors":["Eugene Jarecki"],"awards":{"wins":4,"nominations":3,"text":"4 wins & 3 nominations."},"year":2005,"imdb":{"rating":8.1,"votes":8942},"countries":["USA","France","UK","Canada","Denmark"]},{"title":"Samsara","countries":["USA","Indonesia","Singapore","Thailand","Kenya","Denmark","Brazil","Jordan","United Arab Emirates","Saudi Arabia","South Africa","Italy","Ghana","Egypt","China","Japan"],"directors":["Ron Fricke"],"awards":{"wins":1,"nominations":6,"text":"1 win & 6 nominations."},"year":2011,"imdb":{"rating":8.4,"votes":18387}},{"imdb":{"rating":8.2,"votes":14885},"year":2014,"title":"Song of the Sea","awards":{"wins":13,"nominations":14,"text":"Nominated for 1 Oscar. Another 12 wins & 14 nominations."},"countries":["Ireland","Denmark","Belgium","Luxembourg","France"],"directors":["Tomm Moore"]},{"imdb":{"rating":8.3,"votes":138922},"year":2012,"title":"The Hunt","awards":{"wins":44,"nominations":54,"text":"Nominated for 1 Oscar. Another 43 wins & 54 nominations."},"countries":["Denmark","Sweden"],"directors":["Thomas Vinterberg"]},{"imdb":{"rating":8.2,"votes":44398},"year":2012,"title":"Searching for Sugar Man","awards":{"wins":43,"nominations":26,"text":"Won 1 Oscar. Another 42 wins & 26 nominations."},"countries":["Sweden","UK","Finland"],"directors":["Malik Bendjelloul"]},{"title":"The Saboteurs","awards":{"wins":2,"nominations":0,"text":"2 wins."},"year":2015,"imdb":{"rating":8.4,"votes":1788},"countries":["Norway"]},{"title":"The Look of Silence","countries":["Denmark","Indonesia","Finland","Norway","UK","Israel","France","USA","Germany","Netherlands"],"directors":["Joshua Oppenheimer"],"awards":{"wins":26,"nominations":6,"text":"26 wins & 6 nominations."},"year":2014,"imdb":{"rating":8.4,"votes":1585}}],"executionTimeMs":1455,"queryOperators":["$and","$in","$gt","$gte","$exists","$or"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 10 drama movies with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    genres: \"Drama\",\n    \"imdb.rating\": { $gt: 8.0 }\n  },\n  {\n    title: 1,\n    imdb: 1,\n    _id: 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"title":"Band of Brothers","imdb":{"rating":9.6,"votes":183802,"id":185906}},{"imdb":{"rating":9.3,"votes":1513145,"id":111161},"title":"The Shawshank Redemption"},{"imdb":{"rating":9.3,"votes":1521105,"id":111161},"title":"The Shawshank Redemption"},{"imdb":{"rating":9.2,"votes":1038358,"id":68646},"title":"The Godfather"},{"title":"The Decalogue","imdb":{"rating":9.2,"votes":10958,"id":92337}},{"imdb":{"rating":9.1,"votes":700857,"id":71562},"title":"The Godfather: Part II"},{"title":"Pride and Prejudice","imdb":{"rating":9.1,"votes":45725,"id":112130}},{"title":"North & South","imdb":{"rating":9,"votes":16583,"id":417349}},{"title":"Heart of a Dog","imdb":{"rating":9,"votes":3624,"id":96126}},{"title":"The Marathon Family","imdb":{"rating":9,"votes":9551,"id":84302}}],"executionTimeMs":1284,"queryOperators":["$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 12 movies with a Rotten Tomatoes critic rating above 85% and more than 50 critic reviews, sorted by critic rating","dbQuery":"db.movies.find(\n  {\n    \"tomatoes.critic.meter\": { $gt: 85 },\n    \"tomatoes.critic.numReviews\": { $gt: 50 },\n    \"tomatoes.critic.meter\": { $exists: true, $ne: null },\n    \"tomatoes.critic.numReviews\": { $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    \"tomatoes.critic\": 1,\n    _id: 0\n  }\n).sort({ \"tomatoes.critic.meter\": -1 }).limit(12)","language":"mongosh","result":[{"title":"Peter Pan","tomatoes":{"critic":{"rating":7.9,"numReviews":8,"meter":100}}},{"title":"Wild Oranges","tomatoes":{"critic":{"rating":8,"numReviews":13,"meter":100}}},{"title":"Three Ages","tomatoes":{"critic":{"rating":7.2,"numReviews":8,"meter":100}}},{"title":"Regeneration","tomatoes":{"critic":{"rating":9.2,"numReviews":5,"meter":100}}},{"title":"Grass: A Nation's Battle for Life","tomatoes":{"critic":{"rating":7.6,"numReviews":5,"meter":100}}},{"title":"The Great Train Robbery","tomatoes":{"critic":{"rating":7.6,"numReviews":6,"meter":100}}},{"title":"Robin Hood","tomatoes":{"critic":{"rating":8.4,"numReviews":8,"meter":100}}},{"title":"Queen Kelly","tomatoes":{"critic":{"rating":7.8,"numReviews":7,"meter":100}}},{"title":"Morocco","tomatoes":{"critic":{"rating":9,"numReviews":5,"meter":100}}},{"title":"The Big Trail","tomatoes":{"critic":{"rating":6.8,"numReviews":8,"meter":100}}},{"title":"It","tomatoes":{"critic":{"rating":6.7,"numReviews":9,"meter":100}}},{"title":"The Black Pirate","tomatoes":{"critic":{"rating":8.1,"numReviews":9,"meter":100}}}],"executionTimeMs":1225,"queryOperators":["$gt","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 8 movies from France or South Korea with an IMDb rating above 7.5","dbQuery":"db.movies.find(\n  {\n    $and: [\n      {\n        countries: { $in: [\"France\", \"South Korea\"] }\n      },\n      {\n        \"imdb.rating\": { $gt: 7.5 }\n      },\n      {\n        countries: { $exists: true, $ne: null }\n      },\n      {\n        \"imdb.rating\": { $exists: true, $ne: null }\n      }\n    ]\n  },\n  {\n    title: 1,\n    countries: 1,\n    \"imdb.rating\": 1,\n    _id: 0\n  }\n).limit(8)","language":"mongosh","result":[{"title":"Comradeship","imdb":{"rating":7.6},"countries":["Germany","France"]},{"title":"è Nous la Libertè","imdb":{"rating":7.7},"countries":["France"]},{"countries":["France"],"title":"The Red Head","imdb":{"rating":7.6}},{"title":"Les Misèrables","imdb":{"rating":7.9},"countries":["France"]},{"title":"Carnival in Flanders","imdb":{"rating":7.6},"countries":["France","Germany"]},{"title":"The Lower Depths","imdb":{"rating":7.8},"countries":["France"]},{"title":"The Story of a Cheat","imdb":{"rating":7.8},"countries":["France"]},{"title":"Hotel du Nord","imdb":{"rating":7.7},"countries":["France"]}],"executionTimeMs":1275,"queryOperators":["$and","$in","$gt","$exists","$ne"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me horror movies released between 2005 and 2015 with an IMDb rating above 7.2 and fewer than 20000 IMDb votes, limited to 8 results","dbQuery":"db.movies.find({\n  genres: \"Horror\",\n  year: { $gte: 2005, $lte: 2015 },\n  \"imdb.rating\": { $gt: 7.2 },\n  \"imdb.votes\": { $lt: 20000 }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  imdb: 1,\n  _id: 0\n}).limit(8)","language":"mongosh","result":[{"genres":["Drama","Horror"],"title":"Lunacy","year":2005,"imdb":{"rating":7.3,"votes":2569,"id":407236}},{"genres":["Drama","Horror"],"title":"Noriko's Dinner Table","year":2005,"imdb":{"rating":7.3,"votes":2759,"id":468820}},{"genres":["Fantasy","Horror","Mystery"],"title":"The Call of Cthulhu","year":2005,"imdb":{"rating":7.4,"votes":5849,"id":478988}},{"genres":["Crime","Horror","Sci-Fi"],"title":"Jekyll","year":2007,"imdb":{"rating":8.2,"votes":6248,"id":497298}},{"genres":["Comedy","Drama","Horror"],"title":"Dead Set","year":2008,"imdb":{"rating":7.9,"votes":13470,"id":1285482}},{"genres":["Short","Comedy","Horror"],"title":"The Horribly Slow Murderer with the Extremely Inefficient Weapon","year":2008,"imdb":{"rating":7.9,"votes":4254,"id":1301160}},{"genres":["Animation","Short","Horror"],"title":"Sebastian's Voodoo","year":2008,"imdb":{"rating":7.4,"votes":922,"id":1305751}},{"genres":["Short","Comedy","Horror"],"title":"Treevenge","year":2008,"imdb":{"rating":7.5,"votes":1374,"id":1343750}}],"executionTimeMs":1233,"queryOperators":["$gte","$lte","$gt","$lt"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 10 movies from 2010-2016 with an IMDb rating above 7.8, Rotten Tomatoes critic score above 80%, and Metacritic score above 75","dbQuery":"db.movies.find({\n  $and: [\n    { year: { $gte: 2010, $lte: 2016 } },\n    { \"imdb.rating\": { $gt: 7.8 } },\n    { \"tomatoes.critic.meter\": { $gt: 80 } },\n    { metacritic: { $gt: 75 } },\n    { \"imdb.rating\": { $exists: true } },\n    { \"tomatoes.critic.meter\": { $exists: true } },\n    { metacritic: { $exists: true } }\n  ]\n}, {\n  title: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  metacritic: 1,\n  _id: 0\n}).limit(10)","language":"mongosh","result":[{"metacritic":92,"title":"Toy Story 3","year":2010,"imdb":{"rating":8.4},"tomatoes":{"critic":{"meter":99}}},{"imdb":{"rating":8},"year":2012,"metacritic":79,"title":"Life of Pi","tomatoes":{"critic":{"meter":87}}},{"metacritic":84,"title":"Dallas Buyers Club","year":2013,"imdb":{"rating":8},"tomatoes":{"critic":{"meter":94}}},{"imdb":{"rating":8},"year":2010,"metacritic":79,"title":"Black Swan","tomatoes":{"critic":{"meter":87}}},{"imdb":{"rating":7.9},"year":2010,"metacritic":79,"title":"The Fighter","tomatoes":{"critic":{"meter":91}}},{"metacritic":100,"title":"Boyhood","year":2014,"imdb":{"rating":8},"tomatoes":{"critic":{"meter":98}}},{"metacritic":82,"title":"Marley","year":2012,"imdb":{"rating":8},"tomatoes":{"critic":{"meter":95}}},{"metacritic":87,"title":"Harry Potter and the Deathly Hallows: Part 2","year":2011,"imdb":{"rating":8.1},"tomatoes":{"critic":{"meter":96}}},{"imdb":{"rating":8.2},"year":2010,"metacritic":82,"title":"Incendies","tomatoes":{"critic":{"meter":92}}},{"metacritic":78,"title":"Waste Land","year":2010,"imdb":{"rating":7.9},"tomatoes":{"critic":{"meter":100}}}],"executionTimeMs":1210,"queryOperators":["$and","$gte","$lte","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 6 documentary movies from Germany, Japan, or Italy released after 2008 with an IMDb rating above 7.5 and a Rotten Tomatoes critic score above 75%","dbQuery":"db.movies.find({\n  $and: [\n    { genres: { $in: [\"Documentary\"] } },\n    { countries: { $in: [\"Germany\", \"Japan\", \"Italy\"] } },\n    { year: { $gt: 2008 } },\n    { \"imdb.rating\": { $exists: true, $gt: 7.5 } },\n    { \"tomatoes.critic.meter\": { $exists: true, $gt: 75 } }\n  ]\n}, {\n  title: 1,\n  countries: 1,\n  year: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  _id: 0\n}).limit(6)","language":"mongosh","result":[{"genres":["Documentary","Music"],"title":"Samsara","countries":["USA","Indonesia","Singapore","Thailand","Kenya","Denmark","Brazil","Jordan","United Arab Emirates","Saudi Arabia","South Africa","Italy","Ghana","Egypt","China","Japan"],"year":2011,"imdb":{"rating":8.4},"tomatoes":{"critic":{"meter":77}}},{"genres":["Documentary","History","News"],"title":"Rabbit è la Berlin","countries":["Poland","Germany"],"year":2009,"imdb":{"rating":7.6},"tomatoes":{"critic":{"meter":89}}},{"genres":["Documentary"],"title":"Pina","year":2011,"imdb":{"rating":7.7},"countries":["Germany","France","UK"],"tomatoes":{"critic":{"meter":95}}},{"genres":["Documentary"],"title":"The Woman with the 5 Elephants","year":2009,"imdb":{"rating":7.6},"countries":["Switzerland","Germany"],"tomatoes":{"critic":{"meter":90}}},{"genres":["Documentary","Drama"],"title":"Nostalgia for the Light","year":2010,"imdb":{"rating":7.6},"countries":["France","Germany","Chile","Spain","USA"],"tomatoes":{"critic":{"meter":100}}},{"genres":["Documentary","Biography","Sport"],"title":"Klitschko","year":2011,"imdb":{"rating":7.8},"countries":["Germany"],"tomatoes":{"critic":{"meter":83}}}],"executionTimeMs":1387,"queryOperators":["$and","$in","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 10 highest-rated movies from the 1990s that are under 100 minutes long, including their genres and directors","dbQuery":"db.movies.find({\n  year: { $gte: 1990, $lte: 1999 },\n  runtime: { $lt: 100, $exists: true },\n  \"imdb.rating\": { $exists: true, $ne: null },\n  type: \"movie\"\n}, {\n  title: 1,\n  runtime: 1,\n  \"imdb.rating\": 1,\n  genres: 1,\n  directors: 1,\n  year: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"genres":["Documentary","Music"],"runtime":90,"title":"Prerokbe Ognja","directors":["Michael Benson"],"year":1996,"imdb":{"rating":9}},{"genres":["Documentary","Comedy"],"runtime":60,"title":"George Carlin: Back in Town","directors":["Rocco Urbisci"],"year":1996,"imdb":{"rating":8.8}},{"genres":["Documentary","Comedy"],"runtime":59,"title":"George Carlin: Jammin' in New York","directors":["Rocco Urbisci"],"year":1992,"imdb":{"rating":8.8}},{"genres":["Drama","Family"],"runtime":89,"title":"Children of Heaven","directors":["Majid Majidi"],"year":1997,"imdb":{"rating":8.5}},{"imdb":{"rating":8.5},"year":1994,"genres":["Animation","Adventure","Drama"],"title":"The Lion King","directors":["Roger Allers","Rob Minkoff"],"runtime":89},{"genres":["Drama","Family"],"runtime":89,"title":"Children of Heaven","directors":["Majid Majidi"],"year":1997,"imdb":{"rating":8.5}},{"genres":["Crime","Drama"],"runtime":99,"title":"Reservoir Dogs","directors":["Quentin Tarantino"],"year":1992,"imdb":{"rating":8.4}},{"genres":["Documentary","Comedy"],"runtime":60,"title":"George Carlin: Doin' It Again","directors":["Rocco Urbisci"],"year":1990,"imdb":{"rating":8.4}},{"genres":["Animation","Adventure","Family"],"runtime":60,"title":"The Fool of the World and the Flying Ship","directors":["Francis Vose"],"year":1990,"imdb":{"rating":8.4}},{"genres":["Documentary"],"runtime":60,"title":"Death of a Nation: The Timor Conspiracy","directors":["David Munro"],"year":1994,"imdb":{"rating":8.4}}],"executionTimeMs":1358,"queryOperators":["$gte","$lte","$lt","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies under 150 minutes directed by Christopher Nolan, Martin Scorsese, or Quentin Tarantino with IMDb ratings above 8.5 and more than 100,000 votes, including their box office performance","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      runtime: { $lt: 150, $exists: true },\n      directors: { \n        $in: [\"Christopher Nolan\", \"Martin Scorsese\", \"Quentin Tarantino\"],\n        $exists: true \n      },\n      \"imdb.rating\": { $gt: 8.5, $exists: true },\n      \"imdb.votes\": { $gt: 100000, $exists: true }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      runtime: 1,\n      directors: 1,\n      imdb: {\n        rating: \"$imdb.rating\",\n        votes: \"$imdb.votes\"\n      },\n      tomatoes: {\n        boxOffice: \"$tomatoes.boxOffice\"\n      },\n      year: 1,\n      genres: 1\n    }\n  },\n  {\n    $sort: {\n      \"imdb.rating\": -1,\n      \"imdb.votes\": -1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.8,"votes":1294646},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"title":"Inception","tomatoes":{"boxOffice":"$292.6M"},"directors":["Christopher Nolan"],"runtime":148},{"imdb":{"rating":8.7,"votes":651517},"year":1990,"genres":["Biography","Crime","Drama"],"title":"Goodfellas","tomatoes":{},"directors":["Martin Scorsese"],"runtime":146}],"executionTimeMs":1318,"queryOperators":["$match","$lt","$exists","$in","$gt","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 movies with the most comments to see which films are generating the most discussion","dbQuery":"db.movies.find(\n  { num_mflix_comments: { $exists: true, $ne: null } },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"50 First Dates","num_mflix_comments":158},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"Sherlock Holmes","num_mflix_comments":157},{"title":"The Mummy","num_mflix_comments":157},{"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"title":"The Mummy Returns","num_mflix_comments":154}],"executionTimeMs":1380,"queryOperators":["$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 15 international movies (non-English language) that have received more than 3 comments, sorted by comment count","dbQuery":"db.movies.find({\n  languages: { $nin: [\"English\"] },\n  languages: { $exists: true, $ne: null },\n  num_mflix_comments: { $gt: 3 }\n}, {\n  title: 1,\n  languages: 1, \n  countries: 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ num_mflix_comments: -1 }).limit(15)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","languages":["English"],"num_mflix_comments":161,"countries":["USA","UK"]},{"title":"About a Boy","languages":["English"],"num_mflix_comments":158,"countries":["UK","USA","France","Germany"]},{"title":"Terminator Salvation","languages":["English","Italian"],"num_mflix_comments":158,"countries":["USA","Germany","UK","Italy"]},{"title":"Ocean's Eleven","languages":["English","Italian","Cantonese"],"num_mflix_comments":158,"countries":["USA"]},{"title":"50 First Dates","languages":["English","Hawaiian","Mandarin","Turkish"],"num_mflix_comments":158,"countries":["USA"]},{"title":"Sherlock Holmes","languages":["English","French"],"num_mflix_comments":157,"countries":["USA","Germany"]},{"title":"The Mummy","languages":["English","Egyptian (Ancient)","Arabic"],"num_mflix_comments":157,"countries":["USA"]},{"title":"Hellboy II: The Golden Army","languages":["English"],"num_mflix_comments":155,"countries":["USA","Germany"]},{"title":"The Mummy Returns","languages":["English","Arabic"],"num_mflix_comments":154,"countries":["USA"]},{"title":"Anchorman: The Legend of Ron Burgundy","languages":["English","French","Spanish"],"num_mflix_comments":154,"countries":["USA"]},{"num_mflix_comments":153,"title":"Cinderella","languages":["English"],"countries":["USA"]},{"title":"American Pie","languages":["English"],"num_mflix_comments":153,"countries":["USA"]},{"title":"E.T. the Extra-Terrestrial","languages":["English"],"num_mflix_comments":153,"countries":["USA"]},{"title":"Bruce Almighty","languages":["English"],"num_mflix_comments":153,"countries":["USA"]},{"title":"Pirates of the Caribbean: At World's End","languages":["English"],"num_mflix_comments":153,"countries":["USA"]}],"executionTimeMs":2351,"queryOperators":["$nin","$exists","$ne","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 8 users who have posted the most comments, along with their comment counts","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      commentCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { commentCount: -1 }\n  },\n  {\n    $limit: 8\n  },\n  {\n    $project: {\n      _id: 0,\n      name: \"$_id.name\",\n      email: \"$_id.email\",\n      commentCount: 1\n    }\n  }\n])","language":"mongosh","result":[{"commentCount":277,"name":"Mace Tyrell","email":"roger_ashton-griffiths@gameofthron.es"},{"commentCount":260,"name":"The High Sparrow","email":"jonathan_pryce@gameofthron.es"},{"commentCount":260,"name":"Rodrik Cassel","email":"ron_donachie@gameofthron.es"},{"commentCount":258,"name":"Missandei","email":"nathalie_emmanuel@gameofthron.es"},{"commentCount":257,"name":"Robert Jordan","email":"robert_jordan@fakegmail.com"},{"commentCount":251,"name":"Thoros of Myr","email":"paul_kaye@gameofthron.es"},{"commentCount":251,"name":"Sansa Stark","email":"sophie_turner@gameofthron.es"},{"commentCount":248,"name":"Donna Smith","email":"donna_smith@fakegmail.com"}],"executionTimeMs":1481,"queryOperators":["$group","$sum","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all comments posted in 2017 and group them by month to see engagement patterns throughout the year","dbQuery":"db.comments.aggregate([\n  {\n    $match: {\n      date: {\n        $gte: new Date(\"2017-01-01\"),\n        $lt: new Date(\"2018-01-01\")\n      }\n    }\n  },\n  {\n    $group: {\n      _id: { $month: \"$date\" },\n      commentCount: { $sum: 1 }\n    }\n  },\n  {\n    $project: {\n      month: {\n        $switch: {\n          branches: [\n            { case: { $eq: [\"$_id\", 1] }, then: \"January\" },\n            { case: { $eq: [\"$_id\", 2] }, then: \"February\" },\n            { case: { $eq: [\"$_id\", 3] }, then: \"March\" },\n            { case: { $eq: [\"$_id\", 4] }, then: \"April\" },\n            { case: { $eq: [\"$_id\", 5] }, then: \"May\" },\n            { case: { $eq: [\"$_id\", 6] }, then: \"June\" },\n            { case: { $eq: [\"$_id\", 7] }, then: \"July\" },\n            { case: { $eq: [\"$_id\", 8] }, then: \"August\" },\n            { case: { $eq: [\"$_id\", 9] }, then: \"September\" },\n            { case: { $eq: [\"$_id\", 10] }, then: \"October\" },\n            { case: { $eq: [\"$_id\", 11] }, then: \"November\" },\n            { case: { $eq: [\"$_id\", 12] }, then: \"December\" }\n          ],\n          default: \"Unknown\"\n        }\n      },\n      commentCount: 1\n    }\n  },\n  {\n    $sort: { \"_id\": 1 }\n  }\n])","language":"mongosh","result":[{"_id":1,"commentCount":74,"month":"January"},{"_id":2,"commentCount":59,"month":"February"},{"_id":3,"commentCount":55,"month":"March"},{"_id":4,"commentCount":78,"month":"April"},{"_id":5,"commentCount":50,"month":"May"},{"_id":6,"commentCount":73,"month":"June"},{"_id":7,"commentCount":79,"month":"July"},{"_id":8,"commentCount":59,"month":"August"},{"_id":9,"commentCount":38,"month":"September"}],"executionTimeMs":1244,"queryOperators":["$match","$gte","$lt","$group","$month","$sum","$project","$switch","$eq","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 movies with the most comments on the platform","dbQuery":"db.movies.find(\n  {},\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(5)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"50 First Dates","num_mflix_comments":158}],"executionTimeMs":1441,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Get the 10 most recent comments posted in September 2017","dbQuery":"db.comments.find({\n  date: {\n    $gte: ISODate(\"2017-09-01T00:00:00.000Z\"),\n    $lte: ISODate(\"2017-09-30T23:59:59.999Z\")\n  }\n}, {\n  name: 1,\n  text: 1,\n  date: 1,\n  email: 1,\n  _id: 0\n}).sort({date: -1}).limit(10)","language":"mongosh","result":[{"name":"Victor Patel","email":"victor_patel@fakegmail.com","text":"Fugit asperiores libero ullam culpa soluta. Sint maxime expedita rem voluptas ullam labore aliquid.","date":"2017-09-13T00:37:11.000Z"},{"name":"Sarah","email":"sarah@example.com","text":"Perfect family movie! My 6 and 8 year olds loved it and there's nothing inappropriate. Great for teaching about perseverance and family bonds.","date":"2017-09-12T20:37:11.000Z"},{"name":"Selyse Baratheon","email":"tara_fitzgerald@gameofthron.es","text":"Provident iure quas ducimus soluta voluptates hic perferendis. Perferendis tenetur deleniti explicabo eos. Natus labore soluta expedita animi.","date":"2017-09-12T08:32:53.000Z"},{"name":"Sarah","email":"sarah@example.com","text":"Great movie but the stampede scene was too intense for my 4-year-old. Better for kids 6 and up. Beautiful animation and songs though!","date":"2017-09-12T00:00:00.000Z"},{"name":"Megan Richards","email":"megan_richards@fakegmail.com","text":"Ratione vel aspernatur unde dolore at eius. Aliquam quibusdam vitae quos ea consequatur fugiat reprehenderit. Quibusdam maxime perspiciatis accusantium dolores molestias debitis.","date":"2017-09-11T23:10:35.000Z"},{"name":"Missandei","email":"nathalie_emmanuel@gameofthron.es","text":"Explicabo fuga rem necessitatibus saepe. Fugiat explicabo culpa adipisci repellendus voluptatem qui nesciunt.","date":"2017-09-11T16:52:51.000Z"},{"name":"Jason Hernandez","email":"jason_hernandez@fakegmail.com","text":"Quod soluta qui tempora totam. Dolore dicta rem eius sapiente rerum dolorem. Mollitia et dolores eius ad voluptas.","date":"2017-09-11T13:24:21.000Z"},{"name":"Khal Drogo","email":"jason_momoa@gameofthron.es","text":"Cum id alias ut ea provident corrupti harum at. Dolores eaque harum doloremque ipsa. Eum omnis culpa reiciendis pariatur ea blanditiis voluptatum. Tempore quod consequatur neque quidem.","date":"2017-09-10T07:56:58.000Z"},{"name":"Meera Reed","email":"ellie_kendrick@gameofthron.es","text":"Doloremque ab officiis corrupti. Occaecati laborum blanditiis repellendus. Nemo alias nihil magni quo iure at omnis eius.","date":"2017-09-10T06:24:48.000Z"},{"name":"Michael Moore","email":"michael_moore@fakegmail.com","text":"Consequuntur mollitia accusantium assumenda voluptate. Perferendis velit repudiandae iusto expedita. Consequuntur ut temporibus vero natus illum harum.","date":"2017-09-09T16:58:34.000Z"}],"executionTimeMs":1184,"queryOperators":["$gte","$lte"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 8 highest-rated foreign language movies (non-English) released between 2000 and 2010 that have received at least 5 comments","dbQuery":"db.movies.find({\n  year: { $gte: 2000, $lte: 2010 },\n  num_mflix_comments: { $gte: 5 },\n  languages: { $exists: true, $nin: [\"English\"] },\n  \"imdb.rating\": { $exists: true, $ne: null }\n}, {\n  title: 1,\n  languages: 1,\n  imdb: 1,\n  year: 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(8)","language":"mongosh","result":[{"num_mflix_comments":122,"title":"The End of a Mystery","languages":["Spanish"],"year":2003,"imdb":{"rating":7,"votes":221,"id":351278}}],"executionTimeMs":1422,"queryOperators":["$gte","$lte","$exists","$nin","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 7 users who have posted the most comments, along with their total comment count and most recent comment date","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      total_comments: { $sum: 1 },\n      most_recent_comment: { $max: \"$date\" }\n    }\n  },\n  {\n    $sort: { total_comments: -1 }\n  },\n  {\n    $limit: 7\n  },\n  {\n    $project: {\n      _id: 0,\n      name: \"$_id.name\",\n      email: \"$_id.email\",\n      total_comments: 1,\n      most_recent_comment: 1\n    }\n  }\n])","language":"mongosh","result":[{"total_comments":277,"most_recent_comment":"2017-08-02T01:37:26.000Z","name":"Mace Tyrell","email":"roger_ashton-griffiths@gameofthron.es"},{"total_comments":260,"most_recent_comment":"2017-07-10T04:58:23.000Z","name":"The High Sparrow","email":"jonathan_pryce@gameofthron.es"},{"total_comments":260,"most_recent_comment":"2017-09-02T06:01:19.000Z","name":"Rodrik Cassel","email":"ron_donachie@gameofthron.es"},{"total_comments":258,"most_recent_comment":"2017-09-11T16:52:51.000Z","name":"Missandei","email":"nathalie_emmanuel@gameofthron.es"},{"total_comments":257,"most_recent_comment":"2017-07-12T12:35:20.000Z","name":"Robert Jordan","email":"robert_jordan@fakegmail.com"},{"total_comments":251,"most_recent_comment":"2017-05-02T16:29:50.000Z","name":"Sansa Stark","email":"sophie_turner@gameofthron.es"},{"total_comments":251,"most_recent_comment":"2017-08-09T01:29:28.000Z","name":"Thoros of Myr","email":"paul_kaye@gameofthron.es"}],"executionTimeMs":1582,"queryOperators":["$group","$sum","$max","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 12 movies with an IMDb rating above 8.0 and at least 15 comments, released between 1995 and 2015, sorted by number of comments","dbQuery":"db.movies.find(\n  {\n    \"imdb.rating\": { $gt: 8.0 },\n    \"num_mflix_comments\": { $gte: 15 },\n    \"year\": { $gte: 1995, $lte: 2015 }\n  },\n  {\n    title: 1,\n    \"imdb.rating\": 1,\n    year: 1,\n    num_mflix_comments: 1,\n    genres: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(12)","language":"mongosh","result":[{"imdb":{"rating":8.5},"year":2000,"genres":["Action","Drama"],"title":"Gladiator","num_mflix_comments":152},{"imdb":{"rating":8.4},"year":1995,"genres":["Biography","Drama","History"],"title":"Braveheart","num_mflix_comments":148},{"imdb":{"rating":8.6},"year":1998,"genres":["Action","Drama","War"],"title":"Saving Private Ryan","num_mflix_comments":144},{"imdb":{"rating":8.5},"year":1999,"genres":["Crime","Drama","Fantasy"],"title":"The Green Mile","num_mflix_comments":144},{"imdb":{"rating":8.1},"year":2003,"genres":["Action"],"title":"Kill Bill: Vol. 1","num_mflix_comments":143},{"imdb":{"rating":8.3},"year":2009,"genres":["Animation","Adventure","Comedy"],"title":"Up","num_mflix_comments":143},{"imdb":{"rating":8.1},"year":2010,"genres":["Mystery","Thriller"],"title":"Shutter Island","num_mflix_comments":142},{"imdb":{"rating":8.1},"year":2007,"genres":["Action","Thriller"],"title":"The Bourne Ultimatum","num_mflix_comments":140},{"imdb":{"rating":8.2},"year":2005,"genres":["Action","Drama","Thriller"],"title":"V for Vendetta","num_mflix_comments":139},{"imdb":{"rating":8.1},"year":2001,"genres":["Drama","Sci-Fi"],"title":"Donnie Darko","num_mflix_comments":138},{"imdb":{"rating":8.7},"year":1999,"genres":["Action","Sci-Fi"],"title":"The Matrix","num_mflix_comments":138},{"imdb":{"rating":8.9},"year":1999,"genres":["Drama"],"title":"Fight Club","num_mflix_comments":137}],"executionTimeMs":1507,"queryOperators":["$gt","$gte","$lte"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find documentary films released between 2015 and 2017 from Germany, Japan, or South Korea with IMDb ratings above 7.0 and at least 500 votes","dbQuery":"db.movies.find({\n  genres: \"Documentary\",\n  released: {\n    $gte: new Date(\"2015-01-01\"),\n    $lte: new Date(\"2017-12-31\")\n  },\n  countries: { $in: [\"Germany\", \"Japan\", \"South Korea\"] },\n  \"imdb.rating\": { $gt: 7.0 },\n  \"imdb.votes\": { $gte: 500 }\n}, {\n  title: 1,\n  genres: 1,\n  countries: 1,\n  released: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  _id: 0\n})","language":"mongosh","result":[{"genres":["Documentary"],"title":"The Look of Silence","countries":["Denmark","Indonesia","Finland","Norway","UK","Israel","France","USA","Germany","Netherlands"],"released":"2015-07-17T00:00:00.000Z","imdb":{"rating":8.4,"votes":1585}},{"genres":["Documentary"],"title":"Citizenfour","released":"2015-02-23T00:00:00.000Z","imdb":{"rating":8.2,"votes":20610},"countries":["USA","Germany","UK"]}],"executionTimeMs":1322,"queryOperators":["$gte","$lte","$in","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 10 movies that have won at least 5 awards","dbQuery":"db.movies.find(\n  { \"awards.wins\": { $gte: 5 } },\n  { title: 1, awards: 1, _id: 0 }\n).limit(10)","language":"mongosh","result":[{"title":"Wings","awards":{"wins":5,"nominations":1,"text":"Won 2 Oscars. Another 3 wins & 1 nomination."}},{"title":"Morocco","awards":{"wins":7,"nominations":0,"text":"Nominated for 4 Oscars. Another 3 wins."}},{"title":"Cimarron","awards":{"wins":5,"nominations":4,"text":"Won 3 Oscars. Another 2 wins & 4 nominations."}},{"title":"The Front Page","awards":{"wins":5,"nominations":0,"text":"Nominated for 3 Oscars. Another 2 wins."}},{"title":"The Informer","awards":{"wins":10,"nominations":3,"text":"Won 4 Oscars. Another 6 wins & 3 nominations."}},{"title":"Carnival in Flanders","awards":{"wins":5,"nominations":1,"text":"5 wins & 1 nomination."}},{"title":"Les Misèrables","awards":{"wins":5,"nominations":0,"text":"Nominated for 4 Oscars. Another 1 win."}},{"title":"Top Hat","awards":{"wins":6,"nominations":2,"text":"Nominated for 4 Oscars. Another 2 wins & 2 nominations."}},{"title":"Dodsworth","awards":{"wins":6,"nominations":6,"text":"Won 1 Oscar. Another 5 wins & 6 nominations."}},{"title":"Mr. Deeds Goes to Town","awards":{"wins":6,"nominations":5,"text":"Won 1 Oscar. Another 5 wins & 5 nominations."}}],"executionTimeMs":1287,"queryOperators":["$gte"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 15 movies that contain 'Oscar' in their awards text","dbQuery":"db.movies.find(\n  {\n    \"awards.text\": { $regex: \"Oscar\", $options: \"i\" }\n  },\n  {\n    title: 1,\n    year: 1,\n    awards: 1,\n    _id: 0\n  }\n).limit(15)","language":"mongosh","result":[{"title":"Wings","awards":{"wins":5,"nominations":1,"text":"Won 2 Oscars. Another 3 wins & 1 nomination."},"year":1927},{"title":"Street Angel","awards":{"wins":0,"nominations":3,"text":"Won 1 Oscar. Another 2 nominations."},"year":1928},{"title":"The Broadway Melody","awards":{"wins":0,"nominations":3,"text":"Won 1 Oscar. Another 2 nominations."},"year":1929},{"title":"Disraeli","awards":{"wins":2,"nominations":2,"text":"Won 1 Oscar. Another 1 win & 2 nominations."},"year":1929},{"title":"Hallelujah","awards":{"wins":2,"nominations":0,"text":"Nominated for 1 Oscar. Another 1 win."},"year":1929},{"title":"In Old Arizona","awards":{"wins":0,"nominations":5,"text":"Won 1 Oscar. Another 4 nominations."},"year":1928},{"title":"The Big House","awards":{"wins":0,"nominations":4,"text":"Won 2 Oscars. Another 2 nominations."},"year":1930},{"title":"The Divorcee","awards":{"wins":0,"nominations":4,"text":"Won 1 Oscar. Another 3 nominations."},"year":1930},{"title":"King of Jazz","awards":{"wins":2,"nominations":0,"text":"Won 1 Oscar. Another 1 win."},"year":1930},{"title":"Little Caesar","awards":{"wins":2,"nominations":0,"text":"Nominated for 1 Oscar. Another 1 win."},"year":1931},{"title":"Morocco","awards":{"wins":7,"nominations":0,"text":"Nominated for 4 Oscars. Another 3 wins."},"year":1930},{"title":"Romance","awards":{"wins":3,"nominations":0,"text":"Nominated for 2 Oscars. Another 1 win."},"year":1930},{"title":"Bad Girl","awards":{"wins":0,"nominations":3,"text":"Won 2 Oscars. Another 1 nomination."},"year":1931},{"title":"The Champ","awards":{"wins":0,"nominations":5,"text":"Won 2 Oscars. Another 3 nominations."},"year":1931},{"title":"Cimarron","awards":{"wins":5,"nominations":4,"text":"Won 3 Oscars. Another 2 wins & 4 nominations."},"year":1931}],"executionTimeMs":1164,"queryOperators":["$regex","$options"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 8 movies that have won at least 4 awards, have an IMDb rating above 8.5, a Metacritic score above 80, and a Rotten Tomatoes critic meter above 90%","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.wins\": { $gte: 4 },\n      \"imdb.rating\": { $gt: 8.5, $exists: true, $ne: null },\n      \"metacritic\": { $gt: 80, $exists: true, $ne: null },\n      \"tomatoes.critic.meter\": { $gt: 90, $exists: true, $ne: null }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      directors: 1,\n      genres: 1,\n      awards: {\n        wins: \"$awards.wins\",\n        nominations: \"$awards.nominations\",\n        text: \"$awards.text\"\n      },\n      imdb: {\n        rating: \"$imdb.rating\"\n      },\n      metacritic: 1,\n      tomatoes: {\n        critic: {\n          meter: \"$tomatoes.critic.meter\"\n        }\n      }\n    }\n  },\n  {\n    $sort: {\n      \"imdb.rating\": -1,\n      \"metacritic\": -1,\n      \"awards.wins\": -1\n    }\n  },\n  {\n    $limit: 8\n  }\n])","language":"mongosh","result":[{"_id":"573a1396f29313caabce4a9a","imdb":{"rating":9.2},"year":1972,"genres":["Crime","Drama"],"metacritic":100,"title":"The Godfather","tomatoes":{"critic":{"meter":99}},"awards":{"wins":33,"nominations":19,"text":"Won 3 Oscars. Another 30 wins & 19 nominations."},"directors":["Francis Ford Coppola"]},{"_id":"573a13b5f29313caabd42722","imdb":{"rating":9},"year":2008,"genres":["Action","Crime","Drama"],"metacritic":82,"title":"The Dark Knight","tomatoes":{"critic":{"meter":94}},"awards":{"wins":144,"nominations":106,"text":"Won 2 Oscars. Another 142 wins & 106 nominations."},"directors":["Christopher Nolan"]},{"_id":"573a139ef29313caabcfbd6a","imdb":{"rating":8.9},"year":2003,"genres":["Adventure","Fantasy"],"metacritic":94,"title":"The Lord of the Rings: The Return of the King","tomatoes":{"critic":{"meter":95}},"awards":{"wins":175,"nominations":87,"text":"Won 11 Oscars. Another 164 wins & 87 nominations."},"directors":["Peter Jackson"]},{"_id":"573a1399f29313caabceea14","imdb":{"rating":8.9},"year":1994,"genres":["Crime","Drama"],"metacritic":94,"title":"Pulp Fiction","tomatoes":{"critic":{"meter":93}},"awards":{"wins":64,"nominations":47,"text":"Won 1 Oscar. Another 63 wins & 47 nominations."},"directors":["Quentin Tarantino"]},{"_id":"573a1399f29313caabcedf3c","genres":["Biography","Drama","History"],"metacritic":93,"title":"Schindler's List","directors":["Steven Spielberg"],"awards":{"wins":81,"nominations":26,"text":"Won 7 Oscars. Another 74 wins & 26 nominations."},"year":1993,"imdb":{"rating":8.9},"tomatoes":{"critic":{"meter":96}}},{"_id":"573a139af29313caabcf0f07","imdb":{"rating":8.8},"year":2001,"genres":["Adventure","Fantasy"],"metacritic":92,"title":"The Lord of the Rings: The Fellowship of the Ring","tomatoes":{"critic":{"meter":91}},"awards":{"wins":114,"nominations":100,"text":"Won 4 Oscars. Another 110 wins & 100 nominations."},"directors":["Peter Jackson"]},{"_id":"573a1397f29313caabce68f6","imdb":{"rating":8.7},"year":1977,"genres":["Action","Adventure","Fantasy"],"metacritic":92,"title":"Star Wars: Episode IV - A New Hope","tomatoes":{"critic":{"meter":94}},"awards":{"wins":44,"nominations":27,"text":"Won 6 Oscars. Another 38 wins & 27 nominations."},"directors":["George Lucas"]},{"_id":"573a1398f29313caabcebf8e","imdb":{"rating":8.7},"year":1990,"genres":["Biography","Crime","Drama"],"metacritic":89,"title":"Goodfellas","tomatoes":{"critic":{"meter":96}},"awards":{"wins":43,"nominations":24,"text":"Won 1 Oscar. Another 42 wins & 24 nominations."},"directors":["Martin Scorsese"]}],"executionTimeMs":1740,"queryOperators":["$match","$gte","$gt","$exists","$ne","$project","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 5 highest-rated horror movies with an IMDb rating above 7.5 and a Metacritic score above 70","dbQuery":"db.movies.find(\n  {\n    genres: \"Horror\",\n    \"imdb.rating\": { $gt: 7.5 },\n    metacritic: { $gt: 70, $exists: true },\n    \"imdb.rating\": { $exists: true }\n  },\n  {\n    title: 1,\n    genres: 1,\n    \"imdb.rating\": 1,\n    metacritic: 1,\n    _id: 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(5)","language":"mongosh","result":[{"genres":["Horror","Sci-Fi"],"metacritic":83,"title":"Alien","imdb":{"rating":8.5}},{"genres":["Action","Horror","Sci-Fi"],"metacritic":87,"title":"Aliens","imdb":{"rating":8.4}},{"genres":["Drama","Horror","Romance"],"metacritic":82,"title":"Let the Right One In","imdb":{"rating":8}},{"genres":["Comedy","Horror"],"metacritic":76,"title":"Shaun of the Dead","imdb":{"rating":8}},{"imdb":{"rating":8},"genres":["Horror"],"metacritic":82,"title":"The Exorcist"}],"executionTimeMs":1471,"queryOperators":["$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"What is the average IMDb rating for comedy movies released between 2000 and 2010?","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Comedy\",\n      year: { $gte: 2000, $lte: 2010 },\n      \"imdb.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: null,\n      averageRating: { $avg: \"$imdb.rating\" }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      averageRating: 1\n    }\n  }\n])","language":"mongosh","result":[{"averageRating":6.2787037037037035}],"executionTimeMs":1584,"queryOperators":["$match","$gte","$lte","$exists","$ne","$group","$avg","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find genres that have fewer than 15 movies with an IMDb rating above 8.0, and show the average rating and movie count for each of these underrepresented genres","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"imdb.rating\": { $gt: 8.0 },\n      \"genres\": { $exists: true, $ne: [] }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $group: {\n      _id: \"$genres\",\n      movieCount: { $sum: 1 },\n      averageRating: { $avg: \"$imdb.rating\" }\n    }\n  },\n  {\n    $match: {\n      movieCount: { $lt: 15 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      genre: \"$_id\",\n      movieCount: 1,\n      averageRating: { $round: [\"$averageRating\", 2] }\n    }\n  },\n  {\n    $sort: { movieCount: 1, averageRating: -1 }\n  }\n])","language":"mongosh","result":[{"movieCount":6,"genre":"News","averageRating":8.48},{"movieCount":7,"genre":"Film-Noir","averageRating":8.16},{"movieCount":10,"genre":"Horror","averageRating":8.37},{"movieCount":12,"genre":"Western","averageRating":8.28},{"movieCount":14,"genre":"Musical","averageRating":8.33}],"executionTimeMs":1342,"queryOperators":["$match","$gt","$exists","$ne","$unwind","$group","$sum","$avg","$lt","$project","$round","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find genres that have fewer than 5 movies with both an IMDb rating above 8.0 and a Rotten Tomatoes critic meter above 85%, and show the count of such premium movies per genre","dbQuery":"db.movies.aggregate([\n  // Unwind genres array so each genre gets its own document\n  { $unwind: \"$genres\" },\n  \n  // Filter movies that meet premium criteria\n  { $match: {\n    $and: [\n      { \"imdb.rating\": { $gt: 8.0 } },\n      { \"tomatoes.critic.meter\": { $gt: 85 } },\n      { \"genres\": { $exists: true, $ne: null } }\n    ]\n  }},\n  \n  // Group by genre and count premium movies\n  { $group: {\n    _id: \"$genres\",\n    premiumMovieCount: { $sum: 1 }\n  }},\n  \n  // Filter genres with fewer than 5 premium movies\n  { $match: {\n    premiumMovieCount: { $lt: 5 }\n  }},\n  \n  // Project in required format\n  { $project: {\n    _id: 0,\n    genre: \"$_id\",\n    premiumMovieCount: 1\n  }},\n  \n  // Sort by count ascending to show genres with fewest premium movies first\n  { $sort: { premiumMovieCount: 1 } }\n])","language":"mongosh","result":[{"premiumMovieCount":2,"genre":"Short"},{"premiumMovieCount":3,"genre":"Horror"},{"premiumMovieCount":3,"genre":"Musical"}],"executionTimeMs":1536,"queryOperators":["$unwind","$match","$and","$gt","$exists","$ne","$group","$sum","$lt","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find all movies directed by Christopher Nolan","dbQuery":"db.movies.find(\n  { \"directors\": \"Christopher Nolan\" },\n  { \n    \"title\": 1, \n    \"year\": 1, \n    \"directors\": 1, \n    \"imdb.rating\": 1,\n    \"_id\": 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":7.6},"year":1998,"title":"Following","directors":["Christopher Nolan"]},{"imdb":{"rating":8.5},"year":2000,"title":"Memento","directors":["Christopher Nolan"]},{"imdb":{"rating":7.2},"year":2002,"title":"Insomnia","directors":["Christopher Nolan"]},{"title":"Batman Begins","directors":["Christopher Nolan"],"year":2005,"imdb":{"rating":8.3}},{"imdb":{"rating":9},"year":2008,"title":"The Dark Knight","directors":["Christopher Nolan"]},{"imdb":{"rating":8.5},"year":2006,"title":"The Prestige","directors":["Christopher Nolan"]},{"imdb":{"rating":8.7},"year":2014,"title":"Interstellar","directors":["Christopher Nolan"]},{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","directors":["Christopher Nolan"]},{"imdb":{"rating":8.8},"year":2010,"title":"Inception","directors":["Christopher Nolan"]}],"executionTimeMs":1473,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 8 highest-rated movies featuring Tilda Swinton based on IMDb ratings","dbQuery":"db.movies.find(\n  {\n    \"cast\": \"Tilda Swinton\",\n    \"imdb.rating\": { $exists: true, $ne: null }\n  },\n  {\n    \"title\": 1,\n    \"year\": 1,\n    \"cast\": 1,\n    \"imdb.rating\": 1,\n    \"genres\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(8)","language":"mongosh","result":[{"genres":["Crime","Drama","Mystery"],"cast":["Dakota Johnson","Tilda Swinton","Matthias Schoenaerts","Ralph Fiennes"],"title":"A Bigger Splash","year":2015,"imdb":{"rating":""}},{"imdb":{"rating":7.7},"year":2002,"genres":["Comedy","Drama"],"title":"Adaptation.","cast":["Nicolas Cage","Tilda Swinton","Meryl Streep","Chris Cooper"]},{"imdb":{"rating":7.5},"year":2011,"genres":["Drama"],"title":"We Need to Talk About Kevin","cast":["Tilda Swinton","John C. Reilly","Ezra Miller","Jasper Newell"]},{"imdb":{"rating":7.4},"year":1999,"genres":["Drama"],"title":"The War Zone","cast":["Ray Winstone","Lara Belmont","Freddie Cunliffe","Tilda Swinton"]},{"imdb":{"rating":7.3},"year":2013,"genres":["Drama","Horror","Romance"],"title":"Only Lovers Left Alive","cast":["Tom Hiddleston","Tilda Swinton","Mia Wasikowska","Anton Yelchin"]},{"genres":["Crime","Drama","Mystery"],"cast":["Miroslav Krobot","Tilda Swinton","Erika Bèk","Jènos Derzsi"],"title":"The Man from London","year":2007,"imdb":{"rating":7.2}},{"genres":["Biography","Drama"],"cast":["John Quentin","Nigel Terry","Derek Jarman","Tilda Swinton"],"title":"Blue","year":1993,"imdb":{"rating":7.2}},{"genres":["Crime","Drama","Mystery"],"cast":["Miroslav Krobot","Tilda Swinton","Erika Bèk","Jènos Derzsi"],"title":"The Man from London","year":2007,"imdb":{"rating":7.2}}],"executionTimeMs":1405,"queryOperators":["$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find drama movies featuring Oscar Isaac with an IMDb rating above 7.0 and a Rotten Tomatoes critic score above 80, sorted by rating","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  cast: \"Oscar Isaac\",\n  \"imdb.rating\": { $gt: 7.0 },\n  \"tomatoes.critic.meter\": { $gt: 80 }\n}, {\n  title: 1,\n  year: 1,\n  cast: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  plot: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 })","language":"mongosh","result":[{"imdb":{"rating":7.7},"year":2015,"plot":"A young programmer is selected to participate in a ground-breaking experiment in artificial intelligence by evaluating the human qualities of a breath-taking female A.I.","genres":["Drama","Mystery","Romance"],"title":"Ex Machina","tomatoes":{"critic":{"meter":92}},"cast":["Domhnall Gleeson","Corey Johnson","Oscar Isaac","Alicia Vikander"]},{"imdb":{"rating":7.4},"year":2013,"plot":"A week in the life of a young singer as he navigates the Greenwich Village folk scene of 1961.","genres":["Drama","Music"],"title":"Inside Llewyn Davis","tomatoes":{"critic":{"meter":94}},"cast":["Oscar Isaac","Carey Mulligan","Justin Timberlake","Ethan Phillips"]},{"plot":"In New York City 1981, an ambitious immigrant fights to protect his business and family during the most dangerous year in the city's history.","genres":["Action","Crime","Drama"],"cast":["Oscar Isaac","Elyes Gabel","Jessica Chastain","Lorna Pruce"],"title":"A Most Violent Year","year":2014,"imdb":{"rating":7.1},"tomatoes":{"critic":{"meter":90}}}],"executionTimeMs":2712,"queryOperators":["$gt"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 highest-rated movies directed by Akira Kurosawa that are not in English","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      directors: \"Akira Kurosawa\"\n    }\n  },\n  {\n    $match: {\n      languages: { $nin: [\"English\"] }\n    }\n  },\n  {\n    $match: {\n      \"imdb.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $sort: {\n      \"imdb.rating\": -1\n    }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      directors: 1,\n      languages: 1,\n      countries: 1,\n      imdb: {\n        rating: \"$imdb.rating\"\n      },\n      _id: 0\n    }\n  }\n])","language":"mongosh","result":[{"title":"Dersu Uzala","languages":["Russian","Chinese"],"directors":["Akira Kurosawa"],"year":1975,"imdb":{"rating":8.3},"countries":["Soviet Union","Japan"]},{"title":"Ran","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1985,"imdb":{"rating":8.3},"countries":["Japan","France"]},{"title":"The Bad Sleep Well","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1960,"imdb":{"rating":8.1},"countries":["Japan"]},{"title":"Kagemusha","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1980,"imdb":{"rating":8},"countries":["Japan","USA"]},{"title":"The Quiet Duel","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1949,"imdb":{"rating":7.5},"countries":["Japan"]},{"title":"I Live in Fear: Record of a Living Being","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1955,"imdb":{"rating":7.4},"countries":["Japan"]},{"title":"One Wonderful Sunday","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1947,"imdb":{"rating":7.3},"countries":["Japan"]},{"title":"Rhapsody in August","languages":["Japanese"],"directors":["Akira Kurosawa"],"year":1991,"imdb":{"rating":7.3},"countries":["Japan"]}],"executionTimeMs":3151,"queryOperators":["$match","$nin","$exists","$ne","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Get all movies directed by Denis Villeneuve with their IMDb ratings and release years","dbQuery":"db.movies.find(\n  { \"directors\": { $in: [\"Denis Villeneuve\"] } },\n  { \n    \"title\": 1, \n    \"year\": 1, \n    \"directors\": 1, \n    \"imdb.rating\": 1, \n    \"genres\": 1,\n    \"_id\": 0\n  }\n)","language":"mongosh","result":[{"genres":["Drama","Romance"],"title":"Un 32 aoèt sur terre","directors":["Denis Villeneuve"],"year":1998,"imdb":{"rating":7}},{"imdb":{"rating":7.2},"year":2000,"genres":["Drama"],"title":"Maelstrom","directors":["Denis Villeneuve"]},{"genres":["Short"],"title":"Next Floor","directors":["Denis Villeneuve"],"year":2008,"imdb":{"rating":7.5}},{"imdb":{"rating":8.2},"year":2010,"genres":["Drama","Mystery","War"],"title":"Incendies","directors":["Denis Villeneuve"]},{"imdb":{"rating":8.1},"year":2013,"genres":["Crime","Drama","Mystery"],"title":"Prisoners","directors":["Denis Villeneuve"]},{"genres":["Mystery","Thriller"],"title":"Enemy","directors":["Denis Villeneuve"],"year":2013,"imdb":{"rating":6.8}},{"genres":["Action","Crime","Drama"],"title":"Sicario","directors":["Denis Villeneuve"],"year":2015,"imdb":{"rating":7.9}}],"executionTimeMs":1543,"queryOperators":["$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 movies with the most comments from users","dbQuery":"db.movies.find(\n  { num_mflix_comments: { $exists: true, $ne: null } },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"50 First Dates","num_mflix_comments":158},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"Sherlock Holmes","num_mflix_comments":157},{"title":"The Mummy","num_mflix_comments":157},{"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"title":"The Mummy Returns","num_mflix_comments":154}],"executionTimeMs":1437,"queryOperators":["$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find movies featuring Michael Shannon released between 2007 and 2017 that have won at least 1 award, with IMDb rating above 7.0, excluding big-budget action or superhero genres","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      cast: \"Michael Shannon\",\n      year: { $gte: 2007, $lte: 2017 },\n      \"awards.wins\": { $exists: true, $gte: 1 },\n      \"imdb.rating\": { $exists: true, $gt: 7.0 },\n      genres: { \n        $nin: [\"Action\", \"Adventure\", \"Sci-Fi\", \"Fantasy\", \"Superhero\"]\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      year: 1,\n      cast: 1,\n      genres: 1,\n      imdb: { rating: \"$imdb.rating\" },\n      awards: { \n        wins: \"$awards.wins\",\n        text: \"$awards.text\"\n      },\n      countries: 1,\n      plot: 1\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1, year: -1 }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":7.4},"year":2011,"plot":"Plagued by a series of apocalyptic visions, a young husband and father questions whether to shelter his family from a coming storm, or from himself.","genres":["Drama","Thriller"],"title":"Take Shelter","awards":{"wins":44,"text":"44 wins & 29 nominations."},"countries":["USA"],"cast":["Michael Shannon","Jessica Chastain","Tova Stewart","Shea Whigham"]},{"imdb":{"rating":7.3},"year":2007,"plot":"Shotgun Stories tracks a feud that erupts between two sets of half brothers following the death of their father. Set against the cotton fields and back roads of Southeast Arkansas, these ...","genres":["Drama","Thriller"],"title":"Shotgun Stories","awards":{"wins":5,"text":"5 wins & 5 nominations."},"countries":["USA"],"cast":["Michael Shannon","Douglas Ligon","Barlow Jacobs","Michael Abbott Jr."]},{"imdb":{"rating":7.2},"year":2014,"plot":"A father struggles to get back the home that his family was evicted from by working for the greedy real estate broker who's the source of his frustration.","genres":["Drama"],"title":"99 Homes","awards":{"wins":2,"text":"2 wins & 2 nominations."},"countries":["USA"],"cast":["Andrew Garfield","Michael Shannon","Clancy Brown","Laura Dern"]}],"executionTimeMs":1441,"queryOperators":["$match","$gte","$lte","$exists","$gt","$nin","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me drama movies released after 2005 that have more than 15 user comments, sorted by comment count","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  year: { $gt: 2005 },\n  num_mflix_comments: { $gt: 15 }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ num_mflix_comments: -1 })","language":"mongosh","result":[{"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148},{"year":2008,"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147},{"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138},{"year":2009,"genres":["Animation","Drama","Family"],"title":"A Christmas Carol","num_mflix_comments":138},{"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Uninvited","num_mflix_comments":134},{"year":2009,"genres":["Drama","Fantasy","Romance"],"title":"The Time Traveler's Wife","num_mflix_comments":132},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Unborn","num_mflix_comments":131},{"year":2008,"genres":["Drama","Fantasy","Romance"],"title":"The Curious Case of Benjamin Button","num_mflix_comments":128},{"year":2008,"genres":["Drama","War"],"title":"Stop-Loss","num_mflix_comments":128},{"year":2009,"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","num_mflix_comments":127},{"year":2009,"genres":["Comedy","Drama"],"title":"Funny People","num_mflix_comments":127},{"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","num_mflix_comments":127},{"year":2009,"genres":["Action","Drama","Sport"],"title":"Fighting","num_mflix_comments":122},{"year":2009,"genres":["Comedy","Drama","Romance"],"title":"The Proposal","num_mflix_comments":122},{"year":2006,"genres":["Crime","Drama","Thriller"],"title":"The Departed","num_mflix_comments":115},{"year":2007,"genres":["Drama","Mystery","Thriller"],"title":"Disturbia","num_mflix_comments":113},{"year":2007,"genres":["Biography","Crime","Drama"],"title":"American Gangster","num_mflix_comments":111},{"year":2007,"genres":["Comedy","Drama","Romance"],"title":"Norbit","num_mflix_comments":107}],"executionTimeMs":1563,"queryOperators":["$gt"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Count how many comments were posted on movies released in the 1990s","dbQuery":"db.comments.aggregate([\n  {\n    $lookup: {\n      from: \"movies\",\n      localField: \"movie_id\",\n      foreignField: \"_id\",\n      as: \"movie\"\n    }\n  },\n  {\n    $match: {\n      \"movie.year\": { $gte: 1990, $lte: 1999 }\n    }\n  },\n  {\n    $count: \"total_comments\"\n  }\n])","language":"mongosh","result":[{"total_comments":9232}],"executionTimeMs":4243,"queryOperators":["$lookup","$match","$gte","$lte","$count"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 5 most commented action movies and the top 5 most commented comedy movies","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: { $in: [\"Action\", \"Comedy\"] },\n      num_mflix_comments: { $exists: true, $ne: null }\n    }\n  },\n  {\n    $facet: {\n      \"action_movies\": [\n        { $match: { genres: \"Action\" } },\n        { $sort: { num_mflix_comments: -1 } },\n        { $limit: 5 },\n        { $project: { title: 1, genres: 1, num_mflix_comments: 1, _id: 0 } }\n      ],\n      \"comedy_movies\": [\n        { $match: { genres: \"Comedy\" } },\n        { $sort: { num_mflix_comments: -1 } },\n        { $limit: 5 },\n        { $project: { title: 1, genres: 1, num_mflix_comments: 1, _id: 0 } }\n      ]\n    }\n  },\n  {\n    $project: {\n      results: {\n        $concatArrays: [\n          { $map: { input: \"$action_movies\", as: \"movie\", in: \"$$movie\" } },\n          { $map: { input: \"$comedy_movies\", as: \"movie\", in: \"$$movie\" } }\n        ]\n      }\n    }\n  },\n  {\n    $unwind: \"$results\"\n  },\n  {\n    $replaceRoot: { newRoot: \"$results\" }\n  }\n])","language":"mongosh","result":[{"genres":["Action","Crime","Thriller"],"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"genres":["Action","Sci-Fi"],"title":"Terminator Salvation","num_mflix_comments":158},{"genres":["Action","Adventure","Crime"],"title":"Sherlock Holmes","num_mflix_comments":157},{"genres":["Action","Adventure","Fantasy"],"title":"The Mummy","num_mflix_comments":157},{"genres":["Action","Adventure","Fantasy"],"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"genres":["Comedy","Romance"],"title":"50 First Dates","num_mflix_comments":158},{"genres":["Comedy","Drama","Romance"],"title":"About a Boy","num_mflix_comments":158},{"genres":["Comedy"],"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"genres":["Comedy","Drama","Fantasy"],"title":"Bruce Almighty","num_mflix_comments":153},{"genres":["Comedy","Romance"],"title":"American Pie","num_mflix_comments":153}],"executionTimeMs":1471,"queryOperators":["$match","$in","$exists","$ne","$facet","$sort","$limit","$project","$concatArrays","$map","$unwind","$replaceRoot"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 movies from 2015-2017 with IMDb rating above 7.5, Rotten Tomatoes critic score above 80%, and Metacritic score above 75","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2015, $lte: 2017 },\n      \"imdb.rating\": { $gt: 7.5, $exists: true },\n      \"tomatoes.critic.meter\": { $gt: 80, $exists: true },\n      metacritic: { $gt: 75, $exists: true }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      \"imdb.rating\": 1,\n      \"tomatoes.critic.meter\": 1,\n      metacritic: 1\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $limit: 10\n  }\n])","language":"mongosh","result":[{"_id":"573a13d6f29313caabda0bba","imdb":{"rating":8.6},"year":2015,"metacritic":94,"title":"Inside Out","tomatoes":{"critic":{"meter":98}}},{"_id":"573a13e5f29313caabdc30fa","metacritic":81,"title":"Twinsters","year":2015,"imdb":{"rating":8.6},"tomatoes":{"critic":{"meter":100}}},{"_id":"573a13c4f29313caabd6e307","metacritic":81,"title":"Beasts of No Nation","year":2015,"imdb":{"rating":8.5},"tomatoes":{"critic":{"meter":100}}},{"_id":"573a13c5f29313caabd70568","imdb":{"rating":8.3},"year":2015,"metacritic":89,"title":"Mad Max: Fury Road","tomatoes":{"critic":{"meter":97}}},{"_id":"573a13e3f29313caabdbfb00","metacritic":85,"title":"Amy","year":2015,"imdb":{"rating":8},"tomatoes":{"critic":{"meter":97}}},{"_id":"573a13b5f29313caabd42f7f","imdb":{"rating":7.7},"year":2015,"metacritic":78,"title":"Ex Machina","tomatoes":{"critic":{"meter":92}}}],"executionTimeMs":1827,"queryOperators":["$match","$gte","$lte","$gt","$exists","$project","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 15 highest-rated movies from 2015-2017 based on IMDb votes, where each movie has more than 25000 IMDb votes and a Rotten Tomatoes viewer rating above 80%","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2015, $lte: 2017 },\n      \"imdb.votes\": { $gt: 25000 },\n      \"tomatoes.viewer.meter\": { $gt: 80 },\n      \"imdb.rating\": { $exists: true, $ne: null },\n      \"imdb.votes\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.meter\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $limit: 15\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      imdb: {\n        rating: 1,\n        votes: 1\n      },\n      tomatoes: {\n        viewer: {\n          rating: 1,\n          meter: 1\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"573a13e5f29313caabdc418e","title":"Adama","year":2015,"imdb":{"rating":"","votes":""},"tomatoes":{"viewer":{"rating":4.9,"meter":100}}},{"_id":"573a13daf29313caabdad25f","title":"The Real Miyagi","year":2015,"imdb":{"rating":9.3,"votes":41},"tomatoes":{"viewer":{"rating":2.2,"meter":0}}},{"_id":"573a13e5f29313caabdc30fa","title":"Twinsters","year":2015,"imdb":{"rating":8.6,"votes":48},"tomatoes":{"viewer":{"rating":4.7,"meter":100}}},{"_id":"573a13d6f29313caabda0bba","imdb":{"rating":8.6,"votes":108087},"year":2015,"title":"Inside Out","tomatoes":{"viewer":{"rating":4.4,"meter":90}}},{"_id":"573a13c5f29313caabd70568","imdb":{"rating":8.3,"votes":314071},"year":2015,"title":"Mad Max: Fury Road","tomatoes":{"viewer":{"rating":4.3,"meter":88}}},{"_id":"573a13dff29313caabdb72de","title":"Meru","year":2015,"imdb":{"rating":8.3,"votes":263},"tomatoes":{"viewer":{"rating":4.5,"meter":96}}},{"_id":"573a13dff29313caabdb85ce","title":"Me and Earl and the Dying Girl","year":2015,"imdb":{"rating":8.2,"votes":6396},"tomatoes":{"viewer":{"rating":4.2,"meter":90}}},{"_id":"573a13e5f29313caabdc30ec","title":"The Girl in the Book","year":2015,"imdb":{"rating":8.1,"votes":32},"tomatoes":{"viewer":{"rating":3.6,"meter":68}}},{"_id":"573a13e3f29313caabdbfb00","title":"Amy","year":2015,"imdb":{"rating":8,"votes":6609},"tomatoes":{"viewer":{"rating":4.3,"meter":92}}},{"_id":"573a13dcf29313caabdb2759","title":"Avengers: Age of Ultron","year":2015,"imdb":{"rating":7.8,"votes":282723},"tomatoes":{"viewer":{"rating":4.2,"meter":86}}},{"_id":"573a13ddf29313caabdb46d4","title":"Molly Moon and the Incredible Book of Hypnotism","year":2015,"imdb":{"rating":7.8,"votes":39},"tomatoes":{"viewer":{"rating":4,"meter":100}}},{"_id":"573a13b5f29313caabd44e2b","imdb":{"rating":7.8,"votes":111807},"year":2015,"title":"Ant-Man","tomatoes":{"viewer":{"rating":4.1,"meter":90}}},{"_id":"573a13b5f29313caabd42f7f","imdb":{"rating":7.7,"votes":157543},"year":2015,"title":"Ex Machina","tomatoes":{"viewer":{"rating":4.1,"meter":86}}},{"_id":"573a13e3f29313caabdc00fc","title":"Cash Only","year":2015,"imdb":{"rating":7.7,"votes":19},"tomatoes":{"viewer":{"rating":4,"meter":85}}},{"_id":"573a13d6f29313caabda0c37","title":"McFarland, USA","year":2015,"imdb":{"rating":7.5,"votes":14091},"tomatoes":{"viewer":{"rating":4.2,"meter":89}}}],"executionTimeMs":1516,"queryOperators":["$match","$gte","$lte","$gt","$exists","$ne","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find action movies released in 2015, 2016, or 2017 with IMDb rating above 7.5, more than 15000 IMDb votes, and box office earnings over $100M","dbQuery":"db.movies.find({\n  genres: \"Action\",\n  year: { $in: [2015, 2016, 2017] },\n  \"imdb.rating\": { $gt: 7.5 },\n  \"imdb.votes\": { $gt: 15000 },\n  \"tomatoes.boxOffice\": { \n    $regex: /^\\$([1-9][0-9]{2,}|[1-9][0-9]*[0-9][0-9]\\.[0-9])M$/\n  }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  \"tomatoes.boxOffice\": 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":7.8,"votes":111807},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Ant-Man","tomatoes":{"boxOffice":"$173.2M"}},{"imdb":{"rating":8.3,"votes":314071},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Mad Max: Fury Road","tomatoes":{"boxOffice":"$153.1M"}},{"genres":["Action","Adventure","Sci-Fi"],"title":"Avengers: Age of Ultron","year":2015,"imdb":{"rating":7.8,"votes":282723},"tomatoes":{"boxOffice":"$458.2M"}}],"executionTimeMs":1559,"queryOperators":["$in","$gt","$regex"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the first 10 movies that have won at least one Oscar","dbQuery":"db.movies.find(\n  {\n    \"awards.text\": { \n      $regex: /(won.*oscar|oscar.*won|academy award.*won|won.*academy award)/i \n    }\n  },\n  {\n    title: 1,\n    awards: 1,\n    year: 1,\n    _id: 0\n  }\n).limit(10)","language":"mongosh","result":[{"title":"Wings","awards":{"wins":5,"nominations":1,"text":"Won 2 Oscars. Another 3 wins & 1 nomination."},"year":1927},{"title":"Street Angel","awards":{"wins":0,"nominations":3,"text":"Won 1 Oscar. Another 2 nominations."},"year":1928},{"title":"The Broadway Melody","awards":{"wins":0,"nominations":3,"text":"Won 1 Oscar. Another 2 nominations."},"year":1929},{"title":"Disraeli","awards":{"wins":2,"nominations":2,"text":"Won 1 Oscar. Another 1 win & 2 nominations."},"year":1929},{"title":"In Old Arizona","awards":{"wins":0,"nominations":5,"text":"Won 1 Oscar. Another 4 nominations."},"year":1928},{"title":"The Big House","awards":{"wins":0,"nominations":4,"text":"Won 2 Oscars. Another 2 nominations."},"year":1930},{"title":"The Divorcee","awards":{"wins":0,"nominations":4,"text":"Won 1 Oscar. Another 3 nominations."},"year":1930},{"title":"King of Jazz","awards":{"wins":2,"nominations":0,"text":"Won 1 Oscar. Another 1 win."},"year":1930},{"title":"Bad Girl","awards":{"wins":0,"nominations":3,"text":"Won 2 Oscars. Another 1 nomination."},"year":1931},{"title":"The Champ","awards":{"wins":0,"nominations":5,"text":"Won 2 Oscars. Another 3 nominations."},"year":1931}],"executionTimeMs":1193,"queryOperators":["$regex"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 movies with the most award wins that also have an IMDb rating above 8.0 and were released between 2000 and 2017","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.wins\": { $exists: true, $gt: 0 },\n      \"imdb.rating\": { $exists: true, $gt: 8.0 },\n      \"year\": { $exists: true, $gte: 2000, $lte: 2017 }\n    }\n  },\n  {\n    $sort: { \"awards.wins\": -1 }\n  },\n  {\n    $limit: 15\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      awards: 1,\n      imdb: 1,\n      year: 1,\n      genres: 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.1,"votes":363143,"id":2024544},"year":2013,"genres":["Biography","Drama","History"],"title":"12 Years a Slave","awards":{"wins":267,"nominations":256,"text":"Won 3 Oscars. Another 264 wins & 256 nominations."}},{"imdb":{"rating":8.9,"votes":1081144,"id":167260},"year":2003,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Return of the King","awards":{"wins":175,"nominations":87,"text":"Won 11 Oscars. Another 164 wins & 87 nominations."}},{"imdb":{"rating":8.1,"votes":547160,"id":477348},"year":2007,"genres":["Crime","Drama","Thriller"],"title":"No Country for Old Men","awards":{"wins":172,"nominations":98,"text":"Won 4 Oscars. Another 168 wins & 98 nominations."}},{"imdb":{"rating":8.8,"votes":1294646,"id":1375666},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"title":"Inception","awards":{"wins":162,"nominations":172,"text":"Won 4 Oscars. Another 158 wins & 172 nominations."}},{"genres":["Adventure","Comedy","Drama"],"title":"The Grand Budapest Hotel","awards":{"wins":146,"nominations":155,"text":"Won 4 Oscars. Another 142 wins & 155 nominations."},"year":2014,"imdb":{"rating":8.1,"votes":378344,"id":2278388}},{"imdb":{"rating":8.1,"votes":382211,"id":2278388},"year":2014,"genres":["Adventure","Comedy","Drama"],"title":"The Grand Budapest Hotel","awards":{"wins":146,"nominations":155,"text":"Won 4 Oscars. Another 142 wins & 155 nominations."}},{"imdb":{"rating":9,"votes":1495351,"id":468569},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","awards":{"wins":144,"nominations":106,"text":"Won 2 Oscars. Another 142 wins & 106 nominations."}},{"imdb":{"rating":8.3,"votes":769994,"id":361748},"year":2009,"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","awards":{"wins":138,"nominations":114,"text":"Won 1 Oscar. Another 137 wins & 114 nominations."}},{"imdb":{"rating":8.1,"votes":438742,"id":1504320},"year":2010,"genres":["Biography","Drama","History"],"title":"The King's Speech","awards":{"wins":119,"nominations":161,"text":"Won 4 Oscars. Another 115 wins & 161 nominations."}},{"imdb":{"rating":8.1,"votes":335023,"id":469494},"year":2007,"genres":["Drama"],"title":"There Will Be Blood","awards":{"wins":119,"nominations":101,"text":"Won 2 Oscars. Another 117 wins & 101 nominations."}},{"imdb":{"rating":8.8,"votes":1109724,"id":120737},"year":2001,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Fellowship of the Ring","awards":{"wins":114,"nominations":100,"text":"Won 4 Oscars. Another 110 wins & 100 nominations."}},{"imdb":{"rating":8.3,"votes":420319,"id":457430},"year":2006,"genres":["Drama","Fantasy","War"],"title":"Pan's Labyrinth","awards":{"wins":106,"nominations":72,"text":"Won 3 Oscars. Another 103 wins & 72 nominations."}},{"imdb":{"rating":8.5,"votes":772226,"id":407887},"year":2006,"genres":["Crime","Drama","Thriller"],"title":"The Departed","awards":{"wins":106,"nominations":88,"text":"Won 4 Oscars. Another 102 wins & 88 nominations."}},{"imdb":{"rating":8.7,"votes":973663,"id":167261},"year":2002,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Two Towers","awards":{"wins":105,"nominations":100,"text":"Won 2 Oscars. Another 103 wins & 100 nominations."}},{"imdb":{"rating":8.6,"votes":278873,"id":2582802},"year":2014,"genres":["Drama","Music"],"title":"Whiplash","awards":{"wins":90,"nominations":99,"text":"Won 3 Oscars. Another 87 wins & 99 nominations."}}],"executionTimeMs":1428,"queryOperators":["$match","$exists","$gt","$gte","$lte","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me how many award-winning movies (with at least 3 wins) we have in each genre, sorted by count descending, limit to top 12 genres","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.wins\": { $gte: 3 }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $group: {\n      _id: \"$genres\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { count: -1 }\n  },\n  {\n    $limit: 12\n  }\n])","language":"mongosh","result":[{"_id":"Drama","count":5542},{"_id":"Comedy","count":2122},{"_id":"Romance","count":1369},{"_id":"Crime","count":877},{"_id":"Thriller","count":792},{"_id":"Action","count":726},{"_id":"Adventure","count":669},{"_id":"Biography","count":626},{"_id":"Documentary","count":548},{"_id":"History","count":429},{"_id":"Mystery","count":380},{"_id":"Horror","count":357}],"executionTimeMs":1257,"queryOperators":["$match","$gte","$unwind","$group","$sum","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 countries with the most award-nominated movies (at least 5 nominations each) and show the average IMDb rating for each country","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.nominations\": { $gte: 5 },\n      \"countries\": { $exists: true, $ne: [] },\n      \"imdb.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $unwind: \"$countries\"\n  },\n  {\n    $group: {\n      _id: \"$countries\",\n      movieCount: { $sum: 1 },\n      avgRating: { $avg: \"$imdb.rating\" }\n    }\n  },\n  {\n    $sort: { movieCount: -1 }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      _id: 1,\n      movieCount: 1,\n      avgRating: { $round: [\"$avgRating\", 2] }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"USA","movieCount":3060,"avgRating":6.88},{"_id":"UK","movieCount":864,"avgRating":7.15},{"_id":"France","movieCount":793,"avgRating":7.06},{"_id":"Germany","movieCount":508,"avgRating":6.92},{"_id":"Canada","movieCount":396,"avgRating":6.76},{"_id":"Italy","movieCount":381,"avgRating":6.96},{"_id":"Spain","movieCount":272,"avgRating":6.86},{"_id":"Australia","movieCount":212,"avgRating":6.68},{"_id":"India","movieCount":200,"avgRating":7},{"_id":"Japan","movieCount":164,"avgRating":7.31}],"executionTimeMs":1329,"queryOperators":["$match","$gte","$exists","$ne","$unwind","$group","$sum","$avg","$sort","$limit","$project","$round"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 12 movies from 2015-2017 that have won at least 2 awards and have both IMDb rating above 7.5 and Metacritic score above 75","dbQuery":"db.movies.find({\n  year: { $gte: 2015, $lte: 2017 },\n  \"awards.wins\": { $gte: 2 },\n  \"imdb.rating\": { $gt: 7.5 },\n  metacritic: { $gt: 75 },\n  \"awards.wins\": { $exists: true },\n  \"imdb.rating\": { $exists: true },\n  metacritic: { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  awards: 1,\n  imdb: 1,\n  metacritic: 1,\n  genres: 1,\n  _id: 0\n}).limit(12)","language":"mongosh","result":[{"genres":["Action","Adventure","Sci-Fi"],"metacritic":59,"title":"Jurassic World","awards":{"wins":0,"nominations":5,"text":"5 nominations."},"year":2015,"imdb":{"rating":7.3,"votes":252556,"id":369610}},{"genres":["Drama","Thriller"],"metacritic":68,"title":"The Stanford Prison Experiment","awards":{"wins":3,"nominations":3,"text":"3 wins & 3 nominations."},"year":2015,"imdb":{"rating":7.2,"votes":887,"id":420293}},{"imdb":{"rating":7.7,"votes":157543,"id":470752},"year":2015,"genres":["Drama","Mystery","Romance"],"metacritic":78,"title":"Ex Machina","awards":{"wins":1,"nominations":2,"text":"1 win & 2 nominations."}},{"imdb":{"rating":7.8,"votes":111807,"id":478970},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"metacritic":64,"title":"Ant-Man","awards":{"wins":0,"nominations":2,"text":"2 nominations."}},{"imdb":{"rating":6.7,"votes":38749,"id":884732},"year":2015,"genres":["Comedy","Romance"],"metacritic":35,"title":"The Wedding Ringer","awards":{"wins":1,"nominations":2,"text":"1 win & 2 nominations."}},{"genres":["Drama"],"metacritic":51,"title":"A Tale of Love and Darkness","awards":{"wins":0,"nominations":1,"text":"1 nomination."},"year":2015,"imdb":{"rating":5.5,"votes":121,"id":1135989}},{"imdb":{"rating":5.5,"votes":14076,"id":1243974},"year":2015,"genres":["Comedy","Drama","Romance"],"metacritic":40,"title":"Aloha","awards":{"wins":0,"nominations":3,"text":"3 nominations."}},{"imdb":{"rating":6.8,"votes":92953,"id":1340138},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"metacritic":38,"title":"Terminator Genisys","awards":{"wins":0,"nominations":2,"text":"2 nominations."}},{"genres":["Drama","War"],"metacritic":81,"title":"Beasts of No Nation","awards":{"wins":0,"nominations":1,"text":"1 nomination."},"year":2015,"imdb":{"rating":8.5,"votes":118,"id":1365050}},{"imdb":{"rating":8.3,"votes":314071,"id":1392190},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"metacritic":89,"title":"Mad Max: Fury Road","awards":{"wins":1,"nominations":3,"text":"1 win & 3 nominations."}},{"imdb":{"rating":4,"votes":42420,"id":1502712},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"metacritic":27,"title":"Fantastic Four","awards":{"wins":1,"nominations":0,"text":"1 win."}},{"genres":["Drama","Sci-Fi","Thriller"],"metacritic":68,"title":"Z for Zachariah","awards":{"wins":0,"nominations":1,"text":"1 nomination."},"year":2015,"imdb":{"rating":6.4,"votes":1123,"id":1598642}}],"executionTimeMs":1483,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 15 movies that have won at least 5 awards and have ratings from all three sources (IMDb above 7.0, Rotten Tomatoes critic meter above 70, and Metacritic above 70), sorted by total award wins","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.wins\": { $gte: 5 },\n      \"imdb.rating\": { $gt: 7.0 },\n      \"tomatoes.critic.meter\": { $gt: 70 },\n      \"metacritic\": { $gt: 70 },\n      \"awards.wins\": { $exists: true },\n      \"imdb.rating\": { $exists: true },\n      \"tomatoes.critic.meter\": { $exists: true },\n      \"metacritic\": { $exists: true }\n    }\n  },\n  {\n    $sort: { \"awards.wins\": -1 }\n  },\n  {\n    $limit: 15\n  },\n  {\n    $project: {\n      title: 1,\n      awards: {\n        wins: \"$awards.wins\",\n        nominations: \"$awards.nominations\"\n      },\n      imdb: {\n        rating: \"$imdb.rating\"\n      },\n      tomatoes: {\n        critic: {\n          meter: \"$tomatoes.critic.meter\"\n        }\n      },\n      metacritic: 1,\n      year: 1,\n      genres: 1,\n      _id: 0\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":7.9},"year":2013,"genres":["Sci-Fi","Thriller"],"metacritic":96,"title":"Gravity","tomatoes":{"critic":{"meter":97}},"awards":{"wins":231,"nominations":135}},{"imdb":{"rating":7.9},"year":2013,"genres":["Sci-Fi","Thriller"],"metacritic":96,"title":"Gravity","tomatoes":{"critic":{"meter":97}},"awards":{"wins":231,"nominations":135}},{"imdb":{"rating":7.8},"year":2014,"genres":["Comedy","Drama"],"metacritic":88,"title":"Birdman: Or (The Unexpected Virtue of Ignorance)","tomatoes":{"critic":{"meter":92}},"awards":{"wins":210,"nominations":183}},{"genres":["Drama"],"metacritic":100,"title":"Boyhood","awards":{"wins":185,"nominations":161},"year":2014,"imdb":{"rating":8},"tomatoes":{"critic":{"meter":98}}},{"imdb":{"rating":8.9},"year":2003,"genres":["Adventure","Fantasy"],"metacritic":94,"title":"The Lord of the Rings: The Return of the King","tomatoes":{"critic":{"meter":95}},"awards":{"wins":175,"nominations":87}},{"imdb":{"rating":8.1},"year":2007,"genres":["Crime","Drama","Thriller"],"metacritic":91,"title":"No Country for Old Men","tomatoes":{"critic":{"meter":93}},"awards":{"wins":172,"nominations":98}},{"imdb":{"rating":7.8},"year":2010,"genres":["Biography","Drama"],"metacritic":95,"title":"The Social Network","tomatoes":{"critic":{"meter":96}},"awards":{"wins":171,"nominations":134}},{"imdb":{"rating":8.8},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"metacritic":74,"title":"Inception","tomatoes":{"critic":{"meter":86}},"awards":{"wins":162,"nominations":172}},{"imdb":{"rating":8},"year":2008,"genres":["Drama","Romance"],"metacritic":86,"title":"Slumdog Millionaire","tomatoes":{"critic":{"meter":92}},"awards":{"wins":161,"nominations":91}},{"genres":["Adventure","Comedy","Drama"],"metacritic":88,"title":"The Grand Budapest Hotel","awards":{"wins":146,"nominations":155},"year":2014,"imdb":{"rating":8.1},"tomatoes":{"critic":{"meter":92}}},{"imdb":{"rating":8.1},"year":2014,"genres":["Adventure","Comedy","Drama"],"metacritic":88,"title":"The Grand Budapest Hotel","tomatoes":{"critic":{"meter":92}},"awards":{"wins":146,"nominations":155}},{"imdb":{"rating":9},"year":2008,"genres":["Action","Crime","Drama"],"metacritic":82,"title":"The Dark Knight","tomatoes":{"critic":{"meter":94}},"awards":{"wins":144,"nominations":106}},{"imdb":{"rating":8.3},"year":2009,"genres":["Adventure","Drama","War"],"metacritic":69,"title":"Inglourious Basterds","tomatoes":{"critic":{"meter":89}},"awards":{"wins":138,"nominations":114}},{"imdb":{"rating":7.6},"year":2008,"genres":["Drama","History","Thriller"],"metacritic":94,"title":"The Hurt Locker","tomatoes":{"critic":{"meter":98}},"awards":{"wins":130,"nominations":94}},{"imdb":{"rating":7.4},"year":2012,"genres":["Biography","Drama","History"],"metacritic":86,"title":"Lincoln","tomatoes":{"critic":{"meter":90}},"awards":{"wins":127,"nominations":194}}],"executionTimeMs":1274,"queryOperators":["$match","$gte","$gt","$exists","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 5 highest-rated movies from Japan with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    \"countries\": \"Japan\",\n    \"imdb.rating\": { $gt: 8.0, $exists: true, $ne: null }\n  },\n  {\n    \"title\": 1,\n    \"imdb.rating\": 1,\n    \"countries\": 1,\n    \"languages\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(5)","language":"mongosh","result":[{"title":"The Real Miyagi","languages":["English"],"imdb":{"rating":9.3},"countries":["USA","Canada","Japan","Panama"]},{"title":"Death Note","languages":["Japanese"],"imdb":{"rating":9},"countries":["Japan"]},{"imdb":{"rating":8.6},"title":"Spirited Away","languages":["Japanese"],"countries":["Japan"]},{"title":"Hellsing Ultimate","languages":["Japanese"],"imdb":{"rating":8.5},"countries":["Japan"]},{"title":"Hellsing Ultimate","languages":["Japanese"],"imdb":{"rating":8.5},"countries":["Japan"]}],"executionTimeMs":1228,"queryOperators":["$gt","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the distribution of award-winning movies (with at least 1 win) by decade from 1980s to 2010s, including the average IMDb rating and total nominations for each decade, and identify the top 2 most awarded films per decade","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"awards.wins\": { $gte: 1 },\n      \"year\": { $gte: 1980, $lte: 2019 }\n    }\n  },\n  {\n    $addFields: {\n      decade: {\n        $concat: [\n          { $toString: { $multiply: [{ $floor: { $divide: [\"$year\", 10] } }, 10] } },\n          \"s\"\n        ]\n      }\n    }\n  },\n  {\n    $group: {\n      _id: \"$decade\",\n      movieCount: { $sum: 1 },\n      totalRatings: { \n        $sum: { \n          $cond: [\n            { $and: [{ $ne: [\"$imdb.rating\", null] }, { $ne: [\"$imdb.rating\", \"\"] }] },\n            \"$imdb.rating\",\n            0\n          ]\n        }\n      },\n      ratingCount: {\n        $sum: {\n          $cond: [\n            { $and: [{ $ne: [\"$imdb.rating\", null] }, { $ne: [\"$imdb.rating\", \"\"] }] },\n            1,\n            0\n          ]\n        }\n      },\n      totalNominations: { \n        $sum: { \n          $cond: [\n            { $ne: [\"$awards.nominations\", null] },\n            \"$awards.nominations\",\n            0\n          ]\n        }\n      },\n      allMovies: {\n        $push: {\n          title: \"$title\",\n          wins: \"$awards.wins\",\n          rating: \"$imdb.rating\"\n        }\n      }\n    }\n  },\n  {\n    $addFields: {\n      avgRating: {\n        $cond: [\n          { $gt: [\"$ratingCount\", 0] },\n          { $divide: [\"$totalRatings\", \"$ratingCount\"] },\n          null\n        ]\n      },\n      topMovies: {\n        $slice: [\n          {\n            $sortArray: {\n              input: \"$allMovies\",\n              sortBy: { wins: -1 }\n            }\n          },\n          2\n        ]\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      movieCount: 1,\n      avgRating: { $round: [\"$avgRating\", 2] },\n      totalNominations: 1,\n      topMovies: 1\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"1980s","movieCount":1364,"totalNominations":4457,"topMovies":[{"title":"E.T. the Extra-Terrestrial","wins":54,"rating":7.9},{"title":"The Last Emperor","wins":54,"rating":7.8}],"avgRating":6.9},{"_id":"1990s","movieCount":2630,"totalNominations":13103,"topMovies":[{"title":"Titanic","wins":127,"rating":7.7},{"title":"American Beauty","wins":120,"rating":8.4}],"avgRating":6.83},{"_id":"2000s","movieCount":5373,"totalNominations":36796,"topMovies":[{"title":"The Lord of the Rings: The Return of the King","wins":175,"rating":8.9},{"title":"No Country for Old Men","wins":172,"rating":8.1}],"avgRating":6.72},{"_id":"2010s","movieCount":3750,"totalNominations":30891,"topMovies":[{"title":"12 Years a Slave","wins":267,"rating":8.1},{"title":"Gravity","wins":231,"rating":7.9}],"avgRating":6.66}],"executionTimeMs":2248,"queryOperators":["$match","$gte","$lte","$addFields","$concat","$toString","$multiply","$floor","$divide","$group","$sum","$cond","$and","$ne","$push","$gt","$slice","$sortArray","$project","$round","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find 10 foreign language movies (not in English) that have received more than 50 user comments on the platform","dbQuery":"db.movies.find(\n  {\n    languages: { $exists: true, $nin: [\"English\"] },\n    num_mflix_comments: { $gt: 50 }\n  },\n  {\n    title: 1,\n    languages: 1,\n    num_mflix_comments: 1,\n    countries: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"num_mflix_comments":144,"title":"Dègkeselyè","languages":["Hungarian"],"countries":["Hungary"]},{"num_mflix_comments":143,"title":"The Jungle Creature: Hugo","languages":["Danish"],"countries":["Denmark"]},{"num_mflix_comments":122,"title":"The End of a Mystery","languages":["Spanish"],"countries":["Spain"]}],"executionTimeMs":1360,"queryOperators":["$exists","$nin","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find European movies from 2015-2017 that have won at least 3 awards and have an IMDb rating above 7.5, sorted by rating","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2015, $lte: 2017 },\n      countries: { \n        $in: [\n          \"Germany\", \"France\", \"United Kingdom\", \"UK\", \"Italy\", \"Spain\", \n          \"Netherlands\", \"Sweden\", \"Norway\", \"Denmark\", \"Finland\", \"Belgium\", \n          \"Austria\", \"Switzerland\", \"Poland\", \"Czech Republic\", \"Hungary\", \n          \"Portugal\", \"Greece\", \"Ireland\", \"Luxembourg\", \"Iceland\", \"Estonia\", \n          \"Latvia\", \"Lithuania\", \"Slovenia\", \"Slovakia\", \"Croatia\", \"Romania\", \n          \"Bulgaria\", \"Malta\", \"Cyprus\"\n        ]\n      },\n      \"awards.wins\": { $gte: 3 },\n      \"imdb.rating\": { $gt: 7.5 }\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      countries: 1,\n      awards: {\n        wins: 1,\n        text: 1\n      },\n      imdb: {\n        rating: 1\n      },\n      year: 1,\n      languages: 1\n    }\n  }\n])","language":"mongosh","result":[{"title":"Im Sommer wohnt er unten","countries":["Germany","France"],"languages":["German","French","English"],"awards":{"wins":3,"text":"3 wins & 1 nomination."},"year":2015,"imdb":{"rating":8.4}},{"title":"Aferim!","languages":["Romanian","Turkish","Romany"],"awards":{"wins":4,"text":"4 wins & 1 nomination."},"year":2015,"imdb":{"rating":8.3},"countries":["Romania","Bulgaria","Czech Republic","France"]},{"title":"Liza, the Fox-Fairy","languages":["Hungarian","Japanese"],"awards":{"wins":9,"text":"9 wins & 1 nomination."},"year":2015,"imdb":{"rating":8.2},"countries":["Hungary"]},{"title":"The Lobster","languages":["English","French"],"awards":{"wins":3,"text":"3 wins & 1 nomination."},"year":2015,"imdb":{"rating":8.2},"countries":["Ireland","UK","Greece","France","Netherlands"]},{"title":"Victoria","languages":["German","English","Spanish"],"awards":{"wins":9,"text":"9 wins & 4 nominations."},"year":2015,"imdb":{"rating":8.2},"countries":["Germany"]},{"title":"Son of Saul","languages":["Hungarian","Yiddish","German","Polish"],"awards":{"wins":5,"text":"5 wins & 4 nominations."},"year":2015,"imdb":{"rating":7.9},"countries":["Hungary"]},{"title":"The High Sun","languages":["Croatian"],"awards":{"wins":8,"text":"8 wins & 3 nominations."},"year":2015,"imdb":{"rating":7.8},"countries":["Croatia","Serbia","Slovenia"]},{"title":"Virgin Mountain","languages":["Icelandic"],"awards":{"wins":4,"text":"4 wins & 1 nomination."},"year":2015,"imdb":{"rating":7.7},"countries":["Iceland","Denmark"]},{"title":"Rams","languages":["Icelandic"],"awards":{"wins":3,"text":"3 wins & 1 nomination."},"year":2015,"imdb":{"rating":7.7},"countries":["Iceland"]},{"title":"The Russian Woodpecker","countries":["Ukraine","UK","USA"],"languages":["Russian","English"],"awards":{"wins":5,"text":"5 wins & 2 nominations."},"year":2015,"imdb":{"rating":7.7}},{"title":"45 Years","languages":["English"],"awards":{"wins":4,"text":"4 wins & 1 nomination."},"year":2015,"imdb":{"rating":7.6},"countries":["UK"]},{"title":"You're Ugly Too","languages":["English"],"awards":{"wins":3,"text":"3 wins & 6 nominations."},"year":2015,"imdb":{"rating":7.6},"countries":["Ireland"]},{"title":"Mustang","languages":["Turkish"],"awards":{"wins":5,"text":"5 wins & 5 nominations."},"year":2015,"imdb":{"rating":7.6},"countries":["France","Germany","Turkey","Qatar"]},{"title":"Land and Shade","languages":["Spanish"],"awards":{"wins":4,"text":"4 wins & 3 nominations."},"year":2015,"imdb":{"rating":7.6},"countries":["Colombia","France","Netherlands","Chile","Brazil"]}],"executionTimeMs":1376,"queryOperators":["$match","$gte","$lte","$in","$gt","$sort","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 8 most popular non-English movies directed by filmmakers from France, Germany, or Italy with ratings above 7.0","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      countries: { $in: [\"France\", \"Germany\", \"Italy\"] },\n      languages: { $nin: [\"English\"] },\n      \"imdb.rating\": { $gt: 7.0, $exists: true, $ne: null },\n      \"imdb.votes\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $sort: { \"imdb.votes\": -1 }\n  },\n  {\n    $limit: 8\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      directors: 1,\n      countries: 1,\n      languages: 1,\n      imdb: {\n        rating: 1,\n        votes: 1\n      }\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.4,"votes":481311},"title":"Amèlie","languages":["French","Russian"],"countries":["France","Germany"],"directors":["Jean-Pierre Jeunet"]},{"imdb":{"rating":8.7,"votes":481128},"title":"City of God","languages":["Portuguese"],"countries":["Brazil","France"],"directors":["Fernando Meirelles","Kètia Lund"]},{"imdb":{"rating":8.5,"votes":231904},"title":"The Lives of Others","languages":["German"],"countries":["Germany"],"directors":["Florian Henckel von Donnersmarck"]},{"imdb":{"rating":8.3,"votes":225919},"title":"Downfall","languages":["German","Russian","Hungarian"],"countries":["Germany","Austria","Italy"],"directors":["Oliver Hirschbiegel"]},{"imdb":{"rating":8.3,"votes":225915},"title":"Downfall","languages":["German","Russian","Hungarian"],"countries":["Germany","Austria","Italy"],"directors":["Oliver Hirschbiegel"]},{"imdb":{"rating":7.6,"votes":135585},"title":"The Raid: Redemption","languages":["Indonesian"],"countries":["Indonesia","France","USA"],"directors":["Gareth Evans"]},{"imdb":{"rating":8,"votes":86074},"title":"The Diving Bell and the Butterfly","languages":["French"],"countries":["France","USA"],"directors":["Julian Schnabel"]},{"imdb":{"rating":7.8,"votes":78331},"title":"The Motorcycle Diaries","languages":["Spanish","Quechua","Mapudungun"],"countries":["Argentina","USA","Chile","Peru","Brazil","UK","Germany","France"],"directors":["Walter Salles"]}],"executionTimeMs":1452,"queryOperators":["$match","$in","$nin","$gt","$exists","$ne","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"What is the average IMDb rating and total vote count for movies directed by Christopher Nolan?","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      directors: \"Christopher Nolan\",\n      \"imdb.rating\": { $exists: true, $ne: null },\n      \"imdb.votes\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: null,\n      averageRating: { $avg: \"$imdb.rating\" },\n      totalVotes: { $sum: \"$imdb.votes\" }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      averageRating: 1,\n      totalVotes: 1\n    }\n  }\n])","language":"mongosh","result":[{"averageRating":8.344444444444443,"totalVotes":7118386}],"executionTimeMs":1232,"queryOperators":["$match","$exists","$ne","$group","$avg","$sum","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 5 highest-rated movies on IMDb starring Leonardo DiCaprio","dbQuery":"db.movies.find(\n  { \n    \"cast\": \"Leonardo DiCaprio\",\n    \"imdb.rating\": { $exists: true, $ne: null }\n  },\n  { \n    \"title\": 1, \n    \"imdb.rating\": 1, \n    \"_id\": 0 \n  }\n).sort({ \"imdb.rating\": -1 }).limit(5)","language":"mongosh","result":[{"imdb":{"rating":8.8},"title":"Inception"},{"imdb":{"rating":8.5},"title":"Django Unchained"},{"imdb":{"rating":8.5},"title":"Django Unchained"},{"imdb":{"rating":8.5},"title":"The Departed"},{"imdb":{"rating":8.2},"title":"The Wolf of Wall Street"}],"executionTimeMs":1311,"queryOperators":["$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all movies directed by Quentin Tarantino released after 2000 with their IMDb ratings, Rotten Tomatoes critic scores, and box office earnings","dbQuery":"db.movies.find(\n  {\n    directors: \"Quentin Tarantino\",\n    year: { $gt: 2000 }\n  },\n  {\n    title: 1,\n    year: 1,\n    \"imdb.rating\": 1,\n    \"tomatoes.critic.meter\": 1,\n    \"tomatoes.boxOffice\": 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":2003,"title":"Kill Bill: Vol. 1","tomatoes":{"critic":{"meter":85}}},{"imdb":{"rating":8.3},"year":2009,"title":"Inglourious Basterds","tomatoes":{"critic":{"meter":89},"boxOffice":"$120.5M"}},{"title":"Kill Bill: Vol. 2","year":2004,"imdb":{"rating":8}},{"imdb":{"rating":8.1},"year":2005,"title":"Sin City","tomatoes":{"critic":{"meter":78}}},{"title":"Grindhouse","year":2007,"imdb":{"rating":7.7},"tomatoes":{"critic":{"meter":83},"boxOffice":"$24.9M"}},{"title":"Death Proof","year":2007,"imdb":{"rating":7.1},"tomatoes":{"critic":{"meter":67}}},{"imdb":{"rating":8.5},"year":2012,"title":"Django Unchained","tomatoes":{"critic":{"meter":88},"boxOffice":"$162.8M"}},{"imdb":{"rating":8.5},"year":2012,"title":"Django Unchained","tomatoes":{"critic":{"meter":88},"boxOffice":"$162.8M"}}],"executionTimeMs":1354,"queryOperators":["$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies starring Tom Hanks with IMDb ratings above 7.5 and more than 50,000 votes, including their Rotten Tomatoes scores and number of comments","dbQuery":"db.movies.find(\n  {\n    \"cast\": \"Tom Hanks\",\n    \"imdb.rating\": { $gt: 7.5 },\n    \"imdb.votes\": { $gt: 50000 }\n  },\n  {\n    \"title\": 1,\n    \"imdb.rating\": 1,\n    \"imdb.votes\": 1,\n    \"tomatoes.critic.meter\": 1,\n    \"num_mflix_comments\": 1,\n    \"_id\": 0\n  }\n)","language":"mongosh","result":[{"title":"Philadelphia","imdb":{"rating":7.7,"votes":166994},"tomatoes":{"critic":{"meter":78}},"num_mflix_comments":0},{"imdb":{"rating":8.8,"votes":1087227},"title":"Forrest Gump","tomatoes":{"critic":{"meter":72}},"num_mflix_comments":136},{"imdb":{"rating":7.6,"votes":193096},"title":"Apollo 13","tomatoes":{"critic":{"meter":95}},"num_mflix_comments":0},{"imdb":{"rating":8.3,"votes":542659},"title":"Toy Story","tomatoes":{"critic":{"meter":100}},"num_mflix_comments":131},{"imdb":{"rating":7.9,"votes":346655},"title":"Toy Story 2","tomatoes":{"critic":{"meter":100}},"num_mflix_comments":150},{"imdb":{"rating":8.5,"votes":681825},"title":"The Green Mile","tomatoes":{"critic":{"meter":80}},"num_mflix_comments":144},{"imdb":{"rating":8.6,"votes":775637},"title":"Saving Private Ryan","tomatoes":{"critic":{"meter":92}},"num_mflix_comments":144},{"imdb":{"rating":8,"votes":438892},"title":"Catch Me If You Can","tomatoes":{"critic":{"meter":96}},"num_mflix_comments":132},{"title":"Toy Story 3","imdb":{"rating":8.4,"votes":474122},"tomatoes":{"critic":{"meter":99}},"num_mflix_comments":0},{"imdb":{"rating":7.9,"votes":292910},"title":"Captain Phillips","tomatoes":{"critic":{"meter":93}},"num_mflix_comments":0}],"executionTimeMs":1206,"queryOperators":["$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 8 Martin Scorsese movies in the Crime or Drama genres with IMDb ratings above 8.0, showing their awards, box office, and critic ratings","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      directors: \"Martin Scorsese\",\n      genres: { $in: [\"Crime\", \"Drama\"] },\n      \"imdb.rating\": { $gt: 8.0 }\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $limit: 8\n  },\n  {\n    $project: {\n      title: 1,\n      genres: 1,\n      imdb: { rating: 1 },\n      awards: { wins: 1, nominations: 1 },\n      tomatoes: { \n        critic: { meter: 1 },\n        boxOffice: 1\n      },\n      _id: 0\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.7},"genres":["Biography","Crime","Drama"],"title":"Goodfellas","tomatoes":{"critic":{"meter":96}},"awards":{"wins":43,"nominations":24}},{"imdb":{"rating":8.5},"genres":["Crime","Drama","Thriller"],"title":"The Departed","tomatoes":{"critic":{"meter":91},"boxOffice":"$132.3M"},"awards":{"wins":106,"nominations":88}},{"genres":["Crime","Drama"],"title":"Taxi Driver","awards":{"wins":31,"nominations":9},"imdb":{"rating":8.4},"tomatoes":{"critic":{"meter":98}}},{"imdb":{"rating":8.3},"genres":["Biography","Drama","Sport"],"title":"Raging Bull","tomatoes":{"critic":{"meter":98}},"awards":{"wins":29,"nominations":19}},{"imdb":{"rating":8.2},"genres":["Biography","Crime","Drama"],"title":"Casino","tomatoes":{"critic":{"meter":80}},"awards":{"wins":5,"nominations":8}},{"imdb":{"rating":8.2},"genres":["Biography","Comedy","Crime"],"title":"The Wolf of Wall Street","tomatoes":{"critic":{"meter":77},"boxOffice":"$116.9M"},"awards":{"wins":52,"nominations":128}}],"executionTimeMs":1371,"queryOperators":["$match","$in","$gt","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 movies released in 2010 that have the most comments","dbQuery":"db.movies.find(\n  { year: 2010 },\n  { title: 1, num_mflix_comments: 1, released: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(5)","language":"mongosh","result":[{"title":"Shutter Island","num_mflix_comments":142,"released":"2010-02-19T00:00:00.000Z"},{"title":"Night Catches Us","num_mflix_comments":4,"released":"2010-12-03T00:00:00.000Z"},{"title":"Good Neighbors","num_mflix_comments":3,"released":"2011-07-29T00:00:00.000Z"},{"title":"The King's Speech","num_mflix_comments":3,"released":"2010-12-25T00:00:00.000Z"},{"title":"Date Night","num_mflix_comments":3,"released":"2010-04-09T00:00:00.000Z"}],"executionTimeMs":1226,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find drama movies released between 2005 and 2010 with more than 15 comments and an IMDb rating above 7.0","dbQuery":"db.movies.find(\n  {\n    genres: \"Drama\",\n    released: {\n      $gte: ISODate(\"2005-01-01T00:00:00.000Z\"),\n      $lte: ISODate(\"2010-12-31T23:59:59.999Z\")\n    },\n    num_mflix_comments: { $gt: 15 },\n    \"imdb.rating\": { $gt: 7.0 }\n  },\n  {\n    title: 1,\n    genres: 1,\n    released: 1,\n    num_mflix_comments: 1,\n    \"imdb.rating\": 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":7.3},"genres":["Action","Adventure","Drama"],"title":"King Kong","num_mflix_comments":144,"released":"2005-12-14T00:00:00.000Z"},{"imdb":{"rating":8.3},"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","num_mflix_comments":127,"released":"2009-08-21T00:00:00.000Z"},{"imdb":{"rating":8.5},"genres":["Crime","Drama","Thriller"],"title":"The Departed","num_mflix_comments":115,"released":"2006-10-06T00:00:00.000Z"},{"imdb":{"rating":7.5},"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138,"released":"2007-12-21T00:00:00.000Z"},{"imdb":{"rating":7.8},"genres":["Drama","Fantasy","Romance"],"title":"The Curious Case of Benjamin Button","num_mflix_comments":128,"released":"2008-12-25T00:00:00.000Z"},{"imdb":{"rating":8.2},"genres":["Action","Drama","Thriller"],"title":"V for Vendetta","num_mflix_comments":139,"released":"2006-03-17T00:00:00.000Z"},{"imdb":{"rating":7.1},"genres":["Drama","Fantasy","Romance"],"title":"The Time Traveler's Wife","num_mflix_comments":132,"released":"2009-08-14T00:00:00.000Z"},{"imdb":{"rating":9},"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136,"released":"2008-07-18T00:00:00.000Z"},{"imdb":{"rating":7.3},"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147,"released":"2008-10-10T00:00:00.000Z"},{"imdb":{"rating":7.2},"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148,"released":"2007-12-14T00:00:00.000Z"},{"imdb":{"rating":7.8},"genres":["Biography","Crime","Drama"],"title":"American Gangster","num_mflix_comments":111,"released":"2007-11-02T00:00:00.000Z"},{"imdb":{"rating":8},"genres":["Drama","Romance"],"title":"Slumdog Millionaire","num_mflix_comments":127,"released":"2008-12-25T00:00:00.000Z"}],"executionTimeMs":1364,"queryOperators":["$gte","$lte","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 10 highest-rated movies from 2008 with runtime between 90 and 150 minutes that have received at least 20 comments","dbQuery":"db.movies.find(\n  {\n    year: 2008,\n    runtime: { $gte: 90, $lte: 150 },\n    num_mflix_comments: { $gte: 20 },\n    \"imdb.rating\": { $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    \"imdb.rating\": 1,\n    runtime: 1,\n    num_mflix_comments: 1,\n    released: 1,\n    _id: 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":8},"title":"Slumdog Millionaire","num_mflix_comments":127,"released":"2008-12-25T00:00:00.000Z","runtime":120},{"imdb":{"rating":7.9},"title":"Taken","num_mflix_comments":127,"released":"2009-01-30T00:00:00.000Z","runtime":93},{"imdb":{"rating":7.3},"title":"The Express","num_mflix_comments":147,"released":"2008-10-10T00:00:00.000Z","runtime":130},{"imdb":{"rating":7},"title":"Hellboy II: The Golden Army","num_mflix_comments":155,"released":"2008-07-11T00:00:00.000Z","runtime":120},{"runtime":112,"num_mflix_comments":127,"title":"The Incredible Hulk","released":"2008-06-13T00:00:00.000Z","imdb":{"rating":6.9}},{"imdb":{"rating":6.7},"title":"Wanted","num_mflix_comments":153,"released":"2008-06-27T00:00:00.000Z","runtime":110},{"imdb":{"rating":6.5},"title":"Stop-Loss","num_mflix_comments":128,"released":"2008-03-28T00:00:00.000Z","runtime":112}],"executionTimeMs":1742,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me comedy movies from 2006 to 2012 with Rotten Tomatoes critic ratings above 70% and at least 10 comments","dbQuery":"db.movies.find({\n  genres: {$in: [\"Comedy\"]},\n  year: {$gte: 2006, $lte: 2012},\n  \"tomatoes.critic.meter\": {$gt: 70, $exists: true},\n  num_mflix_comments: {$gte: 10, $exists: true}\n}, {\n  title: 1,\n  year: 1,\n  \"tomatoes.critic.meter\": 1,\n  num_mflix_comments: 1,\n  _id: 0\n})","language":"mongosh","result":[{"year":2006,"title":"Cars","tomatoes":{"critic":{"meter":74}},"num_mflix_comments":123},{"year":2007,"title":"Hairspray","tomatoes":{"critic":{"meter":91}},"num_mflix_comments":114},{"year":2006,"title":"Borat: Cultural Learnings of America for Make Benefit Glorious Nation of Kazakhstan","tomatoes":{"critic":{"meter":91}},"num_mflix_comments":115},{"year":2007,"title":"The Simpsons Movie","tomatoes":{"critic":{"meter":89}},"num_mflix_comments":144},{"year":2009,"title":"Up","tomatoes":{"critic":{"meter":98}},"num_mflix_comments":143},{"year":2009,"title":"The Hangover","tomatoes":{"critic":{"meter":79}},"num_mflix_comments":144},{"year":2009,"title":"I Love You, Man","tomatoes":{"critic":{"meter":84}},"num_mflix_comments":144}],"executionTimeMs":1512,"queryOperators":["$in","$gte","$lte","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies released between 2007 and 2011 where the IMDb rating is at least 1.5 points higher than the Rotten Tomatoes viewer rating (converted to 10-point scale), have more than 25 comments, and belong to either drama or thriller genres","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2007, $lte: 2011 },\n      genres: { $in: [\"Drama\", \"Thriller\"] },\n      num_mflix_comments: { $gt: 25 }\n    }\n  },\n  {\n    $match: {\n      \"imdb.rating\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $addFields: {\n      ratingDifference: {\n        $subtract: [\n          \"$imdb.rating\",\n          { $multiply: [\"$tomatoes.viewer.rating\", 2] }\n        ]\n      }\n    }\n  },\n  {\n    $match: {\n      ratingDifference: { $gte: 1.5 }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      genres: 1,\n      imdb: { rating: 1 },\n      tomatoes: { viewer: { rating: 1 } },\n      num_mflix_comments: 1,\n      ratingDifference: 1\n    }\n  }\n])","language":"mongosh","result":[{"_id":"573a13b6f29313caabd474b1","imdb":{"rating":6.5},"year":2008,"genres":["Drama","War"],"title":"Stop-Loss","tomatoes":{"viewer":{"rating":2.5}},"num_mflix_comments":128,"ratingDifference":1.5},{"_id":"573a13bff29313caabd5f799","imdb":{"rating":8.1},"year":2010,"genres":["Mystery","Thriller"],"title":"Shutter Island","tomatoes":{"viewer":{"rating":3.3}},"num_mflix_comments":142,"ratingDifference":1.5}],"executionTimeMs":1275,"queryOperators":["$match","$gte","$lte","$in","$gt","$exists","$ne","$addFields","$subtract","$multiply","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 drama movies with runtime longer than 150 minutes and IMDb rating above 7.5","dbQuery":"db.movies.find({\n  genres: { $in: [\"Drama\"] },\n  runtime: { $gt: 150, $exists: true },\n  \"imdb.rating\": { $gt: 7.5, $exists: true }\n}, {\n  title: 1,\n  runtime: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(15)","language":"mongosh","result":[{"genres":["Action","Drama","History"],"runtime":705,"title":"Band of Brothers","imdb":{"rating":9.6}},{"genres":["Drama"],"runtime":572,"title":"The Decalogue","imdb":{"rating":9.2}},{"imdb":{"rating":9.2},"genres":["Crime","Drama"],"title":"The Godfather","runtime":175},{"genres":["Drama","Romance"],"runtime":327,"title":"Pride and Prejudice","imdb":{"rating":9.1}},{"imdb":{"rating":9.1},"genres":["Crime","Drama"],"title":"The Godfather: Part II","runtime":200},{"genres":["Drama","Romance"],"runtime":235,"title":"North & South","imdb":{"rating":9}},{"imdb":{"rating":9},"genres":["Action","Crime","Drama"],"title":"The Dark Knight","runtime":152},{"genres":["Biography","Drama","History"],"runtime":195,"title":"Schindler's List","imdb":{"rating":8.9}},{"imdb":{"rating":8.9},"genres":["Crime","Drama"],"title":"Pulp Fiction","runtime":154},{"genres":["Crime","Drama","Thriller"],"runtime":160,"title":"Drishyam","imdb":{"rating":8.9}},{"genres":["Adventure","Comedy","Drama"],"runtime":160,"title":"Love is God","imdb":{"rating":8.9}},{"genres":["Adventure","Drama","Western"],"runtime":384,"title":"Lonesome Dove","imdb":{"rating":8.8}},{"genres":["Drama","Mystery"],"runtime":360,"title":"Smiley's People","imdb":{"rating":8.7}},{"imdb":{"rating":8.7},"genres":["Adventure","Drama","Sci-Fi"],"title":"Interstellar","runtime":169},{"genres":["Biography","Drama","History"],"runtime":382,"title":"Jesus of Nazareth","imdb":{"rating":8.7}}],"executionTimeMs":1285,"queryOperators":["$in","$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies released between 2005 and 2015 with more than 50 comments and runtime less than 90 minutes, sorted by number of comments","dbQuery":"db.movies.find(\n  {\n    released: {\n      $gte: new Date(\"2005-01-01\"),\n      $lte: new Date(\"2015-12-31\")\n    },\n    num_mflix_comments: { $gt: 50 },\n    runtime: { $lt: 90 }\n  },\n  {\n    title: 1,\n    runtime: 1,\n    num_mflix_comments: 1,\n    released: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 })","language":"mongosh","result":[{"title":"The Simpsons Movie","num_mflix_comments":144,"released":"2007-07-27T00:00:00.000Z","runtime":87},{"title":"The Uninvited","num_mflix_comments":134,"released":"2009-01-30T00:00:00.000Z","runtime":87},{"title":"The Unborn","num_mflix_comments":131,"released":"2009-01-09T00:00:00.000Z","runtime":88},{"title":"Madagascar","num_mflix_comments":121,"released":"2005-05-27T00:00:00.000Z","runtime":86},{"title":"G-Force","num_mflix_comments":121,"released":"2009-07-24T00:00:00.000Z","runtime":88},{"title":"Quarantine","num_mflix_comments":121,"released":"2008-10-10T00:00:00.000Z","runtime":89},{"title":"Borat: Cultural Learnings of America for Make Benefit Glorious Nation of Kazakhstan","num_mflix_comments":115,"released":"2006-11-03T00:00:00.000Z","runtime":84}],"executionTimeMs":1446,"queryOperators":["$gte","$lte","$gt","$lt"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find action and thriller movies from 2008 to 2012 with runtime between 100 and 140 minutes, IMDb rating above 6.5, and at least 10 user comments","dbQuery":"db.movies.find({\n  genres: { $in: [\"Action\", \"Thriller\"] },\n  year: { $gte: 2008, $lte: 2012 },\n  runtime: { $gte: 100, $lte: 140, $exists: true },\n  \"imdb.rating\": { $gt: 6.5, $exists: true },\n  num_mflix_comments: { $gte: 10, $exists: true }\n}, {\n  title: 1,\n  genres: 1,\n  runtime: 1,\n  imdb: 1,\n  num_mflix_comments: 1,\n  year: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":6.9,"votes":243311,"id":1409024},"year":2012,"genres":["Action","Comedy","Sci-Fi"],"title":"Men in Black 3","num_mflix_comments":138,"runtime":106},{"imdb":{"rating":6.6,"votes":61958,"id":844708},"year":2009,"genres":["Horror","Thriller"],"title":"The Last House on the Left","num_mflix_comments":144,"runtime":110},{"imdb":{"rating":6.7,"votes":280682,"id":493464},"year":2008,"genres":["Action","Crime","Fantasy"],"title":"Wanted","num_mflix_comments":153,"runtime":110},{"genres":["Action","Adventure","Sci-Fi"],"runtime":112,"num_mflix_comments":127,"title":"The Incredible Hulk","year":2008,"imdb":{"rating":6.9,"votes":301837,"id":800080}},{"imdb":{"rating":8,"votes":494849,"id":1136608},"year":2009,"genres":["Action","Sci-Fi","Thriller"],"title":"District 9","num_mflix_comments":111,"runtime":112},{"imdb":{"rating":6.7,"votes":265776,"id":438488},"year":2009,"genres":["Action","Sci-Fi"],"title":"Terminator Salvation","num_mflix_comments":158,"runtime":115},{"imdb":{"rating":7,"votes":195183,"id":411477},"year":2008,"genres":["Action","Adventure","Fantasy"],"title":"Hellboy II: The Golden Army","num_mflix_comments":155,"runtime":120},{"imdb":{"rating":7,"votes":123262,"id":1148204},"year":2009,"genres":["Horror","Mystery","Thriller"],"title":"Orphan","num_mflix_comments":117,"runtime":123},{"imdb":{"rating":8,"votes":471510,"id":796366},"year":2009,"genres":["Action","Adventure","Sci-Fi"],"title":"Star Trek","num_mflix_comments":142,"runtime":127},{"imdb":{"rating":7.6,"votes":431839,"id":988045},"year":2009,"genres":["Action","Adventure","Crime"],"title":"Sherlock Holmes","num_mflix_comments":157,"runtime":128},{"imdb":{"rating":7.1,"votes":408170,"id":948470},"year":2012,"genres":["Action","Adventure","Fantasy"],"title":"The Amazing Spider-Man","num_mflix_comments":109,"runtime":136},{"imdb":{"rating":8.1,"votes":679494,"id":1130884},"year":2010,"genres":["Mystery","Thriller"],"title":"Shutter Island","num_mflix_comments":142,"runtime":138}],"executionTimeMs":2406,"queryOperators":["$in","$gte","$lte","$exists","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies with runtime between 95 and 130 minutes that have both IMDb rating above 7.0 and Rotten Tomatoes viewer rating above 3.5, more than 25 comments, and belong to either comedy, drama, or action genres, released in the last 15 years before 2017","dbQuery":"db.movies.find({\n  $and: [\n    { runtime: { $gte: 95, $lte: 130 } },\n    { \"imdb.rating\": { $gt: 7.0 } },\n    { \"tomatoes.viewer.rating\": { $gt: 3.5 } },\n    { num_mflix_comments: { $gt: 25 } },\n    { genres: { $in: [\"Comedy\", \"Drama\", \"Action\"] } },\n    { year: { $gte: 2002 } }\n  ]\n}, {\n  title: 1,\n  runtime: 1,\n  genres: 1,\n  imdb: 1,\n  tomatoes: 1,\n  num_mflix_comments: 1,\n  year: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":8.3,"votes":575622,"id":1049413},"year":2009,"genres":["Animation","Adventure","Comedy"],"title":"Up","tomatoes":{"website":"http://Disney.com/UP","viewer":{"rating":3.8,"numReviews":1197907,"meter":90},"dvd":"2009-11-10T00:00:00.000Z","critic":{"rating":8.7,"numReviews":281,"meter":98},"boxOffice":"$293.0M","consensus":"An exciting, funny, and poignant adventure, Up offers an impeccably crafted story told with wit and arranged with depth, as well as yet another visual Pixar treat.","rotten":5,"production":"Walt Disney Pictures","lastUpdated":"2015-09-10T17:04:19.000Z","fresh":276},"num_mflix_comments":143,"runtime":96},{"imdb":{"rating":7.8,"votes":536500,"id":1119646},"year":2009,"genres":["Comedy"],"title":"The Hangover","tomatoes":{"website":"http://hangovermovie.warnerbros.com/","viewer":{"rating":4,"numReviews":940853,"meter":84},"dvd":"2009-12-15T00:00:00.000Z","critic":{"rating":6.8,"numReviews":225,"meter":79},"boxOffice":"$277.3M","consensus":"With a clever script and hilarious interplay among the cast, The Hangover nails just the right tone of raunchy humor, and the non-stop laughs overshadow any flaw.","rotten":48,"production":"Warner Bros. Pictures","lastUpdated":"2015-09-12T17:52:53.000Z","fresh":177},"num_mflix_comments":144,"runtime":100},{"imdb":{"rating":8.2,"votes":600064,"id":266543},"year":2003,"genres":["Animation","Adventure","Comedy"],"title":"Finding Nemo","tomatoes":{"website":"http://disney.go.com/disneyvideos/animatedfilms/findingnemo/index2.html","viewer":{"rating":3.8,"numReviews":33350664,"meter":86},"dvd":"2013-05-07T00:00:00.000Z","critic":{"rating":8.7,"numReviews":253,"meter":99},"boxOffice":"$41.1M","consensus":"Breathtakingly lovely and grounded by the stellar efforts of a well-chosen cast, Finding Nemo adds another beautifully crafted gem to Pixar's crown.","rotten":3,"production":"Walt Disney Pictures","lastUpdated":"2015-09-12T17:09:21.000Z","fresh":250},"num_mflix_comments":120,"runtime":100},{"imdb":{"rating":7.2,"votes":477519,"id":480249},"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","tomatoes":{"website":"http://iamlegend.warnerbros.com/","viewer":{"rating":3.6,"numReviews":1127427,"meter":68},"dvd":"2008-03-18T00:00:00.000Z","critic":{"rating":6.4,"numReviews":207,"meter":70},"boxOffice":"$256.3M","consensus":"I Am Legend overcomes questionable special effects and succeeds largely on the strength of Will Smith's mesmerizing performance.","rotten":62,"production":"Warner Bros. Pictures","lastUpdated":"2015-09-10T17:12:48.000Z","fresh":145},"num_mflix_comments":148,"runtime":101},{"imdb":{"rating":8.1,"votes":436387,"id":440963},"year":2007,"genres":["Action","Thriller"],"title":"The Bourne Ultimatum","tomatoes":{"website":"http://www.thebourneultimatum.com/","viewer":{"rating":4.1,"numReviews":1919727,"meter":91},"dvd":"2007-12-11T00:00:00.000Z","critic":{"rating":8,"numReviews":257,"meter":93},"boxOffice":"$227.4M","consensus":"The Bourne Ultimatum is an intelligent, finely tuned non-stop thrill ride. Another strong performance from Matt Damon and sharp camerawork from Paul Greengrass make this the finest installment of the Bourne trilogy.","rotten":18,"production":"Universal Pictures","lastUpdated":"2015-09-12T17:24:40.000Z","fresh":239},"num_mflix_comments":140,"runtime":115},{"imdb":{"rating":7.2,"votes":289428,"id":405422},"year":2005,"genres":["Comedy","Romance"],"title":"The 40-Year-Old Virgin","tomatoes":{"website":"http://www.the40yearoldvirgin.com/","viewer":{"rating":3.6,"numReviews":992433,"meter":84},"dvd":"2005-12-13T00:00:00.000Z","critic":{"rating":7.2,"numReviews":181,"meter":85},"boxOffice":"$109.2M","consensus":"Steve Carell's first star turn scores big with a tender treatment of its titular underdog, using raunchy but realistically funny comedy to connect with adult audiences.","rotten":27,"production":"Universal Pictures","lastUpdated":"2015-09-12T18:14:02.000Z","fresh":154},"num_mflix_comments":137,"runtime":116},{"imdb":{"rating":7.5,"votes":260495,"id":408236},"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","tomatoes":{"website":"http://www.SweeneyToddMovie.com/","viewer":{"rating":3.9,"numReviews":1694022,"meter":81},"dvd":"2008-04-01T00:00:00.000Z","critic":{"rating":7.7,"numReviews":220,"meter":86},"boxOffice":"$52.8M","consensus":"Full of pith and Grand Guignol grossness, this macabre musical is perfectly helmed and highly entertaining. Tim Burton masterfully stages the musical in a way that will make you think he has done this many times before.","rotten":31,"production":"DreamWorks/Paramount Studios","lastUpdated":"2015-09-13T17:10:48.000Z","fresh":189},"num_mflix_comments":138,"runtime":116},{"imdb":{"rating":7.2,"votes":230365,"id":317219},"year":2006,"genres":["Animation","Adventure","Comedy"],"title":"Cars","tomatoes":{"website":"http://www.carsthemovie.com","viewer":{"rating":3.7,"numReviews":874703,"meter":80},"dvd":"2006-11-07T00:00:00.000Z","critic":{"rating":6.9,"numReviews":196,"meter":74},"boxOffice":"$244.1M","consensus":"Cars offers visual treats that more than compensate for its somewhat thinly written story, adding up to a satisfying diversion for younger viewers.","rotten":51,"production":"Buena Vista","lastUpdated":"2015-09-12T17:14:10.000Z","fresh":145},"num_mflix_comments":123,"runtime":117},{"imdb":{"rating":7.8,"votes":558171,"id":416449},"year":2006,"genres":["Action","Fantasy","War"],"title":"300","tomatoes":{"website":"http://300themovie.warnerbros.com/","viewer":{"rating":4.1,"numReviews":1431885,"meter":89},"dvd":"2007-07-31T00:00:00.000Z","critic":{"rating":6.1,"numReviews":226,"meter":60},"boxOffice":"$210.6M","consensus":"A simple-minded but visually exciting experience, full of blood, violence, and ready-made movie quotes.","rotten":91,"production":"Warner Bros. Pictures","lastUpdated":"2015-09-10T17:12:35.000Z","fresh":135},"num_mflix_comments":145,"runtime":117},{"imdb":{"rating":7.9,"votes":365161,"id":258463},"year":2002,"genres":["Action","Mystery","Thriller"],"title":"The Bourne Identity","tomatoes":{"website":"http://www.thebourneidentity.com/","viewer":{"rating":3.9,"numReviews":962213,"meter":93},"dvd":"2003-01-21T00:00:00.000Z","critic":{"rating":7,"numReviews":185,"meter":83},"boxOffice":"$121.5M","consensus":"Expertly blending genre formula with bursts of unexpected wit, The Bourne Identity is an action thriller that delivers -- and then some.","rotten":31,"production":"Universal Pictures","lastUpdated":"2015-09-12T18:28:18.000Z","fresh":154},"num_mflix_comments":136,"runtime":119},{"imdb":{"rating":8,"votes":584956,"id":1010048},"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","tomatoes":{"website":"http://www.foxsearchlight.com/slumdogmillionaire/","viewer":{"rating":4,"numReviews":1153204,"meter":90},"dvd":"2009-03-31T00:00:00.000Z","critic":{"rating":8.4,"numReviews":264,"meter":92},"boxOffice":"$141.2M","consensus":"Visually dazzling and emotionally resonant, Slumdog Millionaire is a film that's both entertaining and powerful.","rotten":20,"production":"Fox Searchlight Pictures","lastUpdated":"2015-09-12T19:09:55.000Z","fresh":244},"num_mflix_comments":127,"runtime":120},{"imdb":{"rating":8,"votes":471510,"id":796366},"year":2009,"genres":["Action","Adventure","Sci-Fi"],"title":"Star Trek","tomatoes":{"website":"http://www.startrekmovie.com/","viewer":{"rating":4.1,"numReviews":742527,"meter":91},"dvd":"2009-11-17T00:00:00.000Z","critic":{"rating":8.2,"numReviews":329,"meter":95},"boxOffice":"$257.7M","consensus":"Star Trek reignites a classic franchise with action, humor, a strong story, and brilliant visuals, and will please traditional Trekkies and new fans alike.","rotten":17,"production":"IMAX","lastUpdated":"2015-09-10T17:12:49.000Z","fresh":312},"num_mflix_comments":142,"runtime":127},{"imdb":{"rating":7.2,"votes":318064,"id":337978},"year":2007,"genres":["Action","Adventure","Thriller"],"title":"Live Free or Die Hard","tomatoes":{"website":"http://www.livefreeordiehard.com/","viewer":{"rating":3.9,"numReviews":1858249,"meter":86},"dvd":"2007-11-20T00:00:00.000Z","critic":{"rating":6.8,"numReviews":206,"meter":82},"boxOffice":"$134.5M","consensus":"Live Free or Die Hard may be preposterous, but it's an efficient, action-packed summer popcorn flick with thrilling stunts and a commanding performance by Bruce Willis. Fans of the previous Die Hard films will not be disappointed.","rotten":38,"production":"20th Century Fox","lastUpdated":"2015-09-12T17:15:05.000Z","fresh":168},"num_mflix_comments":141,"runtime":128},{"imdb":{"rating":7.6,"votes":431839,"id":988045},"year":2009,"genres":["Action","Adventure","Crime"],"title":"Sherlock Holmes","tomatoes":{"website":"http://sherlock-holmes-movie.warnerbros.com/","viewer":{"rating":3.7,"numReviews":767678,"meter":77},"dvd":"2010-03-30T00:00:00.000Z","critic":{"rating":6.2,"numReviews":229,"meter":70},"boxOffice":"$208.7M","consensus":"Guy Ritchie's directorial style might not be quite the best fit for an update on the legendary detective, but Sherlock Holmes benefits from the elementary appeal of a strong performance by Robert Downey, Jr.","rotten":68,"production":"Warner Bros. Pictures/Village Roadshow","lastUpdated":"2015-09-13T10:04:06.000Z","fresh":161},"num_mflix_comments":157,"runtime":128}],"executionTimeMs":1275,"queryOperators":["$and","$gte","$lte","$gt","$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find movies that are either short films under 85 minutes with IMDb rating above 8.0, or feature films between 110-140 minutes with both IMDb rating above 7.5 and Rotten Tomatoes critic meter above 80%, and have received more than 30 comments, focusing on drama, thriller, or documentary genres from 2005 onwards","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2005 },\n      num_mflix_comments: { $gt: 30 },\n      genres: { $in: [\"Drama\", \"Thriller\", \"Documentary\"] }\n    }\n  },\n  {\n    $match: {\n      $or: [\n        {\n          runtime: { $lt: 85 },\n          \"imdb.rating\": { $gt: 8.0 }\n        },\n        {\n          runtime: { $gte: 110, $lte: 140 },\n          \"imdb.rating\": { $gt: 7.5 },\n          \"tomatoes.critic.meter\": { $gt: 80 }\n        }\n      ]\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      runtime: 1,\n      genres: 1,\n      imdb: {\n        rating: \"$imdb.rating\"\n      },\n      tomatoes: {\n        critic: {\n          meter: \"$tomatoes.critic.meter\"\n        }\n      },\n      num_mflix_comments: 1,\n      year: 1\n    }\n  },\n  {\n    $sort: {\n      \"imdb.rating\": -1,\n      num_mflix_comments: -1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":2007,"genres":["Action","Thriller"],"title":"The Bourne Ultimatum","tomatoes":{"critic":{"meter":93}},"num_mflix_comments":140,"runtime":115},{"imdb":{"rating":8},"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","tomatoes":{"critic":{"meter":92}},"num_mflix_comments":127,"runtime":120},{"imdb":{"rating":8},"year":2009,"genres":["Action","Sci-Fi","Thriller"],"title":"District 9","tomatoes":{"critic":{"meter":90}},"num_mflix_comments":111,"runtime":112}],"executionTimeMs":1236,"queryOperators":["$match","$gte","$gt","$in","$or","$lt","$lte","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the user account for email address finn_jones@gameofthron.es","dbQuery":"db.users.find(\n  { email: \"finn_jones@gameofthron.es\" },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es"}],"executionTimeMs":1200,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the user profile for account ID 59b99dd8cfa9a34dcd7885f7","dbQuery":"db.users.find({\"_id\": ObjectId(\"59b99dd8cfa9a34dcd7885f7\")})","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es","password":"$2b$12$Eb5TLqYLS74pLP9r.2agNe56ht1dvFkQOCODxku8KQmLfldBGa7Cu"}],"executionTimeMs":1293,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all users with the name containing 'Loras'","dbQuery":"db.users.find(\n  { name: { $regex: \"Loras\", $options: \"i\" } },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es"}],"executionTimeMs":1214,"queryOperators":["$regex","$options"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 5 users who have accounts but no active sessions in the system","dbQuery":"db.users.aggregate([\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"userSessions\"\n    }\n  },\n  {\n    $match: {\n      userSessions: { $size: 0 }\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      name: 1,\n      email: 1,\n      password: 1,\n      hash: 1\n    }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":"59b99db4cfa9a34dcd7885b6","name":"Ned Stark","email":"sean_bean@gameofthron.es","password":"$2b$12$UREFwsRUoyF0CRqGNK0LzO0HM/jLhgUCNNIJ9RJAqMUQ74crlJ1Vu"},{"_id":"59b99db4cfa9a34dcd7885b7","name":"Robert Baratheon","email":"mark_addy@gameofthron.es","password":"$2b$12$yGqxLG9LZpXA2xVDhuPnSOZd.VURVkz7wgOLY3pnO0s7u2S1ZO32y"},{"_id":"59b99db5cfa9a34dcd7885b8","name":"Jaime Lannister","email":"nikolaj_coster-waldau@gameofthron.es","password":"$2b$12$6vz7wiwO.EI5Rilvq1zUc./9480gb1uPtXcahDxIadgyC3PS8XCUK"},{"_id":"59b99db5cfa9a34dcd7885b9","name":"Catelyn Stark","email":"michelle_fairley@gameofthron.es","password":"$2b$12$fiaTH5Sh1zKNFX2i/FTEreWGjxoJxvmV7XL.qlfqCr8CwOxK.mZWS"},{"_id":"59b99db6cfa9a34dcd7885ba","name":"Cersei Lannister","email":"lena_headey@gameofthron.es","password":"$2b$12$FExjgr7CLhNCa.oUsB9seub8mqcHzkJCFZ8heMc8CeIKOZfeTKP8m"}],"executionTimeMs":1262,"queryOperators":["$lookup","$match","$size","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Verify if the session for user ID 't3qulfeem@kwiv5.6ur' is linked to a valid user account","dbQuery":"db.sessions.aggregate([\n  {\n    $match: {\n      user_id: \"t3qulfeem@kwiv5.6ur\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"users\",\n      localField: \"user_id\",\n      foreignField: \"email\",\n      as: \"user_data\"\n    }\n  },\n  {\n    $project: {\n      session_exists: { $literal: true },\n      user_exists: { $gt: [{ $size: \"$user_data\" }, 0] },\n      session_data: {\n        _id: \"$_id\",\n        user_id: \"$user_id\",\n        jwt: \"$jwt\",\n        hash: \"$hash\"\n      },\n      user_data: { $arrayElemAt: [\"$user_data\", 0] }\n    }\n  },\n  {\n    $unionWith: {\n      coll: \"sessions\",\n      pipeline: [\n        {\n          $match: {\n            user_id: \"t3qulfeem@kwiv5.6ur\"\n          }\n        },\n        {\n          $count: \"session_count\"\n        },\n        {\n          $match: {\n            session_count: 0\n          }\n        },\n        {\n          $project: {\n            session_exists: { $literal: false },\n            user_exists: { $literal: false },\n            session_data: null,\n            user_data: null\n          }\n        }\n      ]\n    }\n  },\n  {\n    $limit: 1\n  }\n])","language":"mongosh","result":[{"_id":"5a97f9c91c807bb9c6eb5fb4","session_exists":true,"user_exists":false,"session_data":{"_id":"5a97f9c91c807bb9c6eb5fb4","user_id":"t3qulfeem@kwiv5.6ur","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MTk5MDkzMjEsIm5iZiI6MTUxOTkwOTMyMSwianRpIjoiNmJlZDAwMWYtNTFiYi00NzVhLTgxZDAtMDcwNGE5Mjk0MWZlIiwiZXhwIjoxNTE5OTEwMjIxLCJpZGVudGl0eSI6eyJlbWFpbCI6InQzcXVsZmVlbUBrd2l2NS42dXIiLCJuYW1lIjoiM2lveHJtZnF4IiwicGFzc3dvcmQiOm51bGx9LCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MiLCJ1c2VyX2NsYWltcyI6eyJ1c2VyIjp7ImVtYWlsIjoidDNxdWxmZWVtQGt3aXY1LjZ1ciIsIm5hbWUiOiIzaW94cm1mcXgiLCJwYXNzd29yZCI6bnVsbH19fQ.ejtr_NyZyBronWMKuE0RFTjWej--T0zGrdc_iymGtVs"}}],"executionTimeMs":1273,"queryOperators":["$match","$lookup","$project","$literal","$gt","$size","$arrayElemAt","$unionWith","$count","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 3 users who have posted comments but currently have no active sessions, showing their last comment date and account details","dbQuery":"db.users.aggregate([\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"user_comments\"\n    }\n  },\n  {\n    $match: {\n      \"user_comments.0\": { $exists: true }\n    }\n  },\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"user_sessions\"\n    }\n  },\n  {\n    $addFields: {\n      last_comment_date: {\n        $max: \"$user_comments.date\"\n      },\n      has_active_session: {\n        $gt: [{ $size: \"$user_sessions\" }, 0]\n      }\n    }\n  },\n  {\n    $match: {\n      has_active_session: false\n    }\n  },\n  {\n    $project: {\n      user: {\n        _id: \"$_id\",\n        name: \"$name\",\n        email: \"$email\",\n        password: \"$password\",\n        hash: \"$hash\"\n      },\n      last_comment_date: 1,\n      has_active_session: 1\n    }\n  },\n  {\n    $limit: 3\n  }\n])","language":"mongosh","result":[{"_id":"59b99db4cfa9a34dcd7885b6","last_comment_date":"2017-02-28T01:55:23.000Z","has_active_session":false,"user":{"_id":"59b99db4cfa9a34dcd7885b6","name":"Ned Stark","email":"sean_bean@gameofthron.es","password":"$2b$12$UREFwsRUoyF0CRqGNK0LzO0HM/jLhgUCNNIJ9RJAqMUQ74crlJ1Vu"}},{"_id":"59b99db4cfa9a34dcd7885b7","last_comment_date":"2017-07-18T19:20:35.000Z","has_active_session":false,"user":{"_id":"59b99db4cfa9a34dcd7885b7","name":"Robert Baratheon","email":"mark_addy@gameofthron.es","password":"$2b$12$yGqxLG9LZpXA2xVDhuPnSOZd.VURVkz7wgOLY3pnO0s7u2S1ZO32y"}},{"_id":"59b99db5cfa9a34dcd7885b8","last_comment_date":"2017-02-01T23:18:49.000Z","has_active_session":false,"user":{"_id":"59b99db5cfa9a34dcd7885b8","name":"Jaime Lannister","email":"nikolaj_coster-waldau@gameofthron.es","password":"$2b$12$6vz7wiwO.EI5Rilvq1zUc./9480gb1uPtXcahDxIadgyC3PS8XCUK"}}],"executionTimeMs":2718,"queryOperators":["$lookup","$match","$exists","$addFields","$max","$gt","$size","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the user account for email address finn_jones@gameofthron.es and show me their name and email","dbQuery":"db.users.find({email: \"finn_jones@gameofthron.es\"}, {name: 1, email: 1, _id: 0})","language":"mongosh","result":[{"name":"Loras Tyrell","email":"finn_jones@gameofthron.es"}],"executionTimeMs":1164,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me users whose email contains 'gameofthron.es' with their session status and count of comments they've made, limited to 5 results","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      email: { $regex: /gameofthron\\.es/, $options: \"i\" }\n    }\n  },\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"session_info\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"user_comments\"\n    }\n  },\n  {\n    $addFields: {\n      has_session: { $gt: [{ $size: \"$session_info\" }, 0] },\n      comment_count: { $size: \"$user_comments\" }\n    }\n  },\n  {\n    $project: {\n      user: {\n        _id: \"$_id\",\n        name: \"$name\",\n        email: \"$email\",\n        password: \"$password\",\n        hash: \"$hash\"\n      },\n      has_session: 1,\n      session_data: { $arrayElemAt: [\"$session_info\", 0] },\n      comment_count: 1\n    }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":"59b99db7cfa9a34dcd7885bd","has_session":false,"comment_count":238,"user":{"_id":"59b99db7cfa9a34dcd7885bd","name":"Petyr Baelish","email":"aidan_gillen@gameofthron.es","password":"$2b$12$qM.YvmiekyYYY7p7phpK3OicbRCDkN7ESwYAnG/o9YnfHC0Mhkmbi"}},{"_id":"59b99dbbcfa9a34dcd7885c3","has_session":false,"comment_count":229,"user":{"_id":"59b99dbbcfa9a34dcd7885c3","name":"Theon Greyjoy","email":"alfie_allen@gameofthron.es","password":"$2b$12$x574mziridS3mEQVTbKbY.lK.ngIDyZJnTw17G7Gk6n4lnWVSrWL."}},{"_id":"59b99dcfcfa9a34dcd7885ee","has_session":false,"comment_count":200,"user":{"_id":"59b99dcfcfa9a34dcd7885ee","name":"Irri","email":"amrita_acharia@gameofthron.es","password":"$2b$12$mTvd3eFqgflqO74rS95zKOFU3wKRe5alg.iM23AknNnpZ/TdT95eK"}},{"_id":"59b99ddbcfa9a34dcd7885ff","has_session":false,"comment_count":237,"user":{"_id":"59b99ddbcfa9a34dcd7885ff","name":"Qyburn","email":"anton_lesser@gameofthron.es","password":"$2b$12$Aogz..TkpBMB5UFfgIRSP.dy7DX9qgOi587FSORqRWqApfbw3x7wy"}},{"_id":"59b99dcccfa9a34dcd7885e6","has_session":false,"comment_count":236,"user":{"_id":"59b99dcccfa9a34dcd7885e6","name":"Rickon Stark","email":"art_parkinson@gameofthron.es","password":"$2b$12$LKBf/wrMe29RwjUCkm6sq.AfuAXshbX6Evys3twd9vaGEsEm6YBqC"}}],"executionTimeMs":1759,"queryOperators":["$match","$regex","$options","$lookup","$addFields","$gt","$size","$project","$arrayElemAt","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Check if user ID t3qulfeem@kwiv5.6ur has an active session and show the session details","dbQuery":"db.sessions.find(\n  { user_id: \"t3qulfeem@kwiv5.6ur\" },\n  { _id: 1, user_id: 1, jwt: 1 }\n)","language":"mongosh","result":[{"_id":"5a97f9c91c807bb9c6eb5fb4","user_id":"t3qulfeem@kwiv5.6ur","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MTk5MDkzMjEsIm5iZiI6MTUxOTkwOTMyMSwianRpIjoiNmJlZDAwMWYtNTFiYi00NzVhLTgxZDAtMDcwNGE5Mjk0MWZlIiwiZXhwIjoxNTE5OTEwMjIxLCJpZGVudGl0eSI6eyJlbWFpbCI6InQzcXVsZmVlbUBrd2l2NS42dXIiLCJuYW1lIjoiM2lveHJtZnF4IiwicGFzc3dvcmQiOm51bGx9LCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MiLCJ1c2VyX2NsYWltcyI6eyJ1c2VyIjp7ImVtYWlsIjoidDNxdWxmZWVtQGt3aXY1LjZ1ciIsIm5hbWUiOiIzaW94cm1mcXgiLCJwYXNzd29yZCI6bnVsbH19fQ.ejtr_NyZyBronWMKuE0RFTjWej--T0zGrdc_iymGtVs"}],"executionTimeMs":1208,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Look up the user with email joe_dempsie@gameofthron.es and return their user ID, name, and email address","dbQuery":"db.users.find(\n  { email: \"joe_dempsie@gameofthron.es\" },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99dc3cfa9a34dcd7885d5","name":"Gendry","email":"joe_dempsie@gameofthron.es"}],"executionTimeMs":1178,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"For email eugene_simon@gameofthron.es, verify the user account exists with a password hash and check if they have posted any comments to confirm account activity","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      email: \"eugene_simon@gameofthron.es\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"userComments\"\n    }\n  },\n  {\n    $project: {\n      user: {\n        name: \"$name\",\n        email: \"$email\",\n        hasPassword: {\n          $and: [\n            { $ne: [\"$password\", null] },\n            { $ne: [\"$password\", \"\"] }\n          ]\n        }\n      },\n      commentCount: { $size: \"$userComments\" }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59b99dcecfa9a34dcd7885ea","user":{"name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","hasPassword":true},"commentCount":225}],"executionTimeMs":1522,"queryOperators":["$match","$lookup","$project","$and","$ne","$size"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the first 10 users who have accounts but no active sessions, showing their name and email addresses","dbQuery":"db.users.aggregate([\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"sessions\"\n    }\n  },\n  {\n    $match: {\n      sessions: { $size: 0 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      name: 1,\n      email: 1\n    }\n  },\n  {\n    $limit: 10\n  }\n])","language":"mongosh","result":[{"name":"Ned Stark","email":"sean_bean@gameofthron.es"},{"name":"Robert Baratheon","email":"mark_addy@gameofthron.es"},{"name":"Jaime Lannister","email":"nikolaj_coster-waldau@gameofthron.es"},{"name":"Catelyn Stark","email":"michelle_fairley@gameofthron.es"},{"name":"Cersei Lannister","email":"lena_headey@gameofthron.es"},{"name":"Daenerys Targaryen","email":"emilia_clarke@gameofthron.es"},{"name":"Jorah Mormont","email":"iain_glen@gameofthron.es"},{"name":"Petyr Baelish","email":"aidan_gillen@gameofthron.es"},{"name":"Viserys Targaryen","email":"harry_lloyd@gameofthron.es"},{"name":"Jon Snow","email":"kit_harington@gameofthron.es"}],"executionTimeMs":1182,"queryOperators":["$lookup","$match","$size","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the user account for email address 'finn_jones@gameofthron.es'","dbQuery":"db.users.find({email: \"finn_jones@gameofthron.es\"})","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es","password":"$2b$12$Eb5TLqYLS74pLP9r.2agNe56ht1dvFkQOCODxku8KQmLfldBGa7Cu"}],"executionTimeMs":1223,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all user accounts with the name 'Loras Tyrell'","dbQuery":"db.users.find({name: \"Loras Tyrell\"})","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es","password":"$2b$12$Eb5TLqYLS74pLP9r.2agNe56ht1dvFkQOCODxku8KQmLfldBGa7Cu"}],"executionTimeMs":1187,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 most recent comments from user 'eugene_simon@gameofthron.es' to check if they're posted under the right name","dbQuery":"db.comments.find(\n  { email: \"eugene_simon@gameofthron.es\" }\n).sort({ date: -1 }).limit(5)","language":"mongosh","result":[{"_id":"5a9427658b0beebeb696ebe1","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","movie_id":"573a13acf29313caabd28635","text":"Eveniet perferendis laborum ut quidem. Reprehenderit voluptatum ea est reiciendis impedit nihil eius. Odio aliquam recusandae necessitatibus.","date":"2017-04-01T17:49:09.000Z"},{"_id":"5a9427658b0beebeb69718c7","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","movie_id":"573a13b3f29313caabd3ae45","text":"Est enim minima quam iste architecto. Placeat quas aliquam sint veniam ipsa corporis optio quasi. Nemo aspernatur omnis nesciunt itaque. Molestias temporibus architecto harum tempore.","date":"2017-02-15T07:02:23.000Z"},{"_id":"5a9427658b0beebeb6967922","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","movie_id":"573a13a0f29313caabd03ac9","text":"Deserunt dolorum suscipit vitae ipsum. Maiores ut porro quis corporis incidunt dolor distinctio. Perferendis error vero ad voluptates placeat distinctio maiores.","date":"2017-01-02T06:31:29.000Z"},{"_id":"5a9427658b0beebeb6976cd6","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","movie_id":"573a13bef29313caabd5c293","text":"Ratione quisquam sit similique ullam vero. Nihil porro itaque impedit vero dolor commodi. Ratione quisquam voluptas autem. Odio facere dolor cupiditate odit.","date":"2016-12-16T15:22:25.000Z"},{"_id":"5a9427658b0beebeb696cd79","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","movie_id":"573a13a9f29313caabd1ef67","text":"Beatae exercitationem facere quas quasi error. Facilis magni atque eveniet neque corporis minus amet. Ipsa maxime in optio iusto quo.","date":"2016-11-09T16:23:38.000Z"}],"executionTimeMs":1257,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the total number of comments and the most recent comment date for user 'finn_jones@gameofthron.es' to investigate missing comment reports","dbQuery":"db.comments.aggregate([\n  {\n    $match: {\n      email: \"finn_jones@gameofthron.es\"\n    }\n  },\n  {\n    $group: {\n      _id: null,\n      total_comments: { $sum: 1 },\n      most_recent_date: { $max: \"$date\" }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      total_comments: 1,\n      most_recent_date: 1\n    }\n  }\n])","language":"mongosh","result":[{"total_comments":217,"most_recent_date":"2017-02-07T22:40:06.000Z"}],"executionTimeMs":1248,"queryOperators":["$match","$group","$sum","$max","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all unique name and email combinations used in comments that contain the text 'Quia iure maxime' to check for duplicate or misattributed comments","dbQuery":"db.comments.aggregate([\n  {\n    $match: {\n      text: { $regex: \"Quia iure maxime\", $options: \"i\" }\n    }\n  },\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      comment_count: { $sum: 1 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      name: \"$_id.name\",\n      email: \"$_id.email\",\n      comment_count: 1\n    }\n  },\n  {\n    $sort: {\n      comment_count: -1,\n      name: 1\n    }\n  }\n])","language":"mongosh","result":[{"comment_count":1,"name":"Bronn","email":"jerome_flynn@gameofthron.es"}],"executionTimeMs":1210,"queryOperators":["$match","$regex","$options","$group","$sum","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the active session for user ID t3qulfeem@kwiv5.6ur","dbQuery":"db.sessions.find({\"user_id\": \"t3qulfeem@kwiv5.6ur\"})","language":"mongosh","result":[{"_id":"5a97f9c91c807bb9c6eb5fb4","user_id":"t3qulfeem@kwiv5.6ur","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MTk5MDkzMjEsIm5iZiI6MTUxOTkwOTMyMSwianRpIjoiNmJlZDAwMWYtNTFiYi00NzVhLTgxZDAtMDcwNGE5Mjk0MWZlIiwiZXhwIjoxNTE5OTEwMjIxLCJpZGVudGl0eSI6eyJlbWFpbCI6InQzcXVsZmVlbUBrd2l2NS42dXIiLCJuYW1lIjoiM2lveHJtZnF4IiwicGFzc3dvcmQiOm51bGx9LCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MiLCJ1c2VyX2NsYWltcyI6eyJ1c2VyIjp7ImVtYWlsIjoidDNxdWxmZWVtQGt3aXY1LjZ1ciIsIm5hbWUiOiIzaW94cm1mcXgiLCJwYXNzd29yZCI6bnVsbH19fQ.ejtr_NyZyBronWMKuE0RFTjWej--T0zGrdc_iymGtVs"}],"executionTimeMs":1339,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the user account details for email 'finn_jones@gameofthron.es' and check if they have any active sessions","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      email: \"finn_jones@gameofthron.es\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"sessionData\"\n    }\n  },\n  {\n    $addFields: {\n      hasActiveSession: { $gt: [{ $size: \"$sessionData\" }, 0] }\n    }\n  },\n  {\n    $project: {\n      user: {\n        _id: { $toString: \"$_id\" },\n        name: \"$name\",\n        email: \"$email\",\n        password: \"$password\"\n      },\n      hasActiveSession: 1,\n      sessionDetails: {\n        $cond: {\n          if: \"$hasActiveSession\",\n          then: {\n            _id: { $toString: { $arrayElemAt: [\"$sessionData._id\", 0] } },\n            user_id: { $arrayElemAt: [\"$sessionData.user_id\", 0] },\n            jwt: { $arrayElemAt: [\"$sessionData.jwt\", 0] }\n          },\n          else: \"$$REMOVE\"\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","hasActiveSession":false,"user":{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es","password":"$2b$12$Eb5TLqYLS74pLP9r.2agNe56ht1dvFkQOCODxku8KQmLfldBGa7Cu"}}],"executionTimeMs":1300,"queryOperators":["$match","$lookup","$addFields","$gt","$size","$project","$toString","$cond","$arrayElemAt"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me all users whose names start with 'Gendry' along with their session information if they have any active sessions","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      name: { $regex: /^Gendry/, $options: \"i\" }\n    }\n  },\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\", \n      as: \"sessionData\"\n    }\n  },\n  {\n    $project: {\n      _id: { $toString: \"$_id\" },\n      name: 1,\n      email: 1,\n      sessionInfo: {\n        $cond: {\n          if: { $gt: [{ $size: \"$sessionData\" }, 0] },\n          then: {\n            _id: { $toString: { $arrayElemAt: [\"$sessionData._id\", 0] } },\n            user_id: { $arrayElemAt: [\"$sessionData.user_id\", 0] },\n            jwt: { $arrayElemAt: [\"$sessionData.jwt\", 0] }\n          },\n          else: \"$$REMOVE\"\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"name":"Gendry","email":"joe_dempsie@gameofthron.es","_id":"59b99dc3cfa9a34dcd7885d5"}],"executionTimeMs":1258,"queryOperators":["$match","$regex","$options","$lookup","$project","$toString","$cond","$gt","$size","$arrayElemAt"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all users whose name contains 'John' to help identify a customer's account","dbQuery":"db.users.find(\n  { name: { $regex: \"John\", $options: \"i\" } },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99de5cfa9a34dcd788619","name":"Connie Johnson","email":"connie_johnson@fakegmail.com"},{"_id":"59b99deecfa9a34dcd788630","name":"John Roman","email":"john_roman@fakegmail.com"},{"_id":"59b99dfbcfa9a34dcd78864f","name":"John Rice","email":"john_rice@fakegmail.com"},{"_id":"59b99e03cfa9a34dcd788660","name":"John Bishop","email":"john_bishop@fakegmail.com"},{"_id":"59b99e04cfa9a34dcd788663","name":"Nicholas Johnson","email":"nicholas_johnson@fakegmail.com"}],"executionTimeMs":1197,"queryOperators":["$regex","$options"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me all users whose name starts with 'Mar' to help locate a customer's account","dbQuery":"db.users.find(\n  { name: { $regex: /^Mar/i } },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99dbecfa9a34dcd7885cb","name":"Margaery Tyrell","email":"natalie_dormer@gameofthron.es"},{"_id":"59b99e02cfa9a34dcd78865c","name":"Mary Mitchell","email":"mary_mitchell@fakegmail.com"}],"executionTimeMs":1240,"queryOperators":["$regex"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me users whose email contains 'jones' to help identify a customer's account","dbQuery":"db.users.find(\n  { email: { $regex: \"jones\", $options: \"i\" } },\n  { _id: 1, name: 1, email: 1 }\n)","language":"mongosh","result":[{"_id":"59b99dd8cfa9a34dcd7885f7","name":"Loras Tyrell","email":"finn_jones@gameofthron.es"},{"_id":"59b99df5cfa9a34dcd788640","name":"Melissa Jones","email":"melissa_jones@fakegmail.com"}],"executionTimeMs":1157,"queryOperators":["$regex","$options"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the first 10 users whose name contains either 'Chris' or 'Christina' and whose email ends with '.com'","dbQuery":"db.users.find({\n  $and: [\n    { name: { $regex: \"Chris\", $options: \"i\" } },\n    { email: { $regex: \"\\\\.com$\", $options: \"i\" } }\n  ]\n}, {\n  _id: 1,\n  name: 1,\n  email: 1\n}).limit(10)","language":"mongosh","result":[{"_id":"59b99df1cfa9a34dcd788638","name":"Christian Williams","email":"christian_williams@fakegmail.com"},{"_id":"59b99df5cfa9a34dcd788641","name":"Christopher Robinson","email":"christopher_robinson@fakegmail.com"}],"executionTimeMs":1263,"queryOperators":["$and","$regex","$options"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find users whose name ends with 'son' and have commented on movies since 2015, showing their name, email, and most recent comment date for verification","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      name: { $regex: /son$/i }\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"userComments\"\n    }\n  },\n  {\n    $match: {\n      \"userComments.date\": { $gte: ISODate(\"2015-01-01T00:00:00.000Z\") }\n    }\n  },\n  {\n    $addFields: {\n      recentComments: {\n        $filter: {\n          input: \"$userComments\",\n          cond: { $gte: [\"$$this.date\", ISODate(\"2015-01-01T00:00:00.000Z\")] }\n        }\n      }\n    }\n  },\n  {\n    $addFields: {\n      lastCommentDate: { $max: \"$recentComments.date\" }\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      name: 1,\n      email: 1,\n      lastCommentDate: 1\n    }\n  },\n  {\n    $sort: { lastCommentDate: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"59b99e04cfa9a34dcd788663","name":"Nicholas Johnson","email":"nicholas_johnson@fakegmail.com","lastCommentDate":"2017-09-08T00:53:34.000Z"},{"_id":"59b99de8cfa9a34dcd788622","name":"Anthony Thompson","email":"anthony_thompson@fakegmail.com","lastCommentDate":"2017-09-06T03:01:23.000Z"},{"_id":"59b99defcfa9a34dcd788633","name":"Denise Davidson","email":"denise_davidson@fakegmail.com","lastCommentDate":"2017-08-04T18:47:14.000Z"},{"_id":"59b99de5cfa9a34dcd788619","name":"Connie Johnson","email":"connie_johnson@fakegmail.com","lastCommentDate":"2017-06-22T15:41:01.000Z"},{"_id":"59b99df5cfa9a34dcd788641","name":"Christopher Robinson","email":"christopher_robinson@fakegmail.com","lastCommentDate":"2016-08-07T22:57:07.000Z"}],"executionTimeMs":1918,"queryOperators":["$match","$regex","$lookup","$gte","$addFields","$filter","$max","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 Drama movies with the highest number of comments","dbQuery":"db.movies.find(\n  { genres: \"Drama\" },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(5)","language":"mongosh","result":[{"title":"About a Boy","num_mflix_comments":158},{"title":"Bruce Almighty","num_mflix_comments":153},{"title":"Gladiator","num_mflix_comments":152},{"title":"Big Daddy","num_mflix_comments":150},{"title":"Braveheart","num_mflix_comments":148}],"executionTimeMs":1250,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find users with names containing 'Williams' who have made comments between 2010 and 2015, and show their email, total comments, and the date range of their activity","dbQuery":"db.users.aggregate([\n  // Stage 1: Match users with names containing 'Williams' (case-insensitive)\n  {\n    $match: {\n      name: { $regex: /Williams/i }\n    }\n  },\n  \n  // Stage 2: Lookup comments for each user\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"userComments\"\n    }\n  },\n  \n  // Stage 3: Filter comments to only include those between 2010-2015\n  {\n    $addFields: {\n      filteredComments: {\n        $filter: {\n          input: \"$userComments\",\n          cond: {\n            $and: [\n              { $gte: [\"$$this.date\", ISODate(\"2010-01-01T00:00:00.000Z\")] },\n              { $lte: [\"$$this.date\", ISODate(\"2015-12-31T23:59:59.999Z\")] }\n            ]\n          }\n        }\n      }\n    }\n  },\n  \n  // Stage 4: Only include users who have comments in the specified date range\n  {\n    $match: {\n      \"filteredComments.0\": { $exists: true }\n    }\n  },\n  \n  // Stage 5: Project the required fields with calculations\n  {\n    $project: {\n      _id: 1,\n      name: 1,\n      email: 1,\n      totalComments: { $size: \"$filteredComments\" },\n      firstComment: { $min: \"$filteredComments.date\" },\n      lastComment: { $max: \"$filteredComments.date\" }\n    }\n  },\n  \n  // Stage 6: Sort by total comments descending for better readability\n  {\n    $sort: { totalComments: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"59b99df1cfa9a34dcd788638","name":"Christian Williams","email":"christian_williams@fakegmail.com","totalComments":30,"firstComment":"2010-02-24T18:04:46.000Z","lastComment":"2015-12-03T19:57:01.000Z"},{"_id":"59b99deecfa9a34dcd78862f","name":"Justin Williams","email":"justin_williams@fakegmail.com","totalComments":28,"firstComment":"2010-08-23T04:30:36.000Z","lastComment":"2015-12-13T11:45:30.000Z"}],"executionTimeMs":1566,"queryOperators":["$match","$regex","$lookup","$addFields","$filter","$and","$gte","$lte","$exists","$project","$size","$min","$max","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 most commented movies across all genres, including their genre mix, ratings, and the most recent comments with user details","dbQuery":"db.movies.aggregate([\n  // Sort movies by comment count descending and get top 10\n  { $sort: { num_mflix_comments: -1 } },\n  { $limit: 10 },\n  \n  // Lookup recent comments for each movie\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"_id\",\n      foreignField: \"movie_id\",\n      as: \"allComments\"\n    }\n  },\n  \n  // Process comments to get most recent ones\n  {\n    $addFields: {\n      recentComments: {\n        $slice: [\n          {\n            $sortArray: {\n              input: \"$allComments\",\n              sortBy: { date: -1 }\n            }\n          },\n          5  // Get up to 5 most recent comments per movie\n        ]\n      }\n    }\n  },\n  \n  // Project final result structure\n  {\n    $project: {\n      _id: 0,\n      title: { $ifNull: [\"$title\", \"\"] },\n      genres: { $ifNull: [\"$genres\", []] },\n      num_mflix_comments: { $ifNull: [\"$num_mflix_comments\", 0] },\n      imdb: {\n        rating: { $ifNull: [\"$imdb.rating\", null] }\n      },\n      recentComments: {\n        $map: {\n          input: \"$recentComments\",\n          as: \"comment\",\n          in: {\n            text: \"$$comment.text\",\n            name: \"$$comment.name\", \n            email: \"$$comment.email\",\n            date: \"$$comment.date\"\n          }\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":6.4},"title":"The Taking of Pelham 1 2 3","genres":["Action","Crime","Thriller"],"num_mflix_comments":161,"recentComments":[{"text":"Asperiores fugit doloribus ipsum suscipit cupiditate incidunt nihil. Fugit repellendus cum esse velit fugiat. Distinctio vero voluptate tempore vel expedita ut quos.","name":"Robert Baratheon","email":"mark_addy@gameofthron.es","date":"2017-06-28T02:28:25.000Z"},{"text":"Perspiciatis deserunt saepe id nisi blanditiis. Distinctio repellat a deleniti dolorum. Dicta veniam ut ad quis maiores pariatur rem incidunt. Veniam ipsam veniam provident sit.","name":"Shireen Baratheon","email":"kerry_ingram@gameofthron.es","date":"2016-12-18T06:24:57.000Z"},{"text":"Provident omnis excepturi aliquid quidem. Ratione cumque totam culpa alias. Facere quam atque odio quam. Natus numquam exercitationem dignissimos accusamus.","name":"Deborah Kennedy","email":"deborah_kennedy@fakegmail.com","date":"2016-09-22T22:30:38.000Z"},{"text":"Consequatur et neque tempora recusandae in iste. Ad maxime fuga sapiente labore porro itaque tenetur. Vero dolores provident deleniti nobis. Et quas veniam ab aspernatur commodi quo error.","name":"Jamie Santana","email":"jamie_santana@fakegmail.com","date":"2016-07-05T08:35:25.000Z"},{"text":"Aspernatur nulla enim quae quaerat. Alias delectus consequatur sunt mollitia nesciunt dolore officiis. Exercitationem odit nemo ducimus fugit enim.","name":"Donna Russell","email":"donna_russell@fakegmail.com","date":"2016-05-29T09:32:20.000Z"}]},{"imdb":{"rating":6.8},"title":"50 First Dates","genres":["Comedy","Romance"],"num_mflix_comments":158,"recentComments":[{"text":"Velit neque quibusdam fuga molestias. Maxime ipsum optio earum quasi nesciunt ducimus odit. Blanditiis aut cumque qui neque modi quos. Quia quos nemo possimus officia accusamus mollitia.","name":"Olly","email":"brenock_o'connor@gameofthron.es","date":"2017-09-08T07:54:03.000Z"},{"text":"Amet quas iusto minima rem. Libero et voluptatibus id.\nVoluptate dolore eum quae voluptatum commodi necessitatibus. Assumenda odit inventore alias incidunt. Incidunt molestias distinctio quia.","name":"Cersei Lannister","email":"lena_headey@gameofthron.es","date":"2017-04-21T10:53:28.000Z"},{"text":"Velit quasi libero cum aliquam ipsa eum. Dolore distinctio sit voluptatem a. Incidunt dolor ipsam maiores aperiam.","name":"Jeffrey Roberts","email":"jeffrey_roberts@fakegmail.com","date":"2017-04-15T20:20:18.000Z"},{"text":"Nemo culpa animi atque voluptatum cumque hic totam animi. Dolor esse sunt asperiores neque. Dolorem hic cupiditate corrupti eum. Vero eum natus qui eos omnis.","name":"Othell Yarwyck","email":"brian_fortune@gameofthron.es","date":"2017-02-03T16:59:27.000Z"},{"text":"Amet quo ducimus enim delectus soluta numquam inventore. Dolore assumenda iste aliquid debitis velit ducimus maxime. A nesciunt nulla officia dolorem aliquid omnis. Voluptatum et enim odio eligendi.","name":"Kristen Schmidt","email":"kristen_schmidt@fakegmail.com","date":"2017-01-28T09:27:56.000Z"}]},{"imdb":{"rating":7.8},"title":"Ocean's Eleven","genres":["Crime","Thriller"],"num_mflix_comments":158,"recentComments":[{"text":"Minus nam eaque error eaque. Veniam facilis soluta id eveniet voluptatibus molestias. Fugiat ut facilis debitis dolore possimus eum. Enim porro quia aspernatur inventore.","name":"Jeffrey Roberts","email":"jeffrey_roberts@fakegmail.com","date":"2017-09-06T02:51:38.000Z"},{"text":"Soluta recusandae aliquid necessitatibus quisquam in unde earum. Doloribus cum officia ducimus commodi sint. Voluptatum repellendus numquam molestiae quibusdam voluptatem a aliquid.","name":"Michael Moore","email":"michael_moore@fakegmail.com","date":"2017-08-15T00:20:19.000Z"},{"text":"Quisquam a nemo earum similique. Aut repellat quae labore totam. At alias hic natus praesentium. Dolor voluptate qui accusantium consequatur dolor quas.","name":"Jorah Mormont","email":"iain_glen@gameofthron.es","date":"2016-12-28T12:53:50.000Z"},{"text":"Totam perspiciatis voluptates quis sunt. Suscipit delectus ipsa officiis dolor accusantium. Doloribus delectus occaecati quaerat at ut.","name":"Edward Barrett","email":"edward_barrett@fakegmail.com","date":"2016-07-10T12:07:03.000Z"},{"text":"Assumenda eaque nam provident quaerat similique sequi veritatis. Commodi doloremque sunt soluta. Tenetur similique aperiam vel facilis molestiae nihil eveniet error.","name":"Hot Pie","email":"ben_hawkey@gameofthron.es","date":"2016-06-16T19:10:35.000Z"}]},{"imdb":{"rating":7.1},"title":"About a Boy","genres":["Comedy","Drama","Romance"],"num_mflix_comments":158,"recentComments":[{"text":"Illo repellendus reiciendis ipsum velit. Animi optio provident distinctio laborum eveniet voluptates beatae.","name":"Barristan Selmy","email":"ian_mcelhinney@gameofthron.es","date":"2017-04-29T22:31:26.000Z"},{"text":"Architecto alias et qui fugit veritatis accusamus. Alias vel sit ipsa iste unde iste illo. Sunt corrupti commodi aspernatur.","name":"Greg Powell","email":"greg_powell@fakegmail.com","date":"2017-01-01T17:05:36.000Z"},{"text":"Doloribus beatae quos at harum quod provident. Est rem voluptatibus in dolores. Itaque consequuntur similique quae adipisci. Maxime vitae vitae incidunt facere sit in.","name":"Taylor Scott","email":"taylor_scott@fakegmail.com","date":"2016-09-16T00:35:07.000Z"},{"text":"Quasi molestias praesentium ab dolore. Ab sit accusamus amet eum delectus voluptatum vel. Vitae doloremque officiis magni pariatur assumenda omnis pariatur.","name":"Jeffrey Roberts","email":"jeffrey_roberts@fakegmail.com","date":"2016-09-02T01:56:47.000Z"},{"text":"Dolorem natus quas qui deserunt. Hic iste recusandae nam nihil beatae. Facere consequatur vero aut eum. Quas sed ipsam ipsam necessitatibus incidunt voluptates nesciunt.","name":"Brandon Hardy","email":"brandon_hardy@fakegmail.com","date":"2016-07-09T19:11:20.000Z"}]},{"imdb":{"rating":6.7},"title":"Terminator Salvation","genres":["Action","Sci-Fi"],"num_mflix_comments":158,"recentComments":[{"text":"Doloremque ab officiis corrupti. Occaecati laborum blanditiis repellendus. Nemo alias nihil magni quo iure at omnis eius.","name":"Meera Reed","email":"ellie_kendrick@gameofthron.es","date":"2017-09-10T06:24:48.000Z"},{"text":"Inventore neque dicta modi repellat veniam. Suscipit suscipit distinctio sed explicabo. Dicta numquam laudantium voluptas quia necessitatibus. Et id eligendi totam culpa minima quis.","name":"Jojen Reed","email":"thomas_brodie-sangster@gameofthron.es","date":"2017-08-31T20:09:25.000Z"},{"text":"Libero deleniti neque earum sint veritatis quod impedit. Inventore corporis culpa cum enim laudantium voluptates at. Laboriosam explicabo eaque autem magnam officiis.","name":"Morgan Smith","email":"morgan_smith@fakegmail.com","date":"2017-03-15T01:40:34.000Z"},{"text":"Assumenda earum quae iure rerum a. Est aspernatur corrupti non dolorem quia ducimus. A natus perspiciatis occaecati vitae.","name":"Thoros of Myr","email":"paul_kaye@gameofthron.es","date":"2017-01-15T13:31:53.000Z"},{"text":"Illum minus esse sunt ab aut. Enim eaque deserunt cumque facilis aperiam dicta. Velit labore unde vitae doloremque. Aperiam facilis maxime neque libero.","name":"Denise Davidson","email":"denise_davidson@fakegmail.com","date":"2017-01-02T12:24:17.000Z"}]},{"imdb":{"rating":7.6},"title":"Sherlock Holmes","genres":["Action","Adventure","Crime"],"num_mflix_comments":157,"recentComments":[{"text":"Sed placeat corrupti eius ratione praesentium quaerat facere. In excepturi consectetur illo corporis. Expedita maiores iure cumque labore recusandae esse eum sunt.","name":"Kenneth Chandler","email":"kenneth_chandler@fakegmail.com","date":"2017-02-21T00:38:02.000Z"},{"text":"Repellendus ducimus eos ut iure. Possimus laboriosam nobis pariatur corporis quasi accusantium. A mollitia fuga velit similique pariatur quos nam nulla.","name":"Jerry Cabrera","email":"jerry_cabrera@fakegmail.com","date":"2016-10-26T02:23:33.000Z"},{"text":"Inventore voluptatem quae impedit culpa cum perspiciatis atque. Eligendi velit laboriosam iure quae. Magnam recusandae voluptatibus ex illum iusto.","name":"Jonathon Mccullough","email":"jonathon_mccullough@fakegmail.com","date":"2016-10-17T15:06:15.000Z"},{"text":"Nesciunt fugit quod iste qui odit. Excepturi maxime saepe illo dolor. Illo saepe eius modi expedita assumenda. Provident eaque vero illo earum.","name":"Ros","email":"esme_bianco@gameofthron.es","date":"2016-10-16T08:35:39.000Z"},{"text":"Nihil dolore quaerat eius qui cum expedita ipsam. Aliquam harum explicabo at possimus. Vel esse voluptatem est nulla laboriosam quos. Voluptatibus ut quam distinctio voluptas.","name":"Talisa Maegyr","email":"oona_chaplin@gameofthron.es","date":"2016-09-25T16:40:35.000Z"}]},{"imdb":{"rating":7},"title":"The Mummy","genres":["Action","Adventure","Fantasy"],"num_mflix_comments":157,"recentComments":[{"text":"Impedit officia consectetur vel sint vero. Natus beatae ratione dolor provident aspernatur. Velit rem quaerat consequatur perferendis magnam aut mollitia. Eum aperiam aspernatur dicta excepturi illo.","name":"Brienne of Tarth","email":"gwendoline_christie@gameofthron.es","date":"2017-06-10T23:58:07.000Z"},{"text":"Facere nihil odit quaerat ad dicta id provident. Illum eos fugiat repudiandae. Earum officia iure aut dolor.","name":"Victor Fleming","email":"victor_fleming@fakegmail.com","date":"2017-02-05T20:00:23.000Z"},{"text":"At debitis pariatur rem labore harum ipsam. Inventore voluptas neque dolorem odio provident. Quo fugiat ipsa magni porro.","name":"Grenn","email":"mark_stanley@gameofthron.es","date":"2016-11-02T19:58:41.000Z"},{"text":"At fugiat a odit quis laborum illum adipisci. Blanditiis nulla possimus illum iusto hic quod. Quas officiis iusto cupiditate ea unde sed.","name":"Garrett Obrien","email":"garrett_obrien@fakegmail.com","date":"2016-08-17T08:01:14.000Z"},{"text":"Facere dolorum nulla id dolore nobis natus occaecati. Modi laborum reiciendis magni. Possimus recusandae eum quas laboriosam numquam dolor.","name":"Kelsey Smith","email":"kelsey_smith@fakegmail.com","date":"2016-03-14T22:38:12.000Z"}]},{"imdb":{"rating":7},"title":"Hellboy II: The Golden Army","genres":["Action","Adventure","Fantasy"],"num_mflix_comments":155,"recentComments":[{"text":"Incidunt adipisci deleniti minus dolorum ratione ducimus unde. Pariatur itaque quibusdam aliquam quibusdam facere nemo. Omnis harum quam expedita dolor sit est.","name":"Alliser Thorne","email":"owen_teale@gameofthron.es","date":"2017-09-07T11:19:02.000Z"},{"text":"Cum ut doloremque labore assumenda. Inventore dicta eveniet perspiciatis.","name":"Grenn","email":"mark_stanley@gameofthron.es","date":"2017-07-24T06:46:40.000Z"},{"text":"Voluptate sapiente vitae molestias doloremque sapiente. Facilis ducimus placeat ex molestias minima. Qui deserunt beatae maiores amet.","name":"Jeffrey Roberts","email":"jeffrey_roberts@fakegmail.com","date":"2017-03-15T18:45:46.000Z"},{"text":"Aperiam facere aliquid qui sapiente ratione. Adipisci officia quasi mollitia voluptas error nulla voluptate. Repellat ipsa eius enim non ad.","name":"Michael Day","email":"michael_day@fakegmail.com","date":"2016-07-23T08:51:31.000Z"},{"text":"Blanditiis ipsa aliquam dolorem tempore tenetur. Quia asperiores ipsum beatae et. Earum deleniti ut numquam reprehenderit.","name":"Hot Pie","email":"ben_hawkey@gameofthron.es","date":"2016-07-07T01:37:30.000Z"}]},{"imdb":{"rating":7.3},"title":"Anchorman: The Legend of Ron Burgundy","genres":["Comedy"],"num_mflix_comments":154,"recentComments":[{"text":"Repellat minima id ducimus quas. Iste officiis explicabo ullam commodi iusto. Commodi dolor ipsam distinctio iure eos. Dolorum possimus incidunt id deserunt unde sapiente.","name":"Bowen Marsh","email":"michael_condron@gameofthron.es","date":"2017-08-09T21:19:21.000Z"},{"text":"Veniam non itaque nulla aperiam. A suscipit deserunt dignissimos deleniti hic saepe.","name":"Karina Martin","email":"karina_martin@fakegmail.com","date":"2017-04-30T15:09:21.000Z"},{"text":"Tempore velit rerum tempora corrupti nostrum id voluptatibus. Officia repudiandae voluptates dolorum vel iure sunt porro. Voluptate recusandae quod nostrum molestiae veniam.","name":"Taylor Hill","email":"taylor_hill@fakegmail.com","date":"2017-04-05T11:33:09.000Z"},{"text":"Iusto repudiandae est voluptatibus esse voluptatem molestias. Est possimus ratione dolores quibusdam. Consequatur dolor corrupti mollitia accusamus.","name":"Jason Smith","email":"jason_smith@fakegmail.com","date":"2016-07-07T19:38:22.000Z"},{"text":"Qui odit reprehenderit eum autem reprehenderit quas delectus. Ipsa error accusamus ut porro. Magni libero cupiditate dolorum. Ratione quam ut voluptate unde doloremque magni impedit.","name":"Anthony Thompson","email":"anthony_thompson@fakegmail.com","date":"2015-10-18T07:22:05.000Z"}]},{"imdb":{"rating":6.3},"title":"The Mummy Returns","genres":["Action","Adventure","Fantasy"],"num_mflix_comments":154,"recentComments":[{"text":"Repellendus reprehenderit hic expedita illum. Debitis sint blanditiis libero facere eos. Assumenda necessitatibus aut dolores similique.","name":"Sandor Clegane","email":"rory_mccann@gameofthron.es","date":"2017-08-18T11:42:31.000Z"},{"text":"Fugiat maiores quibusdam distinctio sunt veritatis. Modi aliquid nostrum ullam libero repellat. Modi voluptatem totam sed. Placeat velit at consequatur voluptates minus doloremque.","name":"Jeor Mormont","email":"james_cosmo@gameofthron.es","date":"2017-06-12T02:41:47.000Z"},{"text":"Repudiandae ipsum quo quae amet eos nobis laborum. Expedita culpa perspiciatis magnam officiis. Nam ab consectetur unde enim reprehenderit magnam minus maxime.","name":"Osha","email":"natalia_tena@gameofthron.es","date":"2017-01-02T05:47:01.000Z"},{"text":"Commodi voluptatibus atque dolorem deserunt mollitia. Nihil consequatur dolorem adipisci veritatis. Labore odit quam officia quod. Rerum molestiae temporibus hic odio magnam eaque.","name":"Shae","email":"sibel_kekilli@gameofthron.es","date":"2016-11-29T12:04:18.000Z"},{"text":"Deleniti maxime eum dolore quasi praesentium sunt. Culpa voluptates laborum cumque aperiam nemo vero dolor. Illum eveniet provident recusandae. Aliquam eum optio qui maiores atque cumque dolore.","name":"Rickon Stark","email":"art_parkinson@gameofthron.es","date":"2016-11-24T16:24:06.000Z"}]}],"executionTimeMs":3302,"queryOperators":["$sort","$limit","$lookup","$addFields","$slice","$sortArray","$project","$ifNull","$map"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 8 Sci-Fi movies with IMDb rating above 8.0 and more than 20 comments, sorted by comment count","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Sci-Fi\",\n      \"imdb.rating\": { $gt: 8.0 },\n      num_mflix_comments: { $gt: 20 }\n    }\n  },\n  {\n    $sort: {\n      num_mflix_comments: -1\n    }\n  },\n  {\n    $limit: 8\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      imdb: { rating: 1 },\n      num_mflix_comments: 1,\n      year: 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":1993,"title":"Jurassic Park","num_mflix_comments":148},{"imdb":{"rating":8.7},"year":1999,"title":"The Matrix","num_mflix_comments":138},{"imdb":{"rating":8.1},"year":2001,"title":"Donnie Darko","num_mflix_comments":138},{"imdb":{"rating":8.5},"year":1991,"title":"Terminator 2: Judgment Day","num_mflix_comments":125},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","num_mflix_comments":117}],"executionTimeMs":1704,"queryOperators":["$match","$gt","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 10 movies that have more than 50 comments and an IMDB rating above 8.0","dbQuery":"db.movies.find(\n  {\n    num_mflix_comments: { $gt: 50 },\n    \"imdb.rating\": { $gt: 8.0 },\n    \"imdb.rating\": { $exists: true },\n    num_mflix_comments: { $exists: true }\n  },\n  {\n    title: 1,\n    num_mflix_comments: 1,\n    imdb: 1,\n    _id: 0\n  }\n).limit(10)","language":"mongosh","result":[{"title":"The Great Train Robbery","imdb":{"rating":7.4,"votes":9847,"id":439},"num_mflix_comments":0},{"num_mflix_comments":1,"title":"A Corner in Wheat","imdb":{"rating":6.6,"votes":1375,"id":832}},{"num_mflix_comments":0,"title":"Winsor McCay, the Famous Cartoonist of the N.Y. Herald and His Moving Comics","imdb":{"rating":7.3,"votes":1034,"id":1737}},{"num_mflix_comments":1,"title":"Traffic in Souls","imdb":{"rating":6,"votes":371,"id":3471}},{"num_mflix_comments":0,"title":"Gertie the Dinosaur","imdb":{"rating":7.3,"votes":1837,"id":4008}},{"num_mflix_comments":1,"title":"In the Land of the Head Hunters","imdb":{"rating":5.8,"votes":223,"id":4150}},{"num_mflix_comments":0,"title":"The Perils of Pauline","imdb":{"rating":7.6,"votes":744,"id":4465}},{"title":"The Italian","imdb":{"rating":6.4,"votes":175,"id":5557},"num_mflix_comments":0},{"num_mflix_comments":1,"title":"Regeneration","imdb":{"rating":6.8,"votes":626,"id":5960}},{"num_mflix_comments":0,"title":"Civilization","imdb":{"rating":6.3,"votes":162,"id":6517}}],"executionTimeMs":1417,"queryOperators":["$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies from 2010-2015 that have at least 25 comments, an IMDB rating above 7.5, and a Rotten Tomatoes critic score above 80","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2010, $lte: 2015 },\n      num_mflix_comments: { $gte: 25 },\n      \"imdb.rating\": { $gt: 7.5 },\n      \"tomatoes.critic.meter\": { $gt: 80 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      year: 1,\n      num_mflix_comments: 1,\n      imdb: {\n        rating: \"$imdb.rating\"\n      },\n      tomatoes: {\n        critic: {\n          meter: \"$tomatoes.critic.meter\"\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","tomatoes":{"critic":{"meter":92}},"num_mflix_comments":117},{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","tomatoes":{"critic":{"meter":87}},"num_mflix_comments":129}],"executionTimeMs":1779,"queryOperators":["$match","$gte","$lte","$gt","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies released between 2005 and 2012 that have more than 35 comments, IMDB ratings above 7.8 with at least 10000 votes, Rotten Tomatoes critic scores above 75, viewer scores above 70, and Metacritic scores above 75","dbQuery":"db.movies.find({\n  year: { $gte: 2005, $lte: 2012 },\n  num_mflix_comments: { $gt: 35 },\n  \"imdb.rating\": { $gt: 7.8, $exists: true, $ne: null },\n  \"imdb.votes\": { $gte: 10000, $exists: true, $ne: null },\n  \"tomatoes.critic.meter\": { $gt: 75, $exists: true, $ne: null },\n  \"tomatoes.viewer.meter\": { $gt: 70, $exists: true, $ne: null },\n  metacritic: { $gt: 75, $exists: true, $ne: null }\n}, {\n  title: 1,\n  year: 1,\n  num_mflix_comments: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  \"tomatoes.critic.meter\": 1,\n  \"tomatoes.viewer.meter\": 1,\n  metacritic: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":8.5,"votes":772226},"year":2006,"metacritic":86,"title":"The Departed","tomatoes":{"viewer":{"meter":94},"critic":{"meter":91}},"num_mflix_comments":115},{"imdb":{"rating":8.1,"votes":436387},"year":2007,"metacritic":85,"title":"The Bourne Ultimatum","tomatoes":{"viewer":{"meter":91},"critic":{"meter":93}},"num_mflix_comments":140},{"imdb":{"rating":9,"votes":1495351},"year":2008,"metacritic":82,"title":"The Dark Knight","tomatoes":{"viewer":{"meter":94},"critic":{"meter":94}},"num_mflix_comments":136},{"imdb":{"rating":7.9,"votes":811261},"year":2009,"metacritic":83,"title":"Avatar","tomatoes":{"viewer":{"meter":82},"critic":{"meter":83}},"num_mflix_comments":129},{"imdb":{"rating":8,"votes":471510},"year":2009,"metacritic":83,"title":"Star Trek","tomatoes":{"viewer":{"meter":91},"critic":{"meter":95}},"num_mflix_comments":142},{"imdb":{"rating":8,"votes":584956},"year":2008,"metacritic":86,"title":"Slumdog Millionaire","tomatoes":{"viewer":{"meter":90},"critic":{"meter":92}},"num_mflix_comments":127},{"imdb":{"rating":8.3,"votes":575622},"year":2009,"metacritic":88,"title":"Up","tomatoes":{"viewer":{"meter":90},"critic":{"meter":98}},"num_mflix_comments":143},{"imdb":{"rating":8,"votes":494849},"year":2009,"metacritic":81,"title":"District 9","tomatoes":{"viewer":{"meter":82},"critic":{"meter":90}},"num_mflix_comments":111},{"imdb":{"rating":8.5,"votes":1004805},"year":2012,"metacritic":78,"title":"The Dark Knight Rises","tomatoes":{"viewer":{"meter":90},"critic":{"meter":87}},"num_mflix_comments":129}],"executionTimeMs":1816,"queryOperators":["$gte","$lte","$gt","$exists","$ne"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 12 movies that have more than 45 comments, are rated R or PG-13, have IMDB ratings above 7.5 with more than 5000 votes, and either Rotten Tomatoes critic scores above 80 or Metacritic scores above 78","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      num_mflix_comments: { $gt: 45 },\n      rated: { $in: [\"R\", \"PG-13\"] },\n      \"imdb.rating\": { $gt: 7.5 },\n      \"imdb.votes\": { $gt: 5000 },\n      $or: [\n        { \"tomatoes.critic.meter\": { $gt: 80 } },\n        { \"metacritic\": { $gt: 78 } }\n      ]\n    }\n  },\n  {\n    $sort: {\n      \"imdb.rating\": -1,\n      \"num_mflix_comments\": -1\n    }\n  },\n  {\n    $limit: 12\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      rated: 1,\n      num_mflix_comments: 1,\n      imdb: {\n        rating: \"$imdb.rating\",\n        votes: \"$imdb.votes\"\n      },\n      tomatoes: {\n        critic: {\n          meter: \"$tomatoes.critic.meter\"\n        }\n      },\n      metacritic: 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":9.3,"votes":1513145},"rated":"R","metacritic":80,"title":"The Shawshank Redemption","tomatoes":{"critic":{"meter":91}},"num_mflix_comments":131},{"imdb":{"rating":9.3,"votes":1521105},"rated":"R","metacritic":80,"title":"The Shawshank Redemption","tomatoes":{"critic":{"meter":91}},"num_mflix_comments":122},{"imdb":{"rating":9.2,"votes":1038358},"rated":"R","metacritic":100,"title":"The Godfather","tomatoes":{"critic":{"meter":99}},"num_mflix_comments":131},{"imdb":{"rating":9,"votes":1495351},"rated":"PG-13","metacritic":82,"title":"The Dark Knight","tomatoes":{"critic":{"meter":94}},"num_mflix_comments":136},{"imdb":{"rating":8.9,"votes":1081144},"rated":"PG-13","metacritic":94,"title":"The Lord of the Rings: The Return of the King","tomatoes":{"critic":{"meter":95}},"num_mflix_comments":133},{"imdb":{"rating":8.9,"votes":1179033},"rated":"R","metacritic":94,"title":"Pulp Fiction","tomatoes":{"critic":{"meter":93}},"num_mflix_comments":121},{"imdb":{"rating":8.8,"votes":1087227},"rated":"PG-13","metacritic":82,"title":"Forrest Gump","tomatoes":{"critic":{"meter":72}},"num_mflix_comments":136},{"imdb":{"rating":8.8,"votes":1109724},"rated":"PG-13","metacritic":92,"title":"The Lord of the Rings: The Fellowship of the Ring","tomatoes":{"critic":{"meter":91}},"num_mflix_comments":114},{"imdb":{"rating":8.7,"votes":1080566},"rated":"R","metacritic":73,"title":"The Matrix","tomatoes":{"critic":{"meter":87}},"num_mflix_comments":138},{"imdb":{"rating":8.7,"votes":973663},"rated":"PG-13","metacritic":88,"title":"The Lord of the Rings: The Two Towers","tomatoes":{"critic":{"meter":96}},"num_mflix_comments":127},{"imdb":{"rating":8.6,"votes":775637},"rated":"R","metacritic":90,"title":"Saving Private Ryan","tomatoes":{"critic":{"meter":92}},"num_mflix_comments":144},{"imdb":{"rating":8.6,"votes":778282},"rated":"R","metacritic":84,"title":"The Silence of the Lambs","tomatoes":{"critic":{"meter":94}},"num_mflix_comments":121}],"executionTimeMs":1240,"queryOperators":["$match","$gt","$in","$or","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find movies with runtime between 90 and 180 minutes that have at least 30 comments, IMDB ratings above 8.0, Rotten Tomatoes critic and viewer scores both above 70, won at least 1 award, and were released after 2000","dbQuery":"db.movies.find({\n  runtime: { $gte: 90, $lte: 180 },\n  num_mflix_comments: { $gte: 30 },\n  \"imdb.rating\": { $gt: 8.0 },\n  \"tomatoes.critic.meter\": { $gt: 70 },\n  \"tomatoes.viewer.meter\": { $gt: 70 },\n  \"awards.wins\": { $gte: 1 },\n  released: { $gt: new Date(\"2000-01-01\") },\n  // Ensure all required fields exist\n  imdb: { $exists: true },\n  tomatoes: { $exists: true },\n  \"tomatoes.critic\": { $exists: true },\n  \"tomatoes.viewer\": { $exists: true },\n  awards: { $exists: true }\n}, {\n  title: 1,\n  runtime: 1,\n  year: 1,\n  num_mflix_comments: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  \"tomatoes.viewer.meter\": 1,\n  \"awards.wins\": 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":2001,"title":"Monsters, Inc.","tomatoes":{"viewer":{"meter":90},"critic":{"meter":96}},"num_mflix_comments":134,"awards":{"wins":17},"runtime":92},{"imdb":{"rating":8.3},"year":2009,"title":"Up","tomatoes":{"viewer":{"meter":90},"critic":{"meter":98}},"num_mflix_comments":143,"awards":{"wins":81},"runtime":96},{"imdb":{"rating":8.2},"year":2003,"title":"Finding Nemo","tomatoes":{"viewer":{"meter":86},"critic":{"meter":99}},"num_mflix_comments":120,"awards":{"wins":46},"runtime":100},{"imdb":{"rating":8.1},"year":2003,"title":"Kill Bill: Vol. 1","tomatoes":{"viewer":{"meter":80},"critic":{"meter":85}},"num_mflix_comments":143,"awards":{"wins":24},"runtime":111},{"imdb":{"rating":8.1},"year":2001,"title":"Donnie Darko","tomatoes":{"viewer":{"meter":80},"critic":{"meter":85}},"num_mflix_comments":138,"awards":{"wins":11},"runtime":113},{"imdb":{"rating":8.1},"year":2007,"title":"The Bourne Ultimatum","tomatoes":{"viewer":{"meter":91},"critic":{"meter":93}},"num_mflix_comments":140,"awards":{"wins":28},"runtime":115},{"imdb":{"rating":8.1},"year":2005,"title":"Sin City","tomatoes":{"viewer":{"meter":78},"critic":{"meter":78}},"num_mflix_comments":134,"awards":{"wins":28},"runtime":124},{"imdb":{"rating":8.2},"year":2005,"title":"V for Vendetta","tomatoes":{"viewer":{"meter":90},"critic":{"meter":73}},"num_mflix_comments":139,"awards":{"wins":10},"runtime":132},{"imdb":{"rating":8.1},"year":2003,"title":"Pirates of the Caribbean: The Curse of the Black Pearl","tomatoes":{"viewer":{"meter":86},"critic":{"meter":79}},"num_mflix_comments":127,"awards":{"wins":36},"runtime":143},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","tomatoes":{"viewer":{"meter":91},"critic":{"meter":92}},"num_mflix_comments":117,"awards":{"wins":33},"runtime":143},{"imdb":{"rating":8.5},"year":2006,"title":"The Departed","tomatoes":{"viewer":{"meter":94},"critic":{"meter":91}},"num_mflix_comments":115,"awards":{"wins":106},"runtime":151},{"imdb":{"rating":9},"year":2008,"title":"The Dark Knight","tomatoes":{"viewer":{"meter":94},"critic":{"meter":94}},"num_mflix_comments":136,"awards":{"wins":144},"runtime":152},{"imdb":{"rating":8.3},"year":2009,"title":"Inglourious Basterds","tomatoes":{"viewer":{"meter":87},"critic":{"meter":89}},"num_mflix_comments":127,"awards":{"wins":138},"runtime":153},{"imdb":{"rating":8.5},"year":2000,"title":"Gladiator","tomatoes":{"viewer":{"meter":87},"critic":{"meter":76}},"num_mflix_comments":152,"awards":{"wins":63},"runtime":155},{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","tomatoes":{"viewer":{"meter":90},"critic":{"meter":87}},"num_mflix_comments":129,"awards":{"wins":46},"runtime":165},{"imdb":{"rating":8.8},"year":2001,"title":"The Lord of the Rings: The Fellowship of the Ring","tomatoes":{"viewer":{"meter":95},"critic":{"meter":91}},"num_mflix_comments":114,"awards":{"wins":114},"runtime":178},{"imdb":{"rating":8.7},"year":2002,"title":"The Lord of the Rings: The Two Towers","tomatoes":{"viewer":{"meter":95},"critic":{"meter":96}},"num_mflix_comments":127,"awards":{"wins":105},"runtime":179}],"executionTimeMs":1233,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 5 users who have posted the most comments","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      commentCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { commentCount: -1 }\n  },\n  {\n    $limit: 5\n  },\n  {\n    $project: {\n      _id: 0,\n      name: \"$_id.name\",\n      email: \"$_id.email\",\n      commentCount: 1\n    }\n  }\n])","language":"mongosh","result":[{"commentCount":277,"name":"Mace Tyrell","email":"roger_ashton-griffiths@gameofthron.es"},{"commentCount":260,"name":"The High Sparrow","email":"jonathan_pryce@gameofthron.es"},{"commentCount":260,"name":"Rodrik Cassel","email":"ron_donachie@gameofthron.es"},{"commentCount":258,"name":"Missandei","email":"nathalie_emmanuel@gameofthron.es"},{"commentCount":257,"name":"Robert Jordan","email":"robert_jordan@fakegmail.com"}],"executionTimeMs":1628,"queryOperators":["$group","$sum","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 15 most commented movies from the 1990s with their comment counts and release years","dbQuery":"db.movies.find(\n  {\n    year: { $gte: 1990, $lte: 1999 },\n    num_mflix_comments: { $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    year: 1,\n    num_mflix_comments: 1,\n    released: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(15)","language":"mongosh","result":[{"year":1999,"title":"The Mummy","num_mflix_comments":157,"released":"1999-05-07T00:00:00.000Z"},{"year":1999,"title":"American Pie","num_mflix_comments":153,"released":"1999-07-09T00:00:00.000Z"},{"year":1996,"title":"Mission: Impossible","num_mflix_comments":153,"released":"1996-05-22T00:00:00.000Z"},{"year":1994,"title":"The Mask","num_mflix_comments":151,"released":"1994-07-29T00:00:00.000Z"},{"year":1999,"title":"Toy Story 2","num_mflix_comments":150,"released":"1999-11-24T00:00:00.000Z"},{"year":1999,"title":"Big Daddy","num_mflix_comments":150,"released":"1999-06-25T00:00:00.000Z"},{"year":1995,"title":"Braveheart","num_mflix_comments":148,"released":"1995-05-24T00:00:00.000Z"},{"year":1993,"title":"Jurassic Park","num_mflix_comments":148,"released":"1993-06-11T00:00:00.000Z"},{"year":1996,"title":"Twister","num_mflix_comments":146,"released":"1996-05-10T00:00:00.000Z"},{"year":1994,"title":"Dumb & Dumber","num_mflix_comments":145,"released":"1994-12-16T00:00:00.000Z"},{"num_mflix_comments":144,"title":"Aladdin","released":"1992-11-25T00:00:00.000Z","year":1992},{"year":1998,"title":"Saving Private Ryan","num_mflix_comments":144,"released":"1998-07-24T00:00:00.000Z"},{"year":1999,"title":"The Green Mile","num_mflix_comments":144,"released":"1999-12-10T00:00:00.000Z"},{"num_mflix_comments":143,"title":"The Jungle Creature: Hugo","released":"1993-12-10T00:00:00.000Z","year":1993},{"year":1994,"title":"Speed","num_mflix_comments":142,"released":"1994-06-10T00:00:00.000Z"}],"executionTimeMs":1259,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 highest-rated movies from 2005-2010 that are either Action, Drama, or Comedy with at least 1000 IMDb votes","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2005, $lte: 2010 },\n      genres: { $in: [\"Action\", \"Drama\", \"Comedy\"] },\n      \"imdb.votes\": { $gte: 1000 },\n      \"imdb.rating\": { $exists: true }\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      genres: 1,\n      year: 1,\n      imdb: {\n        rating: 1,\n        votes: 1\n      }\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":9,"votes":1495351},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight"},{"imdb":{"rating":8.8,"votes":1294646},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"title":"Inception"},{"genres":["Comedy","Musical","Sci-Fi"],"title":"Dr. Horrible's Sing-Along Blog","year":2008,"imdb":{"rating":8.7,"votes":30488}},{"genres":["Drama","War"],"title":"Generation Kill","year":2008,"imdb":{"rating":8.7,"votes":29637}},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16851}},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16574}},{"genres":["Drama"],"title":"My Father and My Son","year":2005,"imdb":{"rating":8.7,"votes":32181}},{"genres":["Drama"],"title":"Bleak House","year":2005,"imdb":{"rating":8.6,"votes":5645}},{"imdb":{"rating":8.5,"votes":772226},"year":2006,"genres":["Crime","Drama","Thriller"],"title":"The Departed"},{"genres":["Crime","Drama","Mystery"],"title":"Prime Suspect 7: The Final Act","year":2006,"imdb":{"rating":8.5,"votes":1667}}],"executionTimeMs":1535,"queryOperators":["$match","$gte","$lte","$in","$exists","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 12 movies from 1995-2000 with IMDb ratings between 7.5-9.0 and show their comment counts and Rotten Tomatoes critic scores","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 1995, $lte: 2000 },\n      \"imdb.rating\": { $gte: 7.5, $lte: 9.0 },\n      year: { $exists: true },\n      \"imdb.rating\": { $exists: true }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      \"imdb.rating\": 1,\n      num_mflix_comments: { $ifNull: [\"$num_mflix_comments\", 0] },\n      \"tomatoes.critic.rating\": 1\n    }\n  },\n  {\n    $limit: 12\n  }\n])","language":"mongosh","result":[{"_id":"573a1390f29313caabcd42e8","title":"The Great Train Robbery","year":1903,"imdb":{"rating":7.4},"tomatoes":{"critic":{"rating":7.6}},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd446f","title":"A Corner in Wheat","year":1909,"imdb":{"rating":6.6},"tomatoes":{},"num_mflix_comments":1},{"_id":"573a1390f29313caabcd4803","title":"Winsor McCay, the Famous Cartoonist of the N.Y. Herald and His Moving Comics","year":1911,"imdb":{"rating":7.3},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd4eaf","title":"Traffic in Souls","year":1913,"imdb":{"rating":6},"tomatoes":{},"num_mflix_comments":1},{"_id":"573a1390f29313caabcd50e5","title":"Gertie the Dinosaur","year":1914,"imdb":{"rating":7.3},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd516c","title":"In the Land of the Head Hunters","year":1914,"imdb":{"rating":5.8},"tomatoes":{},"num_mflix_comments":1},{"_id":"573a1390f29313caabcd5293","title":"The Perils of Pauline","year":1914,"imdb":{"rating":7.6},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd56df","title":"The Italian","year":1915,"imdb":{"rating":6.4},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd587d","title":"Regeneration","year":1915,"imdb":{"rating":6.8},"tomatoes":{"critic":{"rating":9.2}},"num_mflix_comments":1},{"_id":"573a1390f29313caabcd5a93","title":"Civilization","year":1916,"imdb":{"rating":6.3},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd5ea4","title":"Where Are My Children?","year":1916,"imdb":{"rating":5.9},"tomatoes":{},"num_mflix_comments":0},{"_id":"573a1390f29313caabcd6223","title":"The Poor Little Rich Girl","year":1917,"imdb":{"rating":6.9},"tomatoes":{},"num_mflix_comments":0}],"executionTimeMs":1185,"queryOperators":["$match","$gte","$lte","$exists","$project","$ifNull","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 15 most recent comments for the movie with ID '573a139af29313caabcf1573' along with the commenter names and email addresses","dbQuery":"db.comments.find(\n  { movie_id: ObjectId('573a139af29313caabcf1573') }\n).sort({ date: -1 }).limit(15)","language":"mongosh","result":[{"_id":"5a9427648b0beebeb696474c","name":"Joshua Kent","email":"joshua_kent@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Nam rem consequatur aliquid facere accusamus accusantium. Animi expedita esse facere modi. Voluptatum repellat tenetur possimus ipsa.","date":"2017-07-09T18:11:58.000Z"},{"_id":"5a9427648b0beebeb6964723","name":"Jason Hernandez","email":"jason_hernandez@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Quibusdam hic ut dolorum inventore labore numquam. Aut saepe voluptatum quae minus laudantium. Quibusdam sed necessitatibus autem corporis quas facilis.","date":"2017-06-29T20:59:49.000Z"},{"_id":"5a9427648b0beebeb69647b9","name":"Rast","email":"luke_barnes@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Illum similique quidem dolore pariatur consequuntur quas esse rem. Labore voluptatibus debitis harum maxime qui necessitatibus nisi. Earum eum modi vel praesentium.","date":"2017-06-20T08:30:03.000Z"},{"_id":"5a9427648b0beebeb69646ba","name":"Bowen Marsh","email":"michael_condron@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Suscipit pariatur ad earum maiores quis quidem saepe. Nesciunt illo dolores officia eos placeat quos explicabo. Nihil nostrum vitae iusto facilis aliquam ullam mollitia. Cum nam aliquid similique.","date":"2017-06-12T22:24:06.000Z"},{"_id":"5a9427648b0beebeb696472e","name":"Jennifer Frazier","email":"jennifer_frazier@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Delectus recusandae nesciunt eveniet quas magnam architecto ea a. Voluptatem facilis repudiandae labore dicta quis.","date":"2017-04-19T03:21:57.000Z"},{"_id":"5a9427648b0beebeb6964774","name":"Maester Aemon","email":"peter_vaughan@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Enim facilis at tempora accusantium nemo autem. Ut ipsum repellendus laudantium.","date":"2017-04-19T00:12:11.000Z"},{"_id":"5a9427648b0beebeb69647f9","name":"Thomas Morris","email":"thomas_morris@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Magnam quia fugiat magnam sunt perspiciatis cum rerum eius. Nemo nulla doloremque suscipit dolorem. Eaque doloremque laborum labore officiis. Doloribus blanditiis nostrum totam quia assumenda esse.","date":"2017-03-23T08:48:01.000Z"},{"_id":"5a9427648b0beebeb6964800","name":"Tyrion Lannister","email":"peter_dinklage@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Impedit voluptate officia commodi earum. Sunt voluptatem eligendi vitae consectetur et quia. Iste officia odit mollitia aspernatur dolor.","date":"2016-06-01T19:28:27.000Z"},{"_id":"5a9427648b0beebeb6964745","name":"Jorah Mormont","email":"iain_glen@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Odio cumque doloribus aperiam vel. Eius ad qui in laudantium deleniti quae. Eveniet odit delectus at iste. Aliquam ipsam quia porro assumenda impedit provident ut dolor.","date":"2016-04-30T13:20:59.000Z"},{"_id":"5a9427648b0beebeb6964757","name":"Kelsey Smith","email":"kelsey_smith@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Esse repellat tempora provident vitae harum. At quidem omnis possimus corrupti rem.","date":"2015-12-31T12:00:52.000Z"},{"_id":"5a9427648b0beebeb69647fc","name":"Thomas Morris","email":"thomas_morris@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Architecto dolorem suscipit earum vero vero voluptatibus excepturi. Nulla repellendus repudiandae optio eos accusamus illum. Officia quaerat consequuntur enim esse.","date":"2015-07-11T01:13:27.000Z"},{"_id":"5a9427648b0beebeb69646b8","name":"Bowen Marsh","email":"michael_condron@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Tempora quam magnam illo perspiciatis ipsum doloremque. Ea expedita ut facere explicabo. Amet commodi officia fuga maiores mollitia consectetur.","date":"2015-03-13T06:13:08.000Z"},{"_id":"5a9427648b0beebeb6964740","name":"Jojen Reed","email":"thomas_brodie-sangster@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Aut suscipit vitae id error natus. Iusto sit cumque nulla placeat quidem fugiat. Fuga nam consequatur asperiores molestiae.","date":"2015-02-13T07:32:58.000Z"},{"_id":"5a9427648b0beebeb69646a1","name":"Amy Phillips","email":"amy_phillips@fakegmail.com","movie_id":"573a139af29313caabcf1573","text":"Voluptate dicta quod quaerat inventore illo. Repellendus ullam totam harum. Cupiditate pariatur provident aperiam laborum a. Error autem alias porro culpa iusto doloribus delectus.","date":"2014-12-29T13:30:23.000Z"},{"_id":"5a9427648b0beebeb69647c9","name":"Sansa Stark","email":"sophie_turner@gameofthron.es","movie_id":"573a139af29313caabcf1573","text":"Illum dolorem repellat ipsam ipsam. Dolores laborum modi quidem maxime. Sit tenetur odit veritatis et deserunt magnam. Dolores omnis reiciendis corrupti accusantium consequuntur placeat quis tempora.","date":"2014-12-09T11:02:12.000Z"}],"executionTimeMs":1848,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 15 movies from 2000-2009 that have IMDb ratings above 7.0, Rotten Tomatoes critic scores, and Metacritic ratings available","dbQuery":"db.movies.find({\n  year: { $gte: 2000, $lte: 2009 },\n  \"imdb.rating\": { $gt: 7.0 },\n  \"tomatoes.critic.rating\": { $exists: true, $ne: null },\n  \"tomatoes.critic.meter\": { $exists: true, $ne: null },\n  metacritic: { $exists: true, $ne: null }\n}, {\n  title: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  \"tomatoes.critic.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  metacritic: 1,\n  genres: 1,\n  _id: 0\n}).limit(15)","language":"mongosh","result":[{"imdb":{"rating":8.1,"votes":67663},"year":2000,"genres":["Drama","Romance"],"metacritic":85,"title":"In the Mood for Love","tomatoes":{"critic":{"rating":7.8,"meter":90}}},{"imdb":{"rating":7.4,"votes":57256},"year":2002,"genres":["Biography","Drama","Romance"],"metacritic":61,"title":"Frida","tomatoes":{"critic":{"rating":6.9,"meter":76}}},{"imdb":{"rating":8.8,"votes":1109724},"year":2001,"genres":["Adventure","Fantasy"],"metacritic":92,"title":"The Lord of the Rings: The Fellowship of the Ring","tomatoes":{"critic":{"rating":8.2,"meter":91}}},{"imdb":{"rating":7.4,"votes":404410},"year":2000,"genres":["Action","Adventure","Sci-Fi"],"metacritic":64,"title":"X-Men","tomatoes":{"critic":{"rating":7.1,"meter":81}}},{"imdb":{"rating":7.3,"votes":114178},"year":2000,"genres":["Animation","Adventure","Comedy"],"metacritic":70,"title":"The Emperor's New Groove","tomatoes":{"critic":{"rating":7.1,"meter":85}}},{"imdb":{"rating":7.4,"votes":170384},"year":2005,"genres":["Animation","Fantasy","Musical"],"metacritic":83,"title":"Corpse Bride","tomatoes":{"critic":{"rating":7.2,"meter":83}}},{"imdb":{"rating":7.7,"votes":440441},"year":2005,"genres":["Action","Adventure","Fantasy"],"metacritic":68,"title":"Star Wars: Episode III - Revenge of the Sith","tomatoes":{"critic":{"rating":7.2,"meter":80}}},{"imdb":{"rating":7.9,"votes":420957},"year":2001,"genres":["Animation","Adventure","Comedy"],"metacritic":84,"title":"Shrek","tomatoes":{"critic":{"rating":7.8,"meter":88}}},{"genres":["Action","Horror","Sci-Fi"],"metacritic":49,"title":"Pitch Black","year":2000,"imdb":{"rating":7.1,"votes":182486},"tomatoes":{"critic":{"rating":5.6,"meter":57}}},{"imdb":{"rating":7.7,"votes":281511},"year":2001,"genres":["Crime","Drama","Thriller"],"metacritic":70,"title":"Training Day","tomatoes":{"critic":{"rating":6.5,"meter":72}}},{"genres":["Documentary","Music"],"metacritic":77,"title":"Scratch","year":2001,"imdb":{"rating":7.9,"votes":2283},"tomatoes":{"critic":{"rating":4.5,"meter":25}}},{"imdb":{"rating":7.6,"votes":323670},"year":2000,"genres":["Drama","Horror"],"metacritic":64,"title":"American Psycho","tomatoes":{"critic":{"rating":6.2,"meter":67}}},{"imdb":{"rating":7.3,"votes":43348},"year":2000,"genres":["Drama","History","Thriller"],"metacritic":67,"title":"Thirteen Days","tomatoes":{"critic":{"rating":7.2,"meter":83}}},{"genres":["Comedy","Drama","Music"],"metacritic":79,"title":"High Fidelity","year":2000,"imdb":{"rating":7.6,"votes":134771},"tomatoes":{"critic":{"rating":7.7,"meter":91}}},{"imdb":{"rating":7.2,"votes":112184},"year":2003,"genres":["Drama","History","Romance"],"metacritic":73,"title":"Cold Mountain","tomatoes":{"critic":{"rating":6.7,"meter":71}}}],"executionTimeMs":4194,"queryOperators":["$gte","$lte","$gt","$exists","$ne"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 10 drama movies from 1995-2005 with full plot descriptions, award wins greater than 5, and IMDb ratings above 8.0","dbQuery":"db.movies.find({\n  $and: [\n    { \"genres\": \"Drama\" },\n    { \"year\": { $gte: 1995, $lte: 2005 } },\n    { \"fullplot\": { $exists: true, $ne: null, $ne: \"\" } },\n    { \"awards.wins\": { $gt: 5 } },\n    { \"imdb.rating\": { $gt: 8.0 } }\n  ]\n}, {\n  \"title\": 1,\n  \"year\": 1,\n  \"genres\": 1,\n  \"fullplot\": 1,\n  \"awards.wins\": 1,\n  \"awards.nominations\": 1,\n  \"awards.text\": 1,\n  \"imdb.rating\": 1,\n  \"directors\": 1,\n  \"_id\": 0\n}).limit(10)","language":"mongosh","result":[{"genres":["Drama","Romance"],"title":"Pride and Prejudice","fullplot":"Jane Austen's classic novel about the prejudice that occurred between the 19th century classes and the pride which would keep lovers apart.","awards":{"wins":9,"nominations":13,"text":"Won 1 Primetime Emmy. Another 8 wins & 13 nominations."},"year":1995,"imdb":{"rating":9.1}},{"fullplot":"William Wallace is a Scottish rebel who leads an uprising against the cruel English ruler Edward the Longshanks, who wishes to inherit the crown of Scotland for himself. When he was a young boy, William Wallace's father and brother, along with many others, lost their lives trying to free Scotland. Once he loses another of his loved ones, William Wallace begins his long quest to make Scotland free once and for all, along with the assistance of Robert the Bruce.","imdb":{"rating":8.4},"year":1995,"genres":["Biography","Drama","History"],"title":"Braveheart","awards":{"wins":32,"nominations":23,"text":"Won 5 Oscars. Another 27 wins & 23 nominations."},"directors":["Mel Gibson"]},{"genres":["Crime","Drama"],"title":"Little Criminals","fullplot":"Des is an eleven year old kid who has had a really bad deal in life. Crime and mischief are the main staples of his life and he and his friends cruise around the city and do things like vandalize, steal, light fires, and mug people. He thinks that he is untouchable because he cannot be charged until he is twelve. Cory becomes Des' best friend and they carry on like nothing can stop them; however, Des ends up at an assessment centre for troubled youths and may begin a new life without crime.","directors":["Stephen Surjik"],"awards":{"wins":8,"nominations":10,"text":"8 wins & 10 nominations."},"year":1995,"imdb":{"rating":8.1}},{"fullplot":"A film about two homicide detectives' desperate hunt for a serial killer who justifies his crimes as absolution for the world's ignorance of the Seven Deadly Sins. The movie takes us from the tortured remains of one victim to the next as the sociopathic \"John Doe\" sermonizes to Detectives Sommerset and Mills -- one sin at a time. The sin of Gluttony comes first and the murderer's terrible capacity is graphically demonstrated in the dark and subdued tones characteristic of film noir. The seasoned and cultured but jaded Sommerset researches the Seven Deadly Sins in an effort to understand the killer's modus operandi while the bright but green and impulsive Detective Mills scoffs at his efforts to get inside the mind of a killer...","imdb":{"rating":8.6},"year":1995,"genres":["Drama","Mystery","Thriller"],"title":"Se7en","awards":{"wins":32,"nominations":25,"text":"Nominated for 1 Oscar. Another 31 wins & 25 nominations."},"directors":["David Fincher"]},{"fullplot":"Following a truck hijack in New York, five conmen are arrested and brought together for questioning. As none of them are guilty, they plan a revenge operation against the police. The operation goes well, but then the influence of a legendary mastermind criminal called Keyser Sèze is felt. It becomes clear that each one of them has wronged Sèze at some point and must pay back now. The payback job leaves 27 men dead in a boat explosion, but the real question arises now: Who actually is Keyser Sèze?","imdb":{"rating":8.6},"year":1995,"genres":["Crime","Drama","Thriller"],"title":"The Usual Suspects","awards":{"wins":36,"nominations":10,"text":"Won 2 Oscars. Another 34 wins & 10 nominations."},"directors":["Bryan Singer"]},{"genres":["Crime","Drama","Thriller"],"title":"Fargo","fullplot":"Jerry works in his father-in-law's car dealership and has gotten himself in financial problems. He tries various schemes to come up with money needed for a reason that is never really explained. It has to be assumed that his huge embezzlement of money from the dealership is about to be discovered by father-in-law. When all else falls through, plans he set in motion earlier for two men to kidnap his wife for ransom to be paid by her wealthy father (who doesn't seem to have the time of day for son-in-law). From the moment of the kidnapping, things go wrong and what was supposed to be a non-violent affair turns bloody with more blood added by the minute. Jerry is upset at the bloodshed, which turns loose a pregnant sheriff from Brainerd, MN who is tenacious in attempting to solve the three murders in her jurisdiction.","directors":["Joel Coen","Ethan Coen"],"awards":{"wins":79,"nominations":42,"text":"Won 2 Oscars. Another 77 wins & 42 nominations."},"year":1996,"imdb":{"rating":8.2}},{"genres":["Comedy","Drama","History"],"title":"Pretty Village, Pretty Flame","fullplot":"At the Belgrade army hospital, casualties of Bosnian civil war are treated. In the hospital they remember their youth and the war. Two young boys, Halil, a Muslim, and Milan, a Serb, have grown up together near a deserted tunnel linking the Yugoslav cities of Belgrade and Zagreb. They never dare go inside, as they believe an ogre resides there. Twelve years later, during the Bosnian civil war, Milan, who is trapped in the tunnel with his troop, and Halil, find themselves on opposing sides, fatefully heading toward confrontation.","directors":["Srdjan Dragojevic"],"awards":{"wins":6,"nominations":1,"text":"6 wins & 1 nomination."},"year":1996,"imdb":{"rating":8.6}},{"genres":["Drama","War"],"title":"The Perfect Circle","fullplot":"An alcoholic Bosnian poet sends his wife and daughter away from Sarajevo so they can avoid the troubles there. However, he is soon descended upon by a pair of orphaned brothers. The brothers have escaped a massacre in their own village and have come to the Bosnian capital in search of a long lost Aunt. The poet befriends the boys and together they try to survive the horror of the siege of Sarajevo.","directors":["Ademir Kenovic"],"awards":{"wins":6,"nominations":2,"text":"6 wins & 2 nominations."},"year":1997,"imdb":{"rating":8.1}},{"genres":["Drama"],"title":"Sling Blade","fullplot":"A partially handicapped man named Karl is released from a mental hospital, about 20 years after murdering his mother and another person. Karl is often questioned if he will ever kill again, and he shrugs in response saying there is no reason to. Now out of the mental institution, Karl settles in his old, small hometown, occupying himself by fixing motors. After meeting a young boy named Frank, who befriends him, Karl is invited to stay at Frank's house with his mother Linda, who views Karl as a strange but kind and generous man. However, Linda's abusive boyfriend, Doyle, sees things differently in the way rules ought to be run- normally insulting Linda's homosexual friend Vaughan as well as Karl's disabilities, and having wild parties with his friends. As Karl's relationship with Frank grows, he is watchful of Doyle's cruel actions.","directors":["Billy Bob Thornton"],"awards":{"wins":15,"nominations":10,"text":"Won 1 Oscar. Another 14 wins & 10 nominations."},"year":1996,"imdb":{"rating":8.1}},{"genres":["Drama","Romance"],"title":"Comrades: Almost a Love Story","fullplot":"Jun arrives in Hong Kong from mainland China, hoping to be able to earn enough money to marry his girlfriend back home. He meets the streetwise Qiao and they become friends. As friendship turns into love, problems develop, and although they seem meant for each other they somehow keep missing out.","directors":["Peter Chan"],"awards":{"wins":22,"nominations":6,"text":"22 wins & 6 nominations."},"year":1996,"imdb":{"rating":8.2}}],"executionTimeMs":2662,"queryOperators":["$and","$gte","$lte","$exists","$ne","$gt"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 8 movies that have English in their languages array, are from countries other than USA, have IMDb ratings above 7.5, and were released between 2010 and 2017","dbQuery":"db.movies.find(\n  {\n    languages: { $in: [\"English\"] },\n    countries: { $nin: [\"USA\"] },\n    \"imdb.rating\": { $gt: 7.5 },\n    released: { \n      $gte: new Date(\"2010-01-01\"), \n      $lte: new Date(\"2017-12-31\") \n    },\n    // Ensure required fields exist\n    languages: { $exists: true },\n    countries: { $exists: true },\n    \"imdb.rating\": { $exists: true },\n    released: { $exists: true }\n  },\n  {\n    title: 1,\n    languages: 1,\n    countries: 1,\n    year: 1,\n    \"imdb.rating\": 1,\n    genres: 1,\n    directors: 1,\n    _id: 0\n  }\n).limit(8)","language":"mongosh","result":[{"genres":["Short","Western"],"title":"The Great Train Robbery","languages":["English"],"directors":["Edwin S. Porter"],"year":1903,"imdb":{"rating":7.4},"countries":["USA"]},{"genres":["Short","Drama"],"title":"A Corner in Wheat","languages":["English"],"directors":["D.W. Griffith"],"year":1909,"imdb":{"rating":6.6},"countries":["USA"]},{"genres":["Animation","Short","Comedy"],"title":"Winsor McCay, the Famous Cartoonist of the N.Y. Herald and His Moving Comics","languages":["English"],"directors":["Winsor McCay","J. Stuart Blackton"],"year":1911,"imdb":{"rating":7.3},"countries":["USA"]},{"genres":["Crime","Drama"],"title":"Traffic in Souls","languages":["English"],"directors":["George Loane Tucker"],"year":1913,"imdb":{"rating":6},"countries":["USA"]},{"genres":["Animation","Short","Comedy"],"title":"Gertie the Dinosaur","languages":["English"],"directors":["Winsor McCay"],"year":1914,"imdb":{"rating":7.3},"countries":["USA"]},{"genres":["Drama","History"],"title":"In the Land of the Head Hunters","languages":["English"],"directors":["Edward S. Curtis"],"year":1914,"imdb":{"rating":5.8},"countries":["USA"]},{"genres":["Action"],"title":"The Perils of Pauline","languages":["English"],"directors":["Louis J. Gasnier","Donald MacKenzie"],"year":1914,"imdb":{"rating":7.6},"countries":["USA"]},{"genres":["Drama"],"title":"The Italian","languages":["English"],"directors":["Reginald Barker"],"year":1915,"imdb":{"rating":6.4},"countries":["USA"]}],"executionTimeMs":1607,"queryOperators":["$in","$nin","$gt","$gte","$lte","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Get 10 movies with more than 3 award nominations that are either Biography, History, or War genres and have IMDb ratings above 7.8","dbQuery":"db.movies.find({\n  $and: [\n    { \"awards.nominations\": { $gt: 3, $exists: true } },\n    { \"genres\": { $in: [\"Biography\", \"History\", \"War\"], $exists: true } },\n    { \"imdb.rating\": { $gt: 7.8, $exists: true } }\n  ]\n}, {\n  title: 1,\n  genres: 1,\n  awards: 1,\n  imdb: 1,\n  year: 1,\n  directors: 1,\n  _id: 0\n}).limit(10)","language":"mongosh","result":[{"genres":["Drama","Romance","War"],"title":"Gone with the Wind","directors":["Victor Fleming","George Cukor","Sam Wood"],"awards":{"wins":19,"nominations":6,"text":"Won 8 Oscars. Another 11 wins & 6 nominations."},"year":1939,"imdb":{"rating":8.2,"votes":194570,"id":31381}},{"genres":["Drama","Romance","War"],"title":"Casablanca","directors":["Michael Curtiz"],"awards":{"wins":9,"nominations":6,"text":"Won 3 Oscars. Another 6 wins & 6 nominations."},"year":1942,"imdb":{"rating":8.6,"votes":354005,"id":34583}},{"genres":["Adventure","Drama","War"],"title":"The Search","directors":["Fred Zinnemann"],"awards":{"wins":8,"nominations":4,"text":"Won 1 Oscar. Another 7 wins & 4 nominations."},"year":1948,"imdb":{"rating":7.9,"votes":2621,"id":40765}},{"genres":["Adventure","Romance","War"],"title":"The African Queen","directors":["John Huston"],"awards":{"wins":6,"nominations":6,"text":"Won 1 Oscar. Another 5 wins & 6 nominations."},"year":1951,"imdb":{"rating":7.9,"votes":55484,"id":43265}},{"genres":["Drama","War"],"title":"The Caine Mutiny","directors":["Edward Dmytryk"],"awards":{"wins":9,"nominations":4,"text":"Nominated for 7 Oscars. Another 2 wins & 4 nominations."},"year":1954,"imdb":{"rating":7.9,"votes":19039,"id":46816}},{"genres":["Adventure","Biography","Drama"],"title":"The Ten Commandments","directors":["Cecil B. DeMille"],"awards":{"wins":7,"nominations":7,"text":"Won 1 Oscar. Another 6 wins & 7 nominations."},"year":1956,"imdb":{"rating":7.9,"votes":44245,"id":49833}},{"genres":["Adventure","Drama","War"],"title":"The Bridge on the River Kwai","directors":["David Lean"],"awards":{"wins":32,"nominations":5,"text":"Won 7 Oscars. Another 25 wins & 5 nominations."},"year":1957,"imdb":{"rating":8.2,"votes":134445,"id":50212}},{"genres":["Adventure","Drama","History"],"title":"Ben-Hur","directors":["William Wyler"],"awards":{"wins":33,"nominations":7,"text":"Won 11 Oscars. Another 22 wins & 7 nominations."},"year":1959,"imdb":{"rating":8.1,"votes":143341,"id":52618}},{"genres":["Drama","History"],"title":"Inherit the Wind","directors":["Stanley Kramer"],"awards":{"wins":7,"nominations":7,"text":"Nominated for 4 Oscars. Another 3 wins & 7 nominations."},"year":1960,"imdb":{"rating":8.2,"votes":19279,"id":53946}},{"genres":["Adventure","Biography","Drama"],"title":"Spartacus","directors":["Stanley Kubrick"],"awards":{"wins":11,"nominations":9,"text":"Won 4 Oscars. Another 7 wins & 9 nominations."},"year":1960,"imdb":{"rating":8,"votes":91559,"id":54331}}],"executionTimeMs":1306,"queryOperators":["$and","$gt","$exists","$in"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 15 movies that have zero comments from users","dbQuery":"db.movies.find(\n  { num_mflix_comments: 0 },\n  { _id: 1, title: 1, genres: 1, year: 1, num_mflix_comments: 1 }\n).limit(15)","language":"mongosh","result":[{"_id":"573a1390f29313caabcd42e8","genres":["Short","Western"],"title":"The Great Train Robbery","year":1903,"num_mflix_comments":0},{"_id":"573a1390f29313caabcd4803","genres":["Animation","Short","Comedy"],"num_mflix_comments":0,"title":"Winsor McCay, the Famous Cartoonist of the N.Y. Herald and His Moving Comics","year":1911},{"_id":"573a1390f29313caabcd50e5","genres":["Animation","Short","Comedy"],"num_mflix_comments":0,"title":"Gertie the Dinosaur","year":1914},{"_id":"573a1390f29313caabcd5293","genres":["Action"],"num_mflix_comments":0,"title":"The Perils of Pauline","year":1914},{"_id":"573a1390f29313caabcd56df","genres":["Drama"],"title":"The Italian","year":1915,"num_mflix_comments":0},{"_id":"573a1390f29313caabcd5a93","genres":["Drama"],"num_mflix_comments":0,"title":"Civilization","year":1916},{"_id":"573a1390f29313caabcd5ea4","genres":["Drama"],"title":"Where Are My Children?","year":1916,"num_mflix_comments":0},{"_id":"573a1390f29313caabcd6223","genres":["Comedy","Drama","Family"],"title":"The Poor Little Rich Girl","year":1917,"num_mflix_comments":0},{"_id":"573a1390f29313caabcd6377","genres":["Comedy","Western","Romance"],"title":"Wild and Woolly","year":1917,"num_mflix_comments":0},{"_id":"573a1390f29313caabcd63d6","genres":["Fantasy"],"num_mflix_comments":0,"title":"The Blue Bird","year":1918},{"_id":"573a1391f29313caabcd68d0","genres":["Comedy","Short","Action"],"title":"From Hand to Mouth","year":1919,"num_mflix_comments":0},{"_id":"573a1391f29313caabcd6e2a","genres":["Short","Comedy"],"num_mflix_comments":0,"title":"One Week","year":1920},{"_id":"573a1391f29313caabcd6ea2","genres":["Comedy"],"num_mflix_comments":0,"title":"The Saphead","year":1920},{"_id":"573a1391f29313caabcd71e3","genres":["Comedy","Drama"],"num_mflix_comments":0,"title":"Miss Lulu Bett","year":1921},{"_id":"573a1391f29313caabcd71f5","genres":["Comedy","Short"],"title":"Now or Never","year":1921,"num_mflix_comments":0}],"executionTimeMs":4104,"queryOperators":[],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 10 movies with less than 2 comments that have IMDb ratings above 7.0, including their cast and directors","dbQuery":"db.movies.find(\n  {\n    \"num_mflix_comments\": { $lt: 2 },\n    \"imdb.rating\": { $gt: 7.0 }\n  },\n  {\n    \"title\": 1,\n    \"num_mflix_comments\": 1,\n    \"imdb.rating\": 1,\n    \"cast\": 1,\n    \"directors\": 1,\n    \"_id\": 0\n  }\n).limit(10)","language":"mongosh","result":[{"cast":["A.C. Abadie","Gilbert M. 'Broncho Billy' Anderson","George Barnes","Justus D. Barnes"],"title":"The Great Train Robbery","directors":["Edwin S. Porter"],"imdb":{"rating":7.4},"num_mflix_comments":0},{"cast":["Winsor McCay","George McManus","Roy L. McCardell"],"num_mflix_comments":0,"title":"Gertie the Dinosaur","directors":["Winsor McCay"],"imdb":{"rating":7.3}},{"cast":["Pearl White","Crane Wilbur","Paul Panzer","Edward Josè"],"num_mflix_comments":0,"title":"The Perils of Pauline","directors":["Louis J. Gasnier","Donald MacKenzie"],"imdb":{"rating":7.6}},{"cast":["Lois Wilson","Milton Sills","Theodore Roberts","Helen Ferguson"],"num_mflix_comments":0,"title":"Miss Lulu Bett","directors":["William C. de Mille"],"imdb":{"rating":7.2}},{"cast":["Rudolph Christians","Miss DuPont","Maude George","Mae Busch"],"num_mflix_comments":0,"title":"Foolish Wives","directors":["Erich von Stroheim"],"imdb":{"rating":7.3}},{"cast":["Buster Keaton","Margaret Leahy","Wallace Beery","Joe Roberts"],"title":"Three Ages","directors":["Edward F. Cline","Buster Keaton"],"imdb":{"rating":7.2},"num_mflix_comments":0},{"title":"The Iron Horse","num_mflix_comments":0,"cast":["George O'Brien","Madge Bellamy","Charles Edward Bull","Cyril Chadwick"],"directors":["John Ford"],"imdb":{"rating":7.3}},{"cast":["Billie Dove","Tempe Pigott","Donald Crisp","Sam De Grasse"],"num_mflix_comments":1,"title":"The Black Pirate","directors":["Albert Parker"],"imdb":{"rating":7.2}},{"cast":["Rudolph Valentino","Vilma Bènky","George Fawcett","Montagu Love"],"title":"The Son of the Sheik","directors":["George Fitzmaurice"],"imdb":{"rating":7.5},"num_mflix_comments":0},{"cast":["Clara Bow","Antonio Moreno","William Austin","Priscilla Bonner"],"num_mflix_comments":1,"title":"It","directors":["Clarence G. Badger","Josef von Sternberg"],"imdb":{"rating":7.5}}],"executionTimeMs":1268,"queryOperators":["$lt","$gt"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 8 movies with less than 4 comments that have IMDb rating above 7.5 AND Metacritic score above 70 AND Rotten Tomatoes critic meter above 80, including all their rating information","dbQuery":"db.movies.find({\n  num_mflix_comments: { $lt: 4 },\n  \"imdb.rating\": { $gt: 7.5, $exists: true },\n  metacritic: { $gt: 70, $exists: true },\n  \"tomatoes.critic.meter\": { $gt: 80, $exists: true }\n}, {\n  title: 1,\n  num_mflix_comments: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  metacritic: 1,\n  \"tomatoes.critic.meter\": 1,\n  \"tomatoes.critic.rating\": 1,\n  _id: 0\n}).limit(8)","language":"mongosh","result":[{"imdb":{"rating":8.6,"votes":123603},"metacritic":96,"title":"Modern Times","tomatoes":{"critic":{"rating":9,"meter":100}},"num_mflix_comments":1},{"imdb":{"rating":8,"votes":36789},"metacritic":97,"title":"The Adventures of Robin Hood","tomatoes":{"critic":{"rating":8.9,"meter":100}},"num_mflix_comments":1},{"metacritic":89,"title":"Quai des Orfèvres","imdb":{"rating":7.7,"votes":3266},"tomatoes":{"critic":{"rating":8.3,"meter":100}},"num_mflix_comments":0},{"imdb":{"rating":8,"votes":36916},"metacritic":97,"title":"The Adventures of Robin Hood","tomatoes":{"critic":{"rating":8.9,"meter":100}},"num_mflix_comments":1},{"metacritic":89,"title":"High Noon","imdb":{"rating":8.1,"votes":72202},"tomatoes":{"critic":{"rating":8.8,"meter":96}},"num_mflix_comments":0},{"imdb":{"rating":8.1,"votes":58859},"metacritic":99,"title":"The Night of the Hunter","tomatoes":{"critic":{"rating":9.1,"meter":98}},"num_mflix_comments":0},{"metacritic":73,"title":"Araya","num_mflix_comments":0,"imdb":{"rating":7.8,"votes":285},"tomatoes":{"critic":{"rating":7.7,"meter":88}}},{"imdb":{"rating":8.3,"votes":10352},"metacritic":80,"title":"Rocco and His Brothers","tomatoes":{"critic":{"rating":7.9,"meter":94}},"num_mflix_comments":1}],"executionTimeMs":1371,"queryOperators":["$lt","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 15 most recent comments posted by users with email addresses ending in '.es'","dbQuery":"db.comments.find(\n  { email: { $regex: /\\.es$/ } },\n  { name: 1, email: 1, movie_id: 1, text: 1, date: 1, _id: 0 }\n).sort({ date: -1 }).limit(15)","language":"mongosh","result":[{"name":"Selyse Baratheon","email":"tara_fitzgerald@gameofthron.es","movie_id":"573a1399f29313caabcedc5c","text":"Provident iure quas ducimus soluta voluptates hic perferendis. Perferendis tenetur deleniti explicabo eos. Natus labore soluta expedita animi.","date":"2017-09-12T08:32:53.000Z"},{"name":"Missandei","email":"nathalie_emmanuel@gameofthron.es","movie_id":"573a13adf29313caabd2b4c8","text":"Explicabo fuga rem necessitatibus saepe. Fugiat explicabo culpa adipisci repellendus voluptatem qui nesciunt.","date":"2017-09-11T16:52:51.000Z"},{"name":"Khal Drogo","email":"jason_momoa@gameofthron.es","movie_id":"573a13b7f29313caabd4b0d4","text":"Cum id alias ut ea provident corrupti harum at. Dolores eaque harum doloremque ipsa. Eum omnis culpa reiciendis pariatur ea blanditiis voluptatum. Tempore quod consequatur neque quidem.","date":"2017-09-10T07:56:58.000Z"},{"name":"Meera Reed","email":"ellie_kendrick@gameofthron.es","movie_id":"573a13b3f29313caabd3b647","text":"Doloremque ab officiis corrupti. Occaecati laborum blanditiis repellendus. Nemo alias nihil magni quo iure at omnis eius.","date":"2017-09-10T06:24:48.000Z"},{"name":"Grey Worm","email":"jacob_anderson@gameofthron.es","movie_id":"573a13a5f29313caabd13a18","text":"Nulla nesciunt consectetur cum. Ipsam nobis mollitia impedit. Libero aut tenetur illo quod saepe hic. Quas eius repellendus doloremque excepturi.","date":"2017-09-08T10:13:13.000Z"},{"name":"Olly","email":"brenock_o'connor@gameofthron.es","movie_id":"573a13abf29313caabd25582","text":"Velit neque quibusdam fuga molestias. Maxime ipsum optio earum quasi nesciunt ducimus odit. Blanditiis aut cumque qui neque modi quos. Quia quos nemo possimus officia accusamus mollitia.","date":"2017-09-08T07:54:03.000Z"},{"name":"The Waif","email":"faye_marsay@gameofthron.es","movie_id":"573a13a4f29313caabd114ac","text":"Sunt sint ea iste ex natus. Beatae autem consectetur veritatis. Quaerat inventore nihil aspernatur voluptatibus id. Officia error perferendis quaerat ipsam sit.","date":"2017-09-07T12:28:36.000Z"},{"name":"Alliser Thorne","email":"owen_teale@gameofthron.es","movie_id":"573a13b0f29313caabd3505e","text":"Incidunt adipisci deleniti minus dolorum ratione ducimus unde. Pariatur itaque quibusdam aliquam quibusdam facere nemo. Omnis harum quam expedita dolor sit est.","date":"2017-09-07T11:19:02.000Z"},{"name":"Shireen Baratheon","email":"kerry_ingram@gameofthron.es","movie_id":"573a1397f29313caabce809b","text":"Enim assumenda porro accusantium eos nulla mollitia. Animi totam voluptas sint nesciunt corporis. Exercitationem a quibusdam architecto quae nobis.","date":"2017-09-06T01:47:35.000Z"},{"name":"Maester Aemon","email":"peter_vaughan@gameofthron.es","movie_id":"573a139df29313caabcf9d45","text":"Dolorum dolorum quo blanditiis animi. Cupiditate eos non ullam nihil cupiditate sit ullam. Illo illo nesciunt ab doloremque. Eius facilis numquam quasi velit mollitia debitis asperiores sapiente.","date":"2017-09-05T14:07:13.000Z"},{"name":"Myrcella Baratheon","email":"nell_tiger_free@gameofthron.es","movie_id":"573a13cdf29313caabd83a57","text":"Voluptates eum nesciunt odio voluptate non voluptates. Optio fuga sapiente enim vitae. Quisquam natus consequatur magnam autem quam.","date":"2017-09-05T08:12:51.000Z"},{"name":"Meera Reed","email":"ellie_kendrick@gameofthron.es","movie_id":"573a13a7f29313caabd19f1b","text":"Libero maiores autem possimus optio. Itaque nulla molestias ab. Debitis temporibus molestiae illo. Quae delectus aperiam provident nisi nulla autem.","date":"2017-09-04T07:33:24.000Z"},{"name":"Rodrik Cassel","email":"ron_donachie@gameofthron.es","movie_id":"573a1399f29313caabcee578","text":"Odit atque at voluptas ducimus facere tenetur. Deserunt hic neque cumque.","date":"2017-09-02T06:01:19.000Z"},{"name":"Janos Slynt","email":"dominic_carter@gameofthron.es","movie_id":"573a1397f29313caabce68f6","text":"Voluptates odit quisquam perferendis. Esse cupiditate ipsam non veritatis. Beatae in quod quis accusamus rem mollitia. Repellendus amet magnam fuga aliquam molestias occaecati.","date":"2017-09-02T02:16:55.000Z"},{"name":"Jojen Reed","email":"thomas_brodie-sangster@gameofthron.es","movie_id":"573a13b3f29313caabd3b647","text":"Inventore neque dicta modi repellat veniam. Suscipit suscipit distinctio sed explicabo. Dicta numquam laudantium voluptas quia necessitatibus. Et id eligendi totam culpa minima quis.","date":"2017-08-31T20:09:25.000Z"}],"executionTimeMs":1848,"queryOperators":["$regex"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in Illinois and California, group them by state, and show the top 3 cities with the most theaters in each state along with their average coordinates","dbQuery":"db.theaters.aggregate([\n  // Match theaters in Illinois and California\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"CA\"] }\n    }\n  },\n  \n  // Group by state and city, count theaters and calculate average coordinates\n  {\n    $group: {\n      _id: {\n        state: \"$location.address.state\",\n        city: \"$location.address.city\"\n      },\n      theater_count: { $sum: 1 },\n      avg_longitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 0] } },\n      avg_latitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 1] } },\n      theaters: {\n        $push: {\n          theaterId: \"$theaterId\",\n          address: {\n            street1: \"$location.address.street1\",\n            zipcode: \"$location.address.zipcode\"\n          }\n        }\n      }\n    }\n  },\n  \n  // Sort by state first, then by theater count descending\n  {\n    $sort: {\n      \"_id.state\": 1,\n      \"theater_count\": -1\n    }\n  },\n  \n  // Group by state to collect top 3 cities per state\n  {\n    $group: {\n      _id: \"$_id.state\",\n      cities: {\n        $push: {\n          _id: \"$_id\",\n          theater_count: \"$theater_count\",\n          avg_longitude: \"$avg_longitude\",\n          avg_latitude: \"$avg_latitude\",\n          theaters: \"$theaters\"\n        }\n      }\n    }\n  },\n  \n  // Limit to top 3 cities per state and flatten the structure\n  {\n    $project: {\n      top_cities: { $slice: [\"$cities\", 3] }\n    }\n  },\n  \n  // Unwind to flatten the results\n  {\n    $unwind: \"$top_cities\"\n  },\n  \n  // Project to match the expected output format\n  {\n    $replaceRoot: {\n      newRoot: \"$top_cities\"\n    }\n  },\n  \n  // Final sort by state and theater count\n  {\n    $sort: {\n      \"_id.state\": 1,\n      \"theater_count\": -1\n    }\n  }\n])","language":"mongosh","result":[{"_id":{"state":"CA","city":"Los Angeles"},"theater_count":12,"avg_longitude":-118.39046666666667,"avg_latitude":33.967413083333334,"theaters":[{"theaterId":109,"address":{"street1":"11301 W Pico Blvd","zipcode":"90064"}},{"theaterId":183,"address":{"street1":"2909 Los Feliz Blvd","zipcode":"90039"}},{"theaterId":8035,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8013,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8056,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8103,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8135,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8012,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8034,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8073,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8055,"address":{"street1":"1 World Way","zipcode":"90045"}},{"theaterId":8071,"address":{"street1":"1 World Way","zipcode":"90045"}}]},{"_id":{"state":"CA","city":"San Francisco"},"theater_count":9,"avg_longitude":-122.40989355555556,"avg_latitude":37.67527588888888,"theaters":[{"theaterId":1125,"address":{"street1":"2675 Geary Blvd","zipcode":"94118"}},{"theaterId":187,"address":{"street1":"1717 Harrison Street","zipcode":"94103"}},{"theaterId":8011,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8145,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8184,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8111,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8134,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8112,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}},{"theaterId":8146,"address":{"street1":"275 S Airport Blvd","zipcode":"94080"}}]},{"_id":{"state":"CA","city":"San Diego"},"theater_count":8,"avg_longitude":-117.161213125,"avg_latitude":32.794049,"theaters":[{"theaterId":1533,"address":{"street1":"11160 Rancho Carmel Drive","zipcode":"92128"}},{"theaterId":2711,"address":{"street1":"1640 Camino Del Rio North","zipcode":"92108"}},{"theaterId":352,"address":{"street1":"9540 Mira Mesa Blvd","zipcode":"92126"}},{"theaterId":438,"address":{"street1":"5151 Mission Center Rd","zipcode":"92108"}},{"theaterId":8165,"address":{"street1":"3665 N. Harbor Drive","zipcode":"92101"}},{"theaterId":8167,"address":{"street1":"3665 N. Harbor Drive","zipcode":"92101"}},{"theaterId":8166,"address":{"street1":"3665 N. Harbor Drive","zipcode":"92101"}},{"theaterId":8164,"address":{"street1":"3665 N. Harbor Drive","zipcode":"92101"}}]},{"_id":{"state":"IL","city":"Chicago"},"theater_count":8,"avg_longitude":-87.6796805,"avg_latitude":41.906203125,"theaters":[{"theaterId":1142,"address":{"street1":"555 W Roosevelt Rd","zipcode":"60607"}},{"theaterId":1381,"address":{"street1":"875 N Michigan Ave","zipcode":"60611"}},{"theaterId":1777,"address":{"street1":"3262 W Belmont Ave","zipcode":"60618"}},{"theaterId":323,"address":{"street1":"1000 W North Ave","zipcode":"60642"}},{"theaterId":814,"address":{"street1":"2100 N Elston Ave","zipcode":"60614"}},{"theaterId":8608,"address":{"street1":"10000 Bessie Coleman Drive","zipcode":"60018"}},{"theaterId":8605,"address":{"street1":"2233 S Martin L King Dr","zipcode":"60616"}},{"theaterId":8920,"address":{"street1":"172 West Adams Street","zipcode":"60603"}}]},{"_id":{"state":"IL","city":"Champaign"},"theater_count":2,"avg_longitude":-88.25196,"avg_latitude":40.141228999999996,"theaters":[{"theaterId":2805,"address":{"street1":"2000 North Neil St.","zipcode":"61820"}},{"theaterId":46,"address":{"street1":"2117 N Prospect Ave","zipcode":"61822"}}]},{"_id":{"state":"IL","city":"Norridge"},"theater_count":2,"avg_longitude":-87.80757449999999,"avg_latitude":41.954143,"theaters":[{"theaterId":319,"address":{"street1":"4100a N Harlem Ave","zipcode":"60706"}},{"theaterId":2862,"address":{"street1":"4156-E North Harlem Ave","zipcode":"60706"}}]}],"executionTimeMs":1720,"queryOperators":["$match","$in","$group","$sum","$avg","$arrayElemAt","$push","$sort","$project","$slice","$unwind","$replaceRoot"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters located in Chicago, Milwaukee, Indianapolis, and Detroit with their addresses and theater IDs","dbQuery":"db.theaters.find(\n  {\n    \"location.address.city\": {\n      $in: [\"Chicago\", \"Milwaukee\", \"Indianapolis\", \"Detroit\"]\n    }\n  },\n  {\n    theaterId: 1,\n    \"location.address\": 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"}}},{"theaterId":1910,"location":{"address":{"street1":"6020 East 82nd Street","street2":"#410C","city":"Indianapolis","state":"IN","zipcode":"46250"}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"}}},{"theaterId":231,"location":{"address":{"street1":"4625 Lafayette Road","city":"Indianapolis","state":"IN","zipcode":"46254"}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"}}},{"theaterId":229,"location":{"address":{"street1":"5820 E 82nd St","city":"Indianapolis","state":"IN","zipcode":"46250"}}},{"theaterId":232,"location":{"address":{"street1":"9977 E Washington St","city":"Indianapolis","state":"IN","zipcode":"46229"}}},{"theaterId":8080,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"}}},{"theaterId":8092,"location":{"address":{"street1":"5300 South Howell Ave","street2":null,"city":"Milwaukee","state":"WI","zipcode":"53207"}}},{"theaterId":8114,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"}}},{"theaterId":8608,"location":{"address":{"street1":"10000 Bessie Coleman Drive","street2":null,"city":"Chicago","state":"IL","zipcode":"60018"}}},{"theaterId":8067,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"}}},{"theaterId":8177,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"}}},{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"}}}],"executionTimeMs":1321,"queryOperators":["$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters in Chicago, Detroit, and Milwaukee with their complete address information","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.city\": {\n        $in: [\"Chicago\", \"Detroit\", \"Milwaukee\"]\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: {\n        address: {\n          street1: \"$location.address.street1\",\n          city: \"$location.address.city\",\n          state: \"$location.address.state\",\n          zipcode: \"$location.address.zipcode\"\n        },\n        geo: {\n          type: \"$location.geo.type\",\n          coordinates: \"$location.geo.coordinates\"\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"theaterId":8092,"location":{"address":{"street1":"5300 South Howell Ave","city":"Milwaukee","state":"WI","zipcode":"53207"},"geo":{"type":"Point","coordinates":[-87.904261,42.948026]}}},{"theaterId":8114,"location":{"address":{"street1":"11499 Conner Street","city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.002751,42.408969]}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"theaterId":8608,"location":{"address":{"street1":"10000 Bessie Coleman Drive","city":"Chicago","state":"IL","zipcode":"60018"},"geo":{"type":"Point","coordinates":[-87.885145,41.981285]}}},{"theaterId":8177,"location":{"address":{"street1":"11499 Conner Street","city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.003717,42.409021]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}}],"executionTimeMs":3039,"queryOperators":["$match","$in","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Group theaters by state for all Midwest states (Illinois, Indiana, Iowa, Kansas, Michigan, Minnesota, Missouri, Nebraska, North Dakota, Ohio, South Dakota, Wisconsin) and show the count for each state","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": {\n        $in: [\"IL\", \"IN\", \"IA\", \"KS\", \"MI\", \"MN\", \"MO\", \"NE\", \"ND\", \"OH\", \"SD\", \"WI\"]\n      }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"IA","count":14},{"_id":"IL","count":70},{"_id":"IN","count":35},{"_id":"KS","count":12},{"_id":"MI","count":45},{"_id":"MN","count":44},{"_id":"MO","count":32},{"_id":"ND","count":5},{"_id":"NE","count":8},{"_id":"OH","count":52},{"_id":"SD","count":3},{"_id":"WI","count":35}],"executionTimeMs":1693,"queryOperators":["$match","$in","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 closest theaters within 50 miles of Chicago downtown (coordinates: -87.6298, 41.8781)","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-87.6298, 41.8781]\n      },\n      distanceField: \"distance\",\n      maxDistance: 80467,\n      spherical: true\n    }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: 1\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}},{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"theaterId":320,"location":{"address":{"street1":"2358 Harlem Ave","city":"North Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.805817,41.847572]}}},{"theaterId":2960,"location":{"address":{"street1":"7501 W Cermak Rd","street2":"Ste N006","city":"Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.811262,41.847938]}}},{"theaterId":2889,"location":{"address":{"street1":"3333 W Touhy Ave","street2":"Ste #G10B","city":"Lincolnwood","state":"IL","zipcode":"60712"},"geo":{"type":"Point","coordinates":[-87.71208,42.011834]}}}],"executionTimeMs":1318,"queryOperators":["$geoNear","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in Illinois and Ohio that are located in zip codes starting with 606 (Chicago area) or 441 (Cleveland area), group them by city, and show the count and average coordinates for each city cluster","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      $and: [\n        {\n          $or: [\n            { \"location.address.state\": \"IL\" },\n            { \"location.address.state\": \"OH\" }\n          ]\n        },\n        {\n          $or: [\n            { \"location.address.zipcode\": { $regex: /^606/ } },\n            { \"location.address.zipcode\": { $regex: /^441/ } }\n          ]\n        }\n      ]\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.city\",\n      count: { $sum: 1 },\n      avgLongitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 0] } },\n      avgLatitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 1] } },\n      theaters: {\n        $push: {\n          theaterId: \"$theaterId\",\n          zipcode: \"$location.address.zipcode\"\n        }\n      }\n    }\n  },\n  {\n    $sort: { count: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"Chicago","count":7,"avgLongitude":-87.65032842857143,"avgLatitude":41.895477142857146,"theaters":[{"theaterId":1142,"zipcode":"60607"},{"theaterId":1381,"zipcode":"60611"},{"theaterId":1777,"zipcode":"60618"},{"theaterId":323,"zipcode":"60642"},{"theaterId":814,"zipcode":"60614"},{"theaterId":8605,"zipcode":"60616"},{"theaterId":8920,"zipcode":"60603"}]},{"_id":"Cleveland","count":2,"avgLongitude":-82.3197315,"avgLatitude":40.8152235,"theaters":[{"theaterId":162,"zipcode":"44129"},{"theaterId":8043,"zipcode":"44181"}]},{"_id":"Strongsville","count":2,"avgLongitude":-81.81812679999999,"avgLatitude":41.312368,"theaters":[{"theaterId":1099,"zipcode":"44136"},{"theaterId":2804,"zipcode":"44136"}]},{"_id":"Mayfield Heights","count":1,"avgLongitude":-81.448357,"avgLatitude":41.521706,"theaters":[{"theaterId":271,"zipcode":"44124"}]}],"executionTimeMs":1312,"queryOperators":["$match","$and","$or","$regex","$group","$sum","$avg","$arrayElemAt","$push","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in Michigan, Wisconsin, and Minnesota where the longitude is between -90 and -83 degrees, group by state, and calculate the northernmost and southernmost theater coordinates for each state","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"MI\", \"WI\", \"MN\"] },\n      \"location.geo.coordinates.0\": { $gte: -90, $lte: -83 }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      theaterCount: { $sum: 1 },\n      theaters: {\n        $push: {\n          latitude: { $arrayElemAt: [\"$location.geo.coordinates\", 1] },\n          longitude: { $arrayElemAt: [\"$location.geo.coordinates\", 0] },\n          theaterId: \"$theaterId\",\n          city: \"$location.address.city\"\n        }\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      theaterCount: 1,\n      northernmost: {\n        $let: {\n          vars: {\n            maxLatTheater: {\n              $arrayElemAt: [\n                {\n                  $filter: {\n                    input: \"$theaters\",\n                    cond: {\n                      $eq: [\n                        \"$$this.latitude\",\n                        { $max: \"$theaters.latitude\" }\n                      ]\n                    }\n                  }\n                },\n                0\n              ]\n            }\n          },\n          in: {\n            latitude: \"$$maxLatTheater.latitude\",\n            theaterId: \"$$maxLatTheater.theaterId\",\n            city: \"$$maxLatTheater.city\"\n          }\n        }\n      },\n      southernmost: {\n        $let: {\n          vars: {\n            minLatTheater: {\n              $arrayElemAt: [\n                {\n                  $filter: {\n                    input: \"$theaters\",\n                    cond: {\n                      $eq: [\n                        \"$$this.latitude\",\n                        { $min: \"$theaters.latitude\" }\n                      ]\n                    }\n                  }\n                },\n                0\n              ]\n            }\n          },\n          in: {\n            latitude: \"$$minLatTheater.latitude\",\n            theaterId: \"$$minLatTheater.theaterId\",\n            city: \"$$minLatTheater.city\"\n          }\n        }\n      }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"MI","theaterCount":42,"northernmost":{"latitude":46.54769,"theaterId":2515,"city":"Marquette"},"southernmost":{"latitude":42.076942,"theaterId":376,"city":"Benton Harbor"}},{"_id":"WI","theaterCount":31,"northernmost":{"latitude":44.920456,"theaterId":399,"city":"Wausau"},"southernmost":{"latitude":42.57202,"theaterId":1191,"city":"Kenosha"}}],"executionTimeMs":2278,"queryOperators":["$match","$in","$gte","$lte","$group","$sum","$push","$arrayElemAt","$project","$let","$filter","$eq","$max","$min","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 closest theaters to the coordinates -87.6298, 41.8781 (downtown Chicago) that are located in Illinois or Wisconsin","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-87.6298, 41.8781]\n      },\n      distanceField: \"distance\",\n      spherical: true\n    }\n  },\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"WI\"] }\n    }\n  },\n  {\n    $limit: 5\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: 1\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}},{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}}],"executionTimeMs":1267,"queryOperators":["$geoNear","$match","$in","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the first 10 theaters located in Illinois","dbQuery":"db.theaters.find(\n  { \"location.address.state\": \"IL\" },\n  { \n    _id: 0,\n    theaterId: 1,\n    location: 1\n  }\n).limit(10)","language":"mongosh","result":[{"theaterId":1066,"location":{"address":{"street1":"7330 191st St","city":"Tinley Park","state":"IL","zipcode":"60477"},"geo":{"type":"Point","coordinates":[-87.798416,41.550053]}}},{"theaterId":1165,"location":{"address":{"street1":"1072 Willow Road","city":"Northbrook","state":"IL","zipcode":"60062"},"geo":{"type":"Point","coordinates":[-87.80494,42.10671]}}},{"theaterId":1169,"location":{"address":{"street1":"1561 S Randall Rd","city":"Algonquin","state":"IL","zipcode":"60102"},"geo":{"type":"Point","coordinates":[-88.333092,42.156265]}}},{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1166,"location":{"address":{"street1":"3200 Shoppers Dr","city":"Mchenry","state":"IL","zipcode":"60050"},"geo":{"type":"Point","coordinates":[-88.265358,42.361271]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":1073,"location":{"address":{"street1":"6020 Broadway St","city":"Quincy","state":"IL","zipcode":"62305"},"geo":{"type":"Point","coordinates":[-91.321,39.93423]}}},{"theaterId":1123,"location":{"address":{"street1":"1584 N State Route 50","city":"Bourbonnais","state":"IL","zipcode":"60914"},"geo":{"type":"Point","coordinates":[-87.850174,41.172596]}}},{"theaterId":1170,"location":{"address":{"street1":"2600 Us Hwy 34","city":"Oswego","state":"IL","zipcode":"60543"},"geo":{"type":"Point","coordinates":[-88.32581,41.69234]}}},{"theaterId":1048,"location":{"address":{"street1":"17800 S Halsted St","city":"Homewood","state":"IL","zipcode":"60430"},"geo":{"type":"Point","coordinates":[-87.637192,41.56646]}}}],"executionTimeMs":2667,"queryOperators":[],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters that are between 10 and 50 miles from the coordinates -88.0431, 41.7658 and are located in cities starting with 'N'","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-88.0431, 41.7658]\n      },\n      distanceField: \"distance\",\n      minDistance: 16093.4,  // 10 miles in meters\n      maxDistance: 80467,    // 50 miles in meters\n      spherical: true\n    }\n  },\n  {\n    $match: {\n      \"location.address.city\": { $regex: \"^N\", $options: \"i\" }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: 1\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":320,"location":{"address":{"street1":"2358 Harlem Ave","city":"North Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.805817,41.847572]}}},{"theaterId":1778,"location":{"address":{"street1":"1830 Towne Centre Drive","city":"North Aurora","state":"IL","zipcode":"60542"},"geo":{"type":"Point","coordinates":[-88.36679,41.79631]}}},{"theaterId":2862,"location":{"address":{"street1":"4156-E North Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807425,41.953814]}}},{"theaterId":319,"location":{"address":{"street1":"4100a N Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807724,41.954472]}}},{"theaterId":1165,"location":{"address":{"street1":"1072 Willow Road","city":"Northbrook","state":"IL","zipcode":"60062"},"geo":{"type":"Point","coordinates":[-87.80494,42.10671]}}}],"executionTimeMs":2839,"queryOperators":["$geoNear","$match","$regex","$options","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me all theaters located in Detroit, Milwaukee, or Indianapolis with theater IDs greater than 1000","dbQuery":"db.theaters.find(\n  {\n    \"location.address.city\": { $in: [\"Detroit\", \"Milwaukee\", \"Indianapolis\"] },\n    \"theaterId\": { $gt: 1000 }\n  },\n  {\n    \"theaterId\": 1,\n    \"location\": 1,\n    \"_id\": 0\n  }\n)","language":"mongosh","result":[{"theaterId":1910,"location":{"address":{"street1":"6020 East 82nd Street","street2":"#410C","city":"Indianapolis","state":"IN","zipcode":"46250"},"geo":{"type":"Point","coordinates":[-86.061677,39.907886]}}},{"theaterId":8080,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"},"geo":{"type":"Point","coordinates":[-86.298064,39.714695]}}},{"theaterId":8092,"location":{"address":{"street1":"5300 South Howell Ave","street2":null,"city":"Milwaukee","state":"WI","zipcode":"53207"},"geo":{"type":"Point","coordinates":[-87.904261,42.948026]}}},{"theaterId":8114,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.002751,42.408969]}}},{"theaterId":8067,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"},"geo":{"type":"Point","coordinates":[-86.298064,39.714695]}}},{"theaterId":8177,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.003717,42.409021]}}}],"executionTimeMs":1740,"queryOperators":["$in","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters within a 15-mile radius of coordinates -84.5120, 39.1031 (Cincinnati area), group them by city, and show only cities that have more than 2 theaters where at least one theater has a ZIP code starting with '45' and calculate the average coordinates for each city group","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-84.5120, 39.1031]\n      },\n      distanceField: \"distance\",\n      maxDistance: 24140.16,\n      spherical: true\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.city\",\n      theaters: {\n        $push: {\n          theaterId: \"$theaterId\",\n          location: \"$location\"\n        }\n      },\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $match: {\n      count: { $gt: 2 },\n      \"theaters.location.address.zipcode\": { $regex: \"^45\" }\n    }\n  },\n  {\n    $addFields: {\n      avgCoordinates: [\n        {\n          $avg: {\n            $map: {\n              input: \"$theaters\",\n              as: \"theater\",\n              in: { $arrayElemAt: [\"$$theater.location.geo.coordinates\", 0] }\n            }\n          }\n        },\n        {\n          $avg: {\n            $map: {\n              input: \"$theaters\",\n              as: \"theater\", \n              in: { $arrayElemAt: [\"$$theater.location.geo.coordinates\", 1] }\n            }\n          }\n        }\n      ]\n    }\n  }\n])","language":"mongosh","result":[{"_id":"Cincinnati","theaters":[{"theaterId":394,"location":{"address":{"street1":"5555 Glenway Ave","street2":"Suite 550","city":"Cincinnati","state":"OH","zipcode":"45238"},"geo":{"type":"Point","coordinates":[-84.607925,39.129051]}}},{"theaterId":1474,"location":{"address":{"street1":"9845 Colerain Ave","city":"Cincinnati","state":"OH","zipcode":"45251"},"geo":{"type":"Point","coordinates":[-84.59896,39.25076]}}},{"theaterId":2794,"location":{"address":{"street1":"4601 Eastgate Mall","street2":"#312","city":"Cincinnati","state":"OH","zipcode":"45245"},"geo":{"type":"Point","coordinates":[-84.277526,39.10263]}}},{"theaterId":154,"location":{"address":{"street1":"650 Eastgate South Dr","city":"Cincinnati","state":"OH","zipcode":"45245"},"geo":{"type":"Point","coordinates":[-84.275215,39.098297]}}}],"count":4,"avgCoordinates":[-84.4399065,39.1451845]}],"executionTimeMs":1285,"queryOperators":["$geoNear","$group","$push","$sum","$match","$gt","$regex","$addFields","$avg","$map","$arrayElemAt"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find all action movies released in 2015 with an IMDb rating above 7.5","dbQuery":"db.movies.find(\n  {\n    genres: \"Action\",\n    year: 2015,\n    \"imdb.rating\": { $gt: 7.5 }\n  },\n  {\n    title: 1,\n    \"imdb.rating\": 1,\n    year: 1,\n    genres: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":7.8},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Ant-Man"},{"imdb":{"rating":8.3},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Mad Max: Fury Road"},{"genres":["Documentary","Action","Adventure"],"title":"Racing Extinction","year":2015,"imdb":{"rating":7.9}},{"genres":["Action","Crime","Drama"],"title":"Landmine Goes Click","year":2015,"imdb":{"rating":7.6}},{"genres":["Documentary","Action","History"],"title":"The Real Miyagi","year":2015,"imdb":{"rating":9.3}},{"genres":["Action","Adventure","Sci-Fi"],"title":"Avengers: Age of Ultron","year":2015,"imdb":{"rating":7.8}},{"genres":["Documentary","Action","Adventure"],"title":"Meru","year":2015,"imdb":{"rating":8.3}},{"genres":["Action","Crime","Drama"],"title":"Sicario","year":2015,"imdb":{"rating":7.9}},{"genres":["Short","Action","Comedy"],"title":"Kung Fury","year":2015,"imdb":{"rating":8.3}}],"executionTimeMs":1290,"queryOperators":["$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 highest-rated drama movies released between 2007 and 2017 with at least 1000 IMDb votes","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  year: { $gte: 2007, $lte: 2017 },\n  \"imdb.rating\": { $exists: true, $ne: null },\n  \"imdb.votes\": { $gte: 1000 }\n}, {\n  title: 1,\n  imdb: 1,\n  year: 1,\n  genres: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":9,"votes":1495351,"id":468569},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight"},{"genres":["Crime","Drama","Thriller"],"title":"Drishyam","year":2013,"imdb":{"rating":8.9,"votes":6485,"id":3417422}},{"genres":["Drama","War"],"title":"Generation Kill","year":2008,"imdb":{"rating":8.7,"votes":29637,"id":995832}},{"imdb":{"rating":8.7,"votes":699518,"id":816692},"year":2014,"genres":["Adventure","Drama","Sci-Fi"],"title":"Interstellar"},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16574,"id":472027}},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16851,"id":472027}},{"imdb":{"rating":8.6,"votes":278873,"id":2582802},"year":2014,"genres":["Drama","Music"],"title":"Whiplash"},{"genres":["Action","Biography","Drama"],"title":"Queen of the Mountains","year":2014,"imdb":{"rating":8.6,"votes":3106,"id":2640460}},{"imdb":{"rating":8.6,"votes":421017,"id":1675434},"year":2011,"genres":["Biography","Comedy","Drama"],"title":"The Intouchables"},{"genres":["Drama","Family","Music"],"title":"Like Stars on Earth","year":2007,"imdb":{"rating":8.5,"votes":75208,"id":986264}}],"executionTimeMs":1579,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 15 movies from 2014 to 2017 with the highest Metacritic scores that also have at least 500 IMDb votes","dbQuery":"db.movies.find(\n  {\n    year: { $gte: 2014, $lte: 2017 },\n    metacritic: { $exists: true, $ne: null, $gte: 0 },\n    \"imdb.votes\": { $gte: 500 }\n  },\n  {\n    title: 1,\n    metacritic: 1,\n    \"imdb.votes\": 1,\n    year: 1,\n    _id: 0\n  }\n).sort({ metacritic: -1 }).limit(15)","language":"mongosh","result":[{"metacritic":100,"title":"Boyhood","year":2014,"imdb":{"votes":226285}},{"metacritic":96,"title":"Taxi","year":2015,"imdb":{"votes":1560}},{"imdb":{"votes":13682},"year":2014,"metacritic":94,"title":"Mr. Turner"},{"imdb":{"votes":108087},"year":2015,"metacritic":94,"title":"Inside Out"},{"metacritic":92,"title":"The Look of Silence","year":2014,"imdb":{"votes":1585}},{"imdb":{"votes":22225},"year":2014,"metacritic":92,"title":"Leviathan"},{"imdb":{"votes":3452},"year":2014,"metacritic":92,"title":"Phoenix"},{"metacritic":91,"title":"Timbuktu","year":2014,"imdb":{"votes":6598}},{"metacritic":90,"title":"Son of Saul","year":2015,"imdb":{"votes":1071}},{"metacritic":90,"title":"The Witch","year":2015,"imdb":{"votes":612}},{"metacritic":90,"title":"Aferim!","year":2015,"imdb":{"votes":1125}},{"metacritic":90,"title":"Gett: The Trial of Viviane Amsalem","year":2014,"imdb":{"votes":1895}},{"imdb":{"votes":314071},"year":2015,"metacritic":89,"title":"Mad Max: Fury Road"},{"imdb":{"votes":45986},"year":2014,"metacritic":89,"title":"Selma"},{"imdb":{"votes":25038},"year":2014,"metacritic":89,"title":"Two Days, One Night"}],"executionTimeMs":1237,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all movies starring Tom Hanks released after 2010 with an IMDb rating above 6.0","dbQuery":"db.movies.find(\n  {\n    cast: { $in: [\"Tom Hanks\"] },\n    year: { $gt: 2010, $exists: true, $ne: null },\n    \"imdb.rating\": { $gt: 6.0, $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    cast: 1,\n    imdb: { rating: 1 },\n    year: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"cast":["Tom Hanks","Thomas Horn","Sandra Bullock","Zoe Caldwell"],"title":"Extremely Loud & Incredibly Close","year":2011,"imdb":{"rating":6.9}},{"imdb":{"rating":7.5},"year":2012,"title":"Cloud Atlas","cast":["Tom Hanks","Halle Berry","Jim Broadbent","Hugo Weaving"]},{"imdb":{"rating":7.9},"year":2013,"title":"Captain Phillips","cast":["Tom Hanks","Catherine Keener","Barkhad Abdi","Barkhad Abdirahman"]},{"cast":["Emma Thompson","Tom Hanks","Annie Rose Buckley","Colin Farrell"],"title":"Saving Mr. Banks","year":2013,"imdb":{"rating":7.5}},{"cast":["Tom Hanks","Regen Wilson","Billy Campbell","Jesse Johnson"],"title":"Killing Lincoln","year":2013,"imdb":{"rating":6.8}},{"cast":["Tom Hanks","Tim Allen","Joan Cusack","Carl Weathers"],"title":"Toy Story of Terror","year":2013,"imdb":{"rating":7.6}},{"cast":["Tom Hanks","Tim Allen","Kristen Schaal","Kevin McKidd"],"title":"Toy Story That Time Forgot","year":2014,"imdb":{"rating":7.3}}],"executionTimeMs":1640,"queryOperators":["$in","$gt","$exists","$ne"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me how many new users registered in 2017","dbQuery":"db.users.aggregate([\n  {\n    $addFields: {\n      registrationDate: { $toDate: \"$_id\" }\n    }\n  },\n  {\n    $match: {\n      registrationDate: {\n        $gte: new Date(\"2017-01-01\"),\n        $lte: new Date(\"2017-12-31\")\n      }\n    }\n  },\n  {\n    $count: \"newUsersIn2017\"\n  }\n])","language":"mongosh","result":[{"newUsersIn2017":183}],"executionTimeMs":1152,"queryOperators":["$addFields","$toDate","$match","$gte","$lte","$count"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Count the total number of comments posted each month in 2016 to identify seasonal engagement patterns","dbQuery":"db.comments.aggregate([\n  {\n    $match: {\n      date: {\n        $gte: new Date(\"2016-01-01\"),\n        $lt: new Date(\"2017-01-01\")\n      }\n    }\n  },\n  {\n    $group: {\n      _id: {\n        year: { $year: \"$date\" },\n        month: { $month: \"$date\" }\n      },\n      commentCount: { $sum: 1 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      year: \"$_id.year\",\n      month: \"$_id.month\",\n      commentCount: 1\n    }\n  },\n  {\n    $sort: { month: 1 }\n  }\n])","language":"mongosh","result":[{"commentCount":66,"year":2016,"month":1},{"commentCount":79,"year":2016,"month":2},{"commentCount":69,"year":2016,"month":3},{"commentCount":57,"year":2016,"month":4},{"commentCount":72,"year":2016,"month":5},{"commentCount":71,"year":2016,"month":6},{"commentCount":78,"year":2016,"month":7},{"commentCount":76,"year":2016,"month":8},{"commentCount":79,"year":2016,"month":9},{"commentCount":75,"year":2016,"month":10},{"commentCount":71,"year":2016,"month":11},{"commentCount":75,"year":2016,"month":12}],"executionTimeMs":1170,"queryOperators":["$match","$gte","$lt","$group","$year","$month","$sum","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters located in Chicago, Illinois","dbQuery":"db.theaters.find(\n  {\n    \"location.address.city\": \"Chicago\",\n    $or: [\n      {\"location.address.state\": \"Illinois\"},\n      {\"location.address.state\": \"IL\"}\n    ]\n  },\n  {\n    theaterId: 1,\n    location: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"theaterId":8608,"location":{"address":{"street1":"10000 Bessie Coleman Drive","street2":null,"city":"Chicago","state":"IL","zipcode":"60018"},"geo":{"type":"Point","coordinates":[-87.885145,41.981285]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}}],"executionTimeMs":1107,"queryOperators":["$or"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the theater with ID number 2862","dbQuery":"db.theaters.find(\n  { theaterId: 2862 },\n  { \n    _id: 0,\n    theaterId: 1, \n    location: 1 \n  }\n)","language":"mongosh","result":[{"theaterId":2862,"location":{"address":{"street1":"4156-E North Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807425,41.953814]}}}],"executionTimeMs":1227,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in Illinois that are located in either Chicago, Norridge, or Springfield","dbQuery":"db.theaters.find({\n  \"location.address.state\": \"IL\",\n  \"location.address.city\": { $in: [\"Chicago\", \"Norridge\", \"Springfield\"] }\n}, {\n  theaterId: 1,\n  location: 1,\n  _id: 0\n})","language":"mongosh","result":[{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"theaterId":319,"location":{"address":{"street1":"4100a N Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807724,41.954472]}}},{"theaterId":2862,"location":{"address":{"street1":"4156-E North Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807425,41.953814]}}},{"theaterId":47,"location":{"address":{"street1":"3193 S Veterans Pkwy","city":"Springfield","state":"IL","zipcode":"62704"},"geo":{"type":"Point","coordinates":[-89.706505,39.75972]}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"theaterId":8608,"location":{"address":{"street1":"10000 Bessie Coleman Drive","street2":null,"city":"Chicago","state":"IL","zipcode":"60018"},"geo":{"type":"Point","coordinates":[-87.885145,41.981285]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}}],"executionTimeMs":1191,"queryOperators":["$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the first 10 theaters located in Georgia or Illinois, sorted by theater ID","dbQuery":"db.theaters.find(\n  {\n    $or: [\n      { \"location.address.state\": \"GA\" },\n      { \"location.address.state\": \"IL\" }\n    ]\n  },\n  {\n    theaterId: 1,\n    location: 1,\n    _id: 0\n  }\n).sort({ theaterId: 1 }).limit(10)","language":"mongosh","result":[{"theaterId":23,"location":{"address":{"street1":"4401 16th St","city":"Moline","state":"IL","zipcode":"61265"},"geo":{"type":"Point","coordinates":[-90.50766,41.46843]}}},{"theaterId":31,"location":{"address":{"street1":"26 Plaza Dr.","city":"Fairview Heights","state":"IL","zipcode":"62208"},"geo":{"type":"Point","coordinates":[-89.990382,38.5889386]}}},{"theaterId":45,"location":{"address":{"street1":"281 Deane Dr","city":"Rockford","state":"IL","zipcode":"61107"},"geo":{"type":"Point","coordinates":[-88.982018,42.270618]}}},{"theaterId":46,"location":{"address":{"street1":"2117 N Prospect Ave","city":"Champaign","state":"IL","zipcode":"61822"},"geo":{"type":"Point","coordinates":[-88.259209,40.142494]}}},{"theaterId":47,"location":{"address":{"street1":"3193 S Veterans Pkwy","city":"Springfield","state":"IL","zipcode":"62704"},"geo":{"type":"Point","coordinates":[-89.706505,39.75972]}}},{"theaterId":49,"location":{"address":{"street1":"2103 N Veterans Pkwy","street2":"Ste 200","city":"Bloomington","state":"IL","zipcode":"61704"},"geo":{"type":"Point","coordinates":[-88.951569,40.504742]}}},{"theaterId":207,"location":{"address":{"street1":"5001 N Big Hollow Rd","city":"Peoria","state":"IL","zipcode":"61615"},"geo":{"type":"Point","coordinates":[-89.64386,40.750259]}}},{"theaterId":301,"location":{"address":{"street1":"1432 Butterfield Rd","city":"Downers Grove","state":"IL","zipcode":"60515"},"geo":{"type":"Point","coordinates":[-88.017883,41.835686]}}},{"theaterId":302,"location":{"address":{"street1":"5425 Touhy Ave.","city":"Skokie","state":"IL","zipcode":"60077"},"geo":{"type":"Point","coordinates":[-87.763657,42.011208]}}},{"theaterId":303,"location":{"address":{"street1":"615 E Palatine Rd","city":"Arlington Heights","state":"IL","zipcode":"60004"},"geo":{"type":"Point","coordinates":[-87.975845,42.108238]}}}],"executionTimeMs":1310,"queryOperators":["$or"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the 5 theaters with the highest theater ID numbers that are located in either Illinois or Georgia, have ZIP codes starting with either '3' or '6', and are in cities that contain the letter 'r' in their name","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"GA\"] },\n      \"location.address.zipcode\": { $regex: /^[36]/ },\n      \"location.address.city\": { $regex: /r/i }\n    }\n  },\n  {\n    $sort: { theaterId: -1 }\n  },\n  {\n    $limit: 5\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: 1\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":8534,"location":{"address":{"street1":"I-94, South of Irving Park Road Mile post 38","street2":null,"city":"Schiller Park","state":"IL","zipcode":"60176"},"geo":{"type":"Point","coordinates":[-87.869706,41.9545]}}},{"theaterId":8532,"location":{"address":{"street1":"I-94, Between Illinois Routes 60 and 176 Mile post 18","street2":null,"city":"Lake Forest","state":"IL","zipcode":"60045"},"geo":{"type":"Point","coordinates":[-87.840625,42.258634]}}},{"theaterId":8528,"location":{"address":{"street1":"I-90, East of Belvidere Toll Plaza Mile post 24","street2":null,"city":"Belvidere","state":"IL","zipcode":"61008"},"geo":{"type":"Point","coordinates":[-88.844267,42.26391]}}},{"theaterId":2960,"location":{"address":{"street1":"7501 W Cermak Rd","street2":"Ste N006","city":"Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.811262,41.847938]}}},{"theaterId":2862,"location":{"address":{"street1":"4156-E North Harlem Ave","city":"Norridge","state":"IL","zipcode":"60706"},"geo":{"type":"Point","coordinates":[-87.807425,41.953814]}}}],"executionTimeMs":1173,"queryOperators":["$match","$in","$regex","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me theaters in Illinois and Georgia where the longitude is between -88 and -84 degrees, group them by state, and return the count of theaters per state along with the theater with the lowest ID in each state","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"GA\"] },\n      \"location.geo.coordinates.0\": { $gte: -88, $lte: -84 }\n    }\n  },\n  {\n    $sort: { \"theaterId\": 1 }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 },\n      representativeTheater: {\n        $first: {\n          theaterId: \"$theaterId\",\n          location: \"$location\"\n        }\n      }\n    }\n  },\n  {\n    $sort: { \"_id\": 1 }\n  }\n])","language":"mongosh","result":[{"_id":"GA","count":33,"representativeTheater":{"theaterId":389,"location":{"address":{"street1":"1540 Dogwood Dr Se","city":"Conyers","state":"GA","zipcode":"30013"},"geo":{"type":"Point","coordinates":[-84.08573,33.69778]}}}},{"_id":"IL","count":36,"representativeTheater":{"theaterId":302,"location":{"address":{"street1":"5425 Touhy Ave.","city":"Skokie","state":"IL","zipcode":"60077"},"geo":{"type":"Point","coordinates":[-87.763657,42.011208]}}}}],"executionTimeMs":1283,"queryOperators":["$match","$in","$gte","$lte","$sort","$group","$sum","$first"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 highest-rated drama movies from 2005 to 2010 with at least 1000 IMDb votes","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  year: { $gte: 2005, $lte: 2010 },\n  \"imdb.votes\": { $gte: 1000 },\n  \"imdb.rating\": { $exists: true, $ne: null }\n}, {\n  title: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  genres: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":9,"votes":1495351},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight"},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16574}},{"genres":["Drama"],"title":"My Father and My Son","year":2005,"imdb":{"rating":8.7,"votes":32181}},{"genres":["Drama","War"],"title":"Generation Kill","year":2008,"imdb":{"rating":8.7,"votes":29637}},{"genres":["Biography","Drama","History"],"title":"John Adams","year":2008,"imdb":{"rating":8.7,"votes":16851}},{"genres":["Drama"],"title":"Bleak House","year":2005,"imdb":{"rating":8.6,"votes":5645}},{"imdb":{"rating":8.5,"votes":231904},"year":2006,"genres":["Drama","Thriller"],"title":"The Lives of Others"},{"genres":["Crime","Drama","Mystery"],"title":"Prime Suspect 7: The Final Act","year":2006,"imdb":{"rating":8.5,"votes":1667}},{"genres":["Drama","Romance"],"title":"Jane Eyre","year":2006,"imdb":{"rating":8.5,"votes":12815}},{"imdb":{"rating":8.5,"votes":743761},"year":2006,"genres":["Drama","Mystery","Thriller"],"title":"The Prestige"}],"executionTimeMs":1237,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find action movies from 2008-2012 with IMDb rating above 7.5, Rotten Tomatoes critic meter above 80, and Metacritic score above 70","dbQuery":"db.movies.find({\n  $and: [\n    { genres: \"Action\" },\n    { year: { $gte: 2008, $lte: 2012 } },\n    { \"imdb.rating\": { $exists: true, $gt: 7.5 } },\n    { \"tomatoes.critic.meter\": { $exists: true, $gt: 80 } },\n    { metacritic: { $exists: true, $gt: 70 } }\n  ]\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  metacritic: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":7.6},"year":2008,"genres":["Animation","Action","Adventure"],"metacritic":73,"title":"Kung Fu Panda","tomatoes":{"critic":{"meter":87}}},{"imdb":{"rating":9},"year":2008,"genres":["Action","Crime","Drama"],"metacritic":82,"title":"The Dark Knight","tomatoes":{"critic":{"meter":94}}},{"imdb":{"rating":7.9},"year":2009,"genres":["Action","Adventure","Fantasy"],"metacritic":83,"title":"Avatar","tomatoes":{"critic":{"meter":83}}},{"imdb":{"rating":8},"year":2009,"genres":["Action","Adventure","Sci-Fi"],"metacritic":83,"title":"Star Trek","tomatoes":{"critic":{"meter":95}}},{"genres":["Action","Adventure","Thriller"],"metacritic":81,"title":"Skyfall","year":2012,"imdb":{"rating":7.8},"tomatoes":{"critic":{"meter":92}}},{"imdb":{"rating":8},"year":2009,"genres":["Action","Sci-Fi","Thriller"],"metacritic":81,"title":"District 9","tomatoes":{"critic":{"meter":90}}},{"imdb":{"rating":7.6},"year":2008,"genres":["Action","Biography","Crime"],"metacritic":71,"title":"Mesrine Part 1: Killer Instinct","tomatoes":{"critic":{"meter":81}}},{"imdb":{"rating":8.5},"year":2012,"genres":["Action","Thriller"],"metacritic":78,"title":"The Dark Knight Rises","tomatoes":{"critic":{"meter":87}}},{"imdb":{"rating":8.8},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"metacritic":74,"title":"Inception","tomatoes":{"critic":{"meter":86}}},{"genres":["Action","Adventure","Drama"],"metacritic":87,"title":"13 Assassins","year":2010,"imdb":{"rating":7.6},"tomatoes":{"critic":{"meter":96}}},{"imdb":{"rating":7.6},"year":2011,"genres":["Action","Thriller"],"metacritic":73,"title":"The Raid: Redemption","tomatoes":{"critic":{"meter":85}}},{"genres":["Action","Crime","Drama"],"metacritic":89,"title":"Gangs of Wasseypur","year":2012,"imdb":{"rating":8.4},"tomatoes":{"critic":{"meter":95}}}],"executionTimeMs":1453,"queryOperators":["$and","$gte","$lte","$exists","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 highest-rated movies under 100 minutes runtime from 2006-2009 with at least 500 IMDb votes","dbQuery":"db.movies.find({\n  runtime: { $lt: 100, $exists: true },\n  year: { $gte: 2006, $lte: 2009 },\n  \"imdb.rating\": { $exists: true, $ne: null },\n  \"imdb.votes\": { $gte: 500 }\n}, {\n  title: 1,\n  runtime: 1,\n  year: 1,\n  imdb: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(15)","language":"mongosh","result":[{"runtime":60,"title":"Planet Earth","year":2006,"imdb":{"rating":9.5,"votes":82896,"id":795176}},{"runtime":49,"title":"Nature's Most Amazing Events","year":2009,"imdb":{"rating":9,"votes":2102,"id":1380596}},{"runtime":60,"title":"WWII in HD","year":2009,"imdb":{"rating":8.7,"votes":1222,"id":1489097}},{"runtime":42,"title":"Dr. Horrible's Sing-Along Blog","year":2008,"imdb":{"rating":8.7,"votes":30488,"id":1227926}},{"runtime":70,"title":"Generation Kill","year":2008,"imdb":{"rating":8.7,"votes":29637,"id":995832}},{"runtime":30,"title":"Assume the Position with Mr. Wuhl","year":2006,"imdb":{"rating":8.6,"votes":503,"id":788006}},{"runtime":60,"title":"Wild China","year":2008,"imdb":{"rating":8.6,"votes":1773,"id":884762}},{"runtime":97,"title":"Sigur Rès: Heima","year":2007,"imdb":{"rating":8.6,"votes":6705,"id":1094594}},{"runtime":5,"title":"Presto","year":2008,"imdb":{"rating":8.5,"votes":15430,"id":1245104}},{"imdb":{"rating":8.5,"votes":38009,"id":1313104},"year":2009,"title":"The Cove","runtime":92},{"runtime":85,"title":"U2 3D","year":2007,"imdb":{"rating":8.4,"votes":2638,"id":892375}},{"imdb":{"rating":8.4,"votes":628222,"id":910970},"year":2008,"title":"WALLèE","runtime":98},{"runtime":16,"title":"Validation","year":2007,"imdb":{"rating":8.3,"votes":3226,"id":986272}},{"runtime":12,"title":"The House of Small Cubes","year":2008,"imdb":{"rating":8.3,"votes":4465,"id":1361566}},{"imdb":{"rating":8.3,"votes":575622,"id":1049413},"year":2009,"title":"Up","runtime":96}],"executionTimeMs":1763,"queryOperators":["$lt","$exists","$gte","$lte","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies released between 2007-2011 that won at least 3 awards, have an IMDb rating above 7.0, generated more than 20 platform comments, and belong to either Drama or Thriller genres","dbQuery":"db.movies.find({\n  year: { $gte: 2007, $lte: 2011 },\n  \"awards.wins\": { $gte: 3 },\n  \"imdb.rating\": { $gt: 7.0 },\n  num_mflix_comments: { $gt: 20 },\n  genres: { $in: [\"Drama\", \"Thriller\"] },\n  awards: { $exists: true },\n  imdb: { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  \"awards.wins\": 1,\n  \"awards.text\": 1,\n  \"imdb.rating\": 1,\n  num_mflix_comments: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":7.2},"year":2007,"genres":["Action","Adventure","Thriller"],"title":"Live Free or Die Hard","num_mflix_comments":141,"awards":{"wins":4,"text":"4 wins & 15 nominations."}},{"imdb":{"rating":8.3},"year":2009,"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","num_mflix_comments":127,"awards":{"wins":138,"text":"Won 1 Oscar. Another 137 wins & 114 nominations."}},{"imdb":{"rating":7.8},"year":2008,"genres":["Drama","Fantasy","Romance"],"title":"The Curious Case of Benjamin Button","num_mflix_comments":128,"awards":{"wins":75,"text":"Won 3 Oscars. Another 72 wins & 118 nominations."}},{"imdb":{"rating":7.5},"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138,"awards":{"wins":36,"text":"Won 1 Oscar. Another 35 wins & 57 nominations."}},{"imdb":{"rating":8.1},"year":2007,"genres":["Action","Thriller"],"title":"The Bourne Ultimatum","num_mflix_comments":140,"awards":{"wins":28,"text":"Won 3 Oscars. Another 25 wins & 35 nominations."}},{"imdb":{"rating":9},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136,"awards":{"wins":144,"text":"Won 2 Oscars. Another 142 wins & 106 nominations."}},{"imdb":{"rating":7.2},"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148,"awards":{"wins":9,"text":"9 wins & 21 nominations."}},{"imdb":{"rating":7.8},"year":2007,"genres":["Biography","Crime","Drama"],"title":"American Gangster","num_mflix_comments":111,"awards":{"wins":14,"text":"Nominated for 2 Oscars. Another 12 wins & 31 nominations."}},{"imdb":{"rating":7.9},"year":2008,"genres":["Action","Thriller"],"title":"Taken","num_mflix_comments":127,"awards":{"wins":3,"text":"3 wins & 1 nomination."}},{"imdb":{"rating":8},"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","num_mflix_comments":127,"awards":{"wins":161,"text":"Won 8 Oscars. Another 153 wins & 91 nominations."}},{"imdb":{"rating":8.1},"year":2010,"genres":["Mystery","Thriller"],"title":"Shutter Island","num_mflix_comments":142,"awards":{"wins":7,"text":"7 wins & 53 nominations."}},{"imdb":{"rating":8},"year":2009,"genres":["Action","Sci-Fi","Thriller"],"title":"District 9","num_mflix_comments":111,"awards":{"wins":34,"text":"Nominated for 4 Oscars. Another 30 wins & 90 nominations."}}],"executionTimeMs":1174,"queryOperators":["$gte","$lte","$gt","$in","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"What is the theater count for Illinois, Michigan, Wisconsin, and Indiana?","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"MI\", \"WI\", \"IN\"] }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"IL","count":70},{"_id":"IN","count":35},{"_id":"MI","count":45},{"_id":"WI","count":35}],"executionTimeMs":1164,"queryOperators":["$match","$in","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me theaters in Chicago, Detroit, Milwaukee, and Indianapolis with their complete location details","dbQuery":"db.theaters.find({\"location.address.city\": {$in: [\"Chicago\", \"Detroit\", \"Milwaukee\", \"Indianapolis\"]}})","language":"mongosh","result":[{"_id":"59a47286cfa9a3a73e51e7ae","theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"_id":"59a47286cfa9a3a73e51e7fb","theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"_id":"59a47287cfa9a3a73e51e8e7","theaterId":1910,"location":{"address":{"street1":"6020 East 82nd Street","street2":"#410C","city":"Indianapolis","state":"IN","zipcode":"46250"},"geo":{"type":"Point","coordinates":[-86.061677,39.907886]}}},{"_id":"59a47287cfa9a3a73e51e8ba","theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"_id":"59a47287cfa9a3a73e51e937","theaterId":231,"location":{"address":{"street1":"4625 Lafayette Road","city":"Indianapolis","state":"IN","zipcode":"46254"},"geo":{"type":"Point","coordinates":[-86.254257,39.825542]}}},{"_id":"59a47287cfa9a3a73e51eac4","theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"_id":"59a47287cfa9a3a73e51e934","theaterId":229,"location":{"address":{"street1":"5820 E 82nd St","city":"Indianapolis","state":"IN","zipcode":"46250"},"geo":{"type":"Point","coordinates":[-86.069351,39.905849]}}},{"_id":"59a47287cfa9a3a73e51e938","theaterId":232,"location":{"address":{"street1":"9977 E Washington St","city":"Indianapolis","state":"IN","zipcode":"46229"},"geo":{"type":"Point","coordinates":[-85.992188,39.773041]}}},{"_id":"59a47287cfa9a3a73e51ec69","theaterId":8080,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"},"geo":{"type":"Point","coordinates":[-86.298064,39.714695]}}},{"_id":"59a47287cfa9a3a73e51ec75","theaterId":8092,"location":{"address":{"street1":"5300 South Howell Ave","street2":null,"city":"Milwaukee","state":"WI","zipcode":"53207"},"geo":{"type":"Point","coordinates":[-87.904261,42.948026]}}},{"_id":"59a47287cfa9a3a73e51ec83","theaterId":8114,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.002751,42.408969]}}},{"_id":"59a47287cfa9a3a73e51eca0","theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"_id":"59a47287cfa9a3a73e51ed04","theaterId":8608,"location":{"address":{"street1":"10000 Bessie Coleman Drive","street2":null,"city":"Chicago","state":"IL","zipcode":"60018"},"geo":{"type":"Point","coordinates":[-87.885145,41.981285]}}},{"_id":"59a47287cfa9a3a73e51ec5c","theaterId":8067,"location":{"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","street2":null,"city":"Indianapolis","state":"IN","zipcode":"46241"},"geo":{"type":"Point","coordinates":[-86.298064,39.714695]}}},{"_id":"59a47287cfa9a3a73e51ecb3","theaterId":8177,"location":{"address":{"street1":"11499 Conner Street","street2":null,"city":"Detroit","state":"MI","zipcode":"48213"},"geo":{"type":"Point","coordinates":[-83.003717,42.409021]}}},{"_id":"59a47287cfa9a3a73e51ed03","theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"_id":"59a47287cfa9a3a73e51ed31","theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}}],"executionTimeMs":1212,"queryOperators":["$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Which states have fewer than 5 theaters and what are the theater counts?","dbQuery":"db.theaters.aggregate([\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $match: {\n      count: { $lt: 5 }\n    }\n  },\n  {\n    $sort: { count: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"WY","count":2},{"_id":"VT","count":2},{"_id":"PR","count":3},{"_id":"MT","count":3},{"_id":"DC","count":3},{"_id":"RI","count":3},{"_id":"SD","count":3},{"_id":"AK","count":4}],"executionTimeMs":1477,"queryOperators":["$group","$sum","$match","$lt","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters in states bordering the Great Lakes (Illinois, Indiana, Michigan, Ohio, Wisconsin) grouped by state, showing theater count, average coordinates, and complete address details for each location","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"IL\", \"IN\", \"MI\", \"OH\", \"WI\"] }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      theaterCount: { $sum: 1 },\n      avgLongitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 0] } },\n      avgLatitude: { $avg: { $arrayElemAt: [\"$location.geo.coordinates\", 1] } },\n      theaters: {\n        $push: {\n          theaterId: \"$theaterId\",\n          address: {\n            street1: \"$location.address.street1\",\n            city: \"$location.address.city\",\n            zipcode: \"$location.address.zipcode\"\n          },\n          coordinates: \"$location.geo.coordinates\"\n        }\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      state: \"$_id\",\n      theaterCount: 1,\n      avgLongitude: 1,\n      avgLatitude: 1,\n      theaters: 1\n    }\n  },\n  {\n    $sort: { state: 1 }\n  }\n])","language":"mongosh","result":[{"theaterCount":70,"avgLongitude":-88.26311148571428,"avgLatitude":41.50667029428571,"theaters":[{"theaterId":1066,"address":{"street1":"7330 191st St","city":"Tinley Park","zipcode":"60477"},"coordinates":[-87.798416,41.550053]},{"theaterId":1165,"address":{"street1":"1072 Willow Road","city":"Northbrook","zipcode":"60062"},"coordinates":[-87.80494,42.10671]},{"theaterId":1169,"address":{"street1":"1561 S Randall Rd","city":"Algonquin","zipcode":"60102"},"coordinates":[-88.333092,42.156265]},{"theaterId":1142,"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","zipcode":"60607"},"coordinates":[-87.64116,41.86686]},{"theaterId":1166,"address":{"street1":"3200 Shoppers Dr","city":"Mchenry","zipcode":"60050"},"coordinates":[-88.265358,42.361271]},{"theaterId":1381,"address":{"street1":"875 N Michigan Ave","city":"Chicago","zipcode":"60611"},"coordinates":[-87.623052,41.898798]},{"theaterId":1073,"address":{"street1":"6020 Broadway St","city":"Quincy","zipcode":"62305"},"coordinates":[-91.321,39.93423]},{"theaterId":1123,"address":{"street1":"1584 N State Route 50","city":"Bourbonnais","zipcode":"60914"},"coordinates":[-87.850174,41.172596]},{"theaterId":1170,"address":{"street1":"2600 Us Hwy 34","city":"Oswego","zipcode":"60543"},"coordinates":[-88.32581,41.69234]},{"theaterId":1048,"address":{"street1":"17800 S Halsted St","city":"Homewood","zipcode":"60430"},"coordinates":[-87.637192,41.56646]},{"theaterId":1426,"address":{"street1":"6670 Edwardsville Crossing Drive","city":"Edwardsville","zipcode":"62025"},"coordinates":[-89.95327,38.784763]},{"theaterId":1778,"address":{"street1":"1830 Towne Centre Drive","city":"North Aurora","zipcode":"60542"},"coordinates":[-88.36679,41.79631]},{"theaterId":1955,"address":{"street1":"6170 Grand Avenue","city":"Gurnee","zipcode":"60031"},"coordinates":[-87.956702,42.3839]},{"theaterId":207,"address":{"street1":"5001 N Big Hollow Rd","city":"Peoria","zipcode":"61615"},"coordinates":[-89.64386,40.750259]},{"theaterId":1777,"address":{"street1":"3262 W Belmont Ave","city":"Chicago","zipcode":"60618"},"coordinates":[-87.71181,41.94017]},{"theaterId":1922,"address":{"street1":"122 Hawthorn Center","city":"Vernon Hills","zipcode":"60061"},"coordinates":[-87.946287,42.243053]},{"theaterId":23,"address":{"street1":"4401 16th St","city":"Moline","zipcode":"61265"},"coordinates":[-90.50766,41.46843]},{"theaterId":2743,"address":{"street1":"1208 Fox Valley Center Drive","city":"Aurora","zipcode":"60504"},"coordinates":[-88.211997,41.760322]},{"theaterId":2447,"address":{"street1":"7602 S Cicero Avenue","city":"Burbank","zipcode":"60459"},"coordinates":[-87.743288,41.755876]},{"theaterId":2765,"address":{"street1":"1615 East Empire St","city":"Bloomington","zipcode":"61701"},"coordinates":[-88.956401,40.485889]},{"theaterId":2805,"address":{"street1":"2000 North Neil St.","city":"Champaign","zipcode":"61820"},"coordinates":[-88.244711,40.139964]},{"theaterId":2960,"address":{"street1":"7501 W Cermak Rd","city":"Riverside","zipcode":"60546"},"coordinates":[-87.811262,41.847938]},{"theaterId":301,"address":{"street1":"1432 Butterfield Rd","city":"Downers Grove","zipcode":"60515"},"coordinates":[-88.017883,41.835686]},{"theaterId":308,"address":{"street1":"15854 S La Grange Rd","city":"Orland Park","zipcode":"60462"},"coordinates":[-87.857353,41.602459]},{"theaterId":315,"address":{"street1":"6000 Northwest Highway 14","city":"Crystal Lake","zipcode":"60014"},"coordinates":[-88.315041,42.227116]},{"theaterId":320,"address":{"street1":"2358 Harlem Ave","city":"North Riverside","zipcode":"60546"},"coordinates":[-87.805817,41.847572]},{"theaterId":304,"address":{"street1":"350 W Army Trail Rd","city":"Bloomingdale","zipcode":"60108"},"coordinates":[-88.110245,41.93795]},{"theaterId":307,"address":{"street1":"3351 Mall Loop Dr","city":"Joliet","zipcode":"60431"},"coordinates":[-88.165031,41.580746]},{"theaterId":323,"address":{"street1":"1000 W North Ave","city":"Chicago","zipcode":"60642"},"coordinates":[-87.653557,41.912025]},{"theaterId":319,"address":{"street1":"4100a N Harlem Ave","city":"Norridge","zipcode":"60706"},"coordinates":[-87.807724,41.954472]},{"theaterId":2741,"address":{"street1":"578 Chicago Ridge Mall","city":"Chicago Ridge","zipcode":"60415"},"coordinates":[-87.782524,41.719056]},{"theaterId":2759,"address":{"street1":"134 St. Clair Square","city":"Fairview Heights","zipcode":"62208"},"coordinates":[-89.980302,38.59601]},{"theaterId":2862,"address":{"street1":"4156-E North Harlem Ave","city":"Norridge","zipcode":"60706"},"coordinates":[-87.807425,41.953814]},{"theaterId":2889,"address":{"street1":"3333 W Touhy Ave","city":"Lincolnwood","zipcode":"60712"},"coordinates":[-87.71208,42.011834]},{"theaterId":313,"address":{"street1":"2301 Howard St","city":"Evanston","zipcode":"60202"},"coordinates":[-87.708527,42.020679]},{"theaterId":306,"address":{"street1":"4925 Cal Sag Rd","city":"Crestwood","zipcode":"60445"},"coordinates":[-87.7367,41.65369]},{"theaterId":316,"address":{"street1":"7401 Lemont Rd","city":"Downers Grove","zipcode":"60516"},"coordinates":[-88.008904,41.752937]},{"theaterId":302,"address":{"street1":"5425 Touhy Ave.","city":"Skokie","zipcode":"60077"},"coordinates":[-87.763657,42.011208]},{"theaterId":311,"address":{"street1":"7600 S Cicero Ave","city":"Burbank","zipcode":"60459"},"coordinates":[-87.742494,41.755972]},{"theaterId":2761,"address":{"street1":"3340 Mall Loop Drive","city":"Joliet","zipcode":"60431"},"coordinates":[-88.16428,41.577948]},{"theaterId":2902,"address":{"street1":"96 River Oaks Ctr","city":"Calumet City","zipcode":"60409"},"coordinates":[-87.555288,41.597441]},{"theaterId":303,"address":{"street1":"615 E Palatine Rd","city":"Arlington Heights","zipcode":"60004"},"coordinates":[-87.975845,42.108238]},{"theaterId":305,"address":{"street1":"900 E Golf Rd","city":"Schaumburg","zipcode":"60173"},"coordinates":[-88.05732,42.051189]},{"theaterId":310,"address":{"street1":"4400 E New York St","city":"Aurora","zipcode":"60504"},"coordinates":[-88.207924,41.76503]},{"theaterId":312,"address":{"street1":"17151 Torrence Ave","city":"Lansing","zipcode":"60438"},"coordinates":[-87.557167,41.584328]},{"theaterId":318,"address":{"street1":"701 N Milwaukee Ave","city":"Vernon Hills","zipcode":"60061"},"coordinates":[-87.942871,42.238525]},{"theaterId":31,"address":{"street1":"26 Plaza Dr.","city":"Fairview Heights","zipcode":"62208"},"coordinates":[-89.990382,38.5889386]},{"theaterId":322,"address":{"street1":"1334 Winston Plz","city":"Melrose Park","zipcode":"60160"},"coordinates":[-87.849403,41.90707]},{"theaterId":324,"address":{"street1":"11 Countryside Plz","city":"Countryside","zipcode":"60525"},"coordinates":[-87.872665,41.783432]},{"theaterId":387,"address":{"street1":"1876 S Randall Rd","city":"Geneva","zipcode":"60134"},"coordinates":[-88.342552,41.867233]},{"theaterId":45,"address":{"street1":"281 Deane Dr","city":"Rockford","zipcode":"61107"},"coordinates":[-88.982018,42.270618]},{"theaterId":47,"address":{"street1":"3193 S Veterans Pkwy","city":"Springfield","zipcode":"62704"},"coordinates":[-89.706505,39.75972]},{"theaterId":49,"address":{"street1":"2103 N Veterans Pkwy","city":"Bloomington","zipcode":"61704"},"coordinates":[-88.951569,40.504742]},{"theaterId":46,"address":{"street1":"2117 N Prospect Ave","city":"Champaign","zipcode":"61822"},"coordinates":[-88.259209,40.142494]},{"theaterId":606,"address":{"street1":"1450 Koester DR","city":"Forsyth","zipcode":"62535"},"coordinates":[-88.952835,39.914738]},{"theaterId":647,"address":{"street1":"20771 N Rand Rd","city":"Kildeer","zipcode":"60047"},"coordinates":[-88.055824,42.164577]},{"theaterId":813,"address":{"street1":"315 N Weber Rd","city":"Bolingbrook","zipcode":"60490"},"coordinates":[-88.127853,41.705456]},{"theaterId":8528,"address":{"street1":"I-90, East of Belvidere Toll Plaza Mile post 24","city":"Belvidere","zipcode":"61008"},"coordinates":[-88.844267,42.26391]},{"theaterId":8534,"address":{"street1":"I-94, South of Irving Park Road Mile post 38","city":"Schiller Park","zipcode":"60176"},"coordinates":[-87.869706,41.9545]},{"theaterId":492,"address":{"street1":"1270 E Main St","city":"Carbondale","zipcode":"62901"},"coordinates":[-89.192314,37.732719]},{"theaterId":8529,"address":{"street1":"2700 Crego Rd; I-88, West of the Peace Road exit Mile post 93","city":"DeKalb","zipcode":"60115"},"coordinates":[-88.722857,41.948296]},{"theaterId":814,"address":{"street1":"2100 N Elston Ave","city":"Chicago","zipcode":"60614"},"coordinates":[-87.670631,41.919514]},{"theaterId":8608,"address":{"street1":"10000 Bessie Coleman Drive","city":"Chicago","zipcode":"60018"},"coordinates":[-87.885145,41.981285]},{"theaterId":607,"address":{"street1":"424 Randall Rd","city":"South Elgin","zipcode":"60177"},"coordinates":[-88.343216,41.984211]},{"theaterId":8532,"address":{"street1":"I-94, Between Illinois Routes 60 and 176 Mile post 18","city":"Lake Forest","zipcode":"60045"},"coordinates":[-87.840625,42.258634]},{"theaterId":849,"address":{"street1":"6525 Grand Ave","city":"Gurnee","zipcode":"60031"},"coordinates":[-87.965179,42.381054]},{"theaterId":8531,"address":{"street1":"5800 Tri State Toll Road","city":"Hinsdale","zipcode":"60521"},"coordinates":[-87.928578,41.796746]},{"theaterId":8605,"address":{"street1":"2233 S Martin L King Dr","city":"Chicago","zipcode":"60616"},"coordinates":[-87.618948,41.851242]},{"theaterId":893,"address":{"street1":"2074 Sycamore Rd","city":"Dekalb","zipcode":"60115"},"coordinates":[-88.722191,41.947678]},{"theaterId":8920,"address":{"street1":"172 West Adams Street","city":"Chicago","zipcode":"60603"},"coordinates":[-87.633141,41.879731]}],"state":"IL"},{"theaterCount":35,"avgLongitude":-86.25849008571429,"avgLatitude":40.00997171428571,"theaters":[{"theaterId":1252,"address":{"street1":"3720 National Road E","city":"Richmond","zipcode":"47374"},"coordinates":[-84.8507,39.831001]},{"theaterId":1010,"address":{"street1":"1025 Veterans Pkwy","city":"Clarksville","zipcode":"47129"},"coordinates":[-85.76461,38.327175]},{"theaterId":1025,"address":{"street1":"17200 Mercantile Blvd","city":"Noblesville","zipcode":"46060"},"coordinates":[-85.990822,40.038788]},{"theaterId":1910,"address":{"street1":"6020 East 82nd Street","city":"Indianapolis","zipcode":"46250"},"coordinates":[-86.061677,39.907886]},{"theaterId":1094,"address":{"street1":"10025 N Michigan Rd","city":"Carmel","zipcode":"46032"},"coordinates":[-86.230759,39.934792]},{"theaterId":1774,"address":{"street1":"10243 Indianapolis Blvd","city":"Highland","zipcode":"46322"},"coordinates":[-87.46818,41.52766]},{"theaterId":1945,"address":{"street1":"2109 Southlake Mall","city":"Merrillville","zipcode":"46410"},"coordinates":[-87.306108,41.468893]},{"theaterId":231,"address":{"street1":"4625 Lafayette Road","city":"Indianapolis","zipcode":"46254"},"coordinates":[-86.254257,39.825542]},{"theaterId":2512,"address":{"street1":"1343 North National Avenue","city":"Columbus","zipcode":"47201"},"coordinates":[-85.878748,39.211812]},{"theaterId":2704,"address":{"street1":"1251 US Hwy 31 N","city":"Greenwood","zipcode":"46142"},"coordinates":[-86.105015,39.59991]},{"theaterId":2716,"address":{"street1":"2856 E 3rd St","city":"Bloomington","zipcode":"47401"},"coordinates":[-86.495262,39.164202]},{"theaterId":227,"address":{"street1":"6300 E Lloyd Expressway","city":"Evansville","zipcode":"47715"},"coordinates":[-87.490852,37.984589]},{"theaterId":230,"address":{"street1":"562 W. Fry Rd","city":"Greenwood","zipcode":"46142"},"coordinates":[-86.118225,39.62878]},{"theaterId":2727,"address":{"street1":"4201 Coldwater Road","city":"Fort Wayne","zipcode":"46805"},"coordinates":[-85.136425,41.117674]},{"theaterId":2939,"address":{"street1":"3501 N Granville Ave","city":"Muncie","zipcode":"47303"},"coordinates":[-85.375443,40.221703]},{"theaterId":325,"address":{"street1":"6502 Grape Rd","city":"Mishawaka","zipcode":"46545"},"coordinates":[-86.18383,41.71912]},{"theaterId":368,"address":{"street1":"1770 Apple Glen Blvd","city":"Fort Wayne","zipcode":"46804"},"coordinates":[-85.201164,41.067696]},{"theaterId":229,"address":{"street1":"5820 E 82nd St","city":"Indianapolis","zipcode":"46250"},"coordinates":[-86.069351,39.905849]},{"theaterId":232,"address":{"street1":"9977 E Washington St","city":"Indianapolis","zipcode":"46229"},"coordinates":[-85.992188,39.773041]},{"theaterId":2501,"address":{"street1":"3676 South US Highway 41","city":"Terre Haute","zipcode":"47802"},"coordinates":[-87.416047,39.422271]},{"theaterId":2705,"address":{"street1":"2415 Sagamore Parkway South","city":"Lafayette","zipcode":"47905"},"coordinates":[-86.854373,40.393013]},{"theaterId":2717,"address":{"street1":"800 North Green River Road","city":"Evansville","zipcode":"47715"},"coordinates":[-87.495694,37.981338]},{"theaterId":2946,"address":{"street1":"757 Lewis & Clark Pkwy East","city":"Clarksville","zipcode":"47129"},"coordinates":[-85.766159,38.314503]},{"theaterId":2958,"address":{"street1":"1114 S 17th St","city":"Kokomo","zipcode":"46902"},"coordinates":[-86.110929,40.475224]},{"theaterId":327,"address":{"street1":"2323 Sagamore Pkwy S","city":"Lafayette","zipcode":"47905"},"coordinates":[-86.852875,40.394775]},{"theaterId":228,"address":{"street1":"737 Northcrest Shopping Ctr","city":"Fort Wayne","zipcode":"46805"},"coordinates":[-85.131424,41.119022]},{"theaterId":309,"address":{"street1":"2490 E 79th Ave","city":"Merrillville","zipcode":"46410"},"coordinates":[-87.304314,41.473297]},{"theaterId":371,"address":{"street1":"1403 S Reed Rd","city":"Kokomo","zipcode":"46902"},"coordinates":[-86.109589,40.47047]},{"theaterId":490,"address":{"street1":"14610 N Meridian St","city":"Carmel","zipcode":"46032"},"coordinates":[-86.129921,40.000778]},{"theaterId":858,"address":{"street1":"2721 E 3rd St","city":"Bloomington","zipcode":"47401"},"coordinates":[-86.497787,39.165169]},{"theaterId":8080,"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","city":"Indianapolis","zipcode":"46241"},"coordinates":[-86.298064,39.714695]},{"theaterId":489,"address":{"street1":"10346 E US Highway 36","city":"Avon","zipcode":"46123"},"coordinates":[-86.345963,39.765411]},{"theaterId":491,"address":{"street1":"3301 N Marleon Dr","city":"Muncie","zipcode":"47304"},"coordinates":[-85.437332,40.220001]},{"theaterId":8067,"address":{"street1":"7800 Col. H. Weir Cook Memorial Dr.","city":"Indianapolis","zipcode":"46241"},"coordinates":[-86.298064,39.714695]},{"theaterId":951,"address":{"street1":"91 Silhavy Rd","city":"Valparaiso","zipcode":"46383"},"coordinates":[-87.025002,41.468235]}],"state":"IN"},{"theaterCount":45,"avgLongitude":-84.2314289888889,"avgLatitude":42.77143253777778,"theaters":[{"theaterId":1095,"address":{"street1":"50400 Waterside Dr","city":"Chesterfield","zipcode":"48051"},"coordinates":[-82.8302,42.67009]},{"theaterId":1406,"address":{"street1":"3349 Fairlane Dr","city":"Allen Park","zipcode":"48101"},"coordinates":[-83.203514,42.285866]},{"theaterId":2812,"address":{"street1":"412 W. 14 Mile Rd.","city":"Troy","zipcode":"48083"},"coordinates":[-83.112164,42.534228]},{"theaterId":2820,"address":{"street1":"6800 Eastman Avenue","city":"Midland","zipcode":"48642"},"coordinates":[-84.2474323,43.6573576]},{"theaterId":2825,"address":{"street1":"4000 Baldwin Rd.","city":"Auburn Hills","zipcode":"48326"},"coordinates":[-83.30683,42.706747]},{"theaterId":2935,"address":{"street1":"5600 Harvey St","city":"Muskegon","zipcode":"49444"},"coordinates":[-86.205872,43.150131]},{"theaterId":376,"address":{"street1":"1515 Orchard Xing","city":"Benton Harbor","zipcode":"49022"},"coordinates":[-86.422928,42.076942]},{"theaterId":406,"address":{"street1":"2650 E Beltline Ave SE","city":"Grand Rapids","zipcode":"49546"},"coordinates":[-85.581505,42.915329]},{"theaterId":2515,"address":{"street1":"3725 US 41 West","city":"Marquette","zipcode":"49855"},"coordinates":[-87.47255,46.54769]},{"theaterId":2800,"address":{"street1":"6650 S. Westnedge Avenue","city":"Portage","zipcode":"49024"},"coordinates":[-85.589405,42.221258]},{"theaterId":2836,"address":{"street1":"35000 Warren Rd.","city":"Westland","zipcode":"48185"},"coordinates":[-83.390354,42.341412]},{"theaterId":402,"address":{"street1":"45520 Utica Park Blvd","city":"Utica","zipcode":"48315"},"coordinates":[-83.006142,42.631668]},{"theaterId":403,"address":{"street1":"35100 Cowan Rd","city":"Westland","zipcode":"48185"},"coordinates":[-83.3862122,42.3434956]},{"theaterId":2799,"address":{"street1":"3341 S. Linden Rd","city":"Flint","zipcode":"48507"},"coordinates":[-83.767913,42.979812]},{"theaterId":2817,"address":{"street1":"1982 W. Grand River Avenue","city":"Okemos","zipcode":"48864"},"coordinates":[-84.421193,42.723902]},{"theaterId":2903,"address":{"street1":"442 Briarwood Circle","city":"Ann Arbor","zipcode":"48108"},"coordinates":[-83.746383,42.241132]},{"theaterId":401,"address":{"street1":"23000 Eureka Rd","city":"Taylor","zipcode":"48180"},"coordinates":[-83.252899,42.199177]},{"theaterId":405,"address":{"street1":"4460 Bay Rd","city":"Saginaw","zipcode":"48603"},"coordinates":[-83.972229,43.471016]},{"theaterId":409,"address":{"street1":"3410 Alpine Ave NW","city":"Grand Rapids","zipcode":"49544"},"coordinates":[-85.689129,43.025014]},{"theaterId":410,"address":{"street1":"16221 Ford Rd","city":"Dearborn","zipcode":"48126"},"coordinates":[-83.203293,42.328255]},{"theaterId":411,"address":{"street1":"G3660 Miller Rd","city":"Flint","zipcode":"48507"},"coordinates":[-83.752464,42.985092]},{"theaterId":414,"address":{"street1":"32320 John R Rd","city":"Madison Heights","zipcode":"48071"},"coordinates":[-83.105247,42.530613]},{"theaterId":476,"address":{"street1":"1014 Jackson Xing","city":"Jackson","zipcode":"49202"},"coordinates":[-84.425766,42.26889]},{"theaterId":803,"address":{"street1":"5216 W Saginaw Hwy","city":"Lansing","zipcode":"48917"},"coordinates":[-84.623619,42.741688]},{"theaterId":8114,"address":{"street1":"11499 Conner Street","city":"Detroit","zipcode":"48213"},"coordinates":[-83.002751,42.408969]},{"theaterId":8181,"address":{"street1":"5500 44th Street Southeast","city":"Grand Rapids","zipcode":"49512"},"coordinates":[-85.529585,42.884652]},{"theaterId":8182,"address":{"street1":"5500 44th Street Southeast","city":"Grand Rapids","zipcode":"49512"},"coordinates":[-85.529585,42.884652]},{"theaterId":408,"address":{"street1":"3100 Lohr Rd","city":"Ann Arbor","zipcode":"48108"},"coordinates":[-83.765007,42.240841]},{"theaterId":407,"address":{"street1":"30701 Gratiot Ave","city":"Roseville","zipcode":"48066"},"coordinates":[-82.923088,42.522266]},{"theaterId":412,"address":{"street1":"2169 S. Telegraph Rd.","city":"Bloomfield Hills","zipcode":"48302"},"coordinates":[-83.296834,42.606539]},{"theaterId":417,"address":{"street1":"21051 Haggerty Rd","city":"Novi","zipcode":"48375"},"coordinates":[-83.43766,42.443993]},{"theaterId":449,"address":{"street1":"300 Brown Rd","city":"Auburn Hills","zipcode":"48326"},"coordinates":[-83.29557,42.706615]},{"theaterId":840,"address":{"street1":"12765 Harper Village Dr","city":"Battle Creek","zipcode":"49014"},"coordinates":[-85.178268,42.264992]},{"theaterId":404,"address":{"street1":"28400 Telegraph Rd","city":"Southfield","zipcode":"48034"},"coordinates":[-83.282616,42.496433]},{"theaterId":413,"address":{"street1":"6900 S Westnedge Ave","city":"Portage","zipcode":"49002"},"coordinates":[-85.590546,42.217541]},{"theaterId":415,"address":{"street1":"4611 24th Ave","city":"Ft Gratiot","zipcode":"48059"},"coordinates":[-82.458565,43.042362]},{"theaterId":416,"address":{"street1":"2020 W Grand River Rd","city":"Okemos","zipcode":"48864"},"coordinates":[-84.42382,42.722553]},{"theaterId":464,"address":{"street1":"4830 Wilson Ave SW","city":"Grandville","zipcode":"49418"},"coordinates":[-85.761253,42.877113]},{"theaterId":480,"address":{"street1":"5425 Harvey St","city":"Muskegon","zipcode":"49444"},"coordinates":[-86.207275,43.153038]},{"theaterId":500,"address":{"street1":"2577 North US-31 South","city":"Traverse City","zipcode":"49684"},"coordinates":[-85.649757,44.725368]},{"theaterId":8177,"address":{"street1":"11499 Conner Street","city":"Detroit","zipcode":"48213"},"coordinates":[-83.003717,42.409021]},{"theaterId":841,"address":{"street1":"8487 W Grand River Ave","city":"Brighton","zipcode":"48116"},"coordinates":[-83.784676,42.544529]},{"theaterId":883,"address":{"street1":"3549 W Shore Dr","city":"Holland","zipcode":"49424"},"coordinates":[-86.089986,42.819293]},{"theaterId":897,"address":{"street1":"30830 Orchard Lake Rd","city":"Farmington Hills","zipcode":"48334"},"coordinates":[-83.358322,42.524887]},{"theaterId":949,"address":{"street1":"2651 S Rochester Rd","city":"Rochester Hills","zipcode":"48307"},"coordinates":[-83.13018,42.642002]}],"state":"MI"},{"theaterCount":52,"avgLongitude":-82.71416039615384,"avgLatitude":40.57520048076923,"theaters":[{"theaterId":1099,"address":{"street1":"16630 Royalton Road","city":"Strongsville","zipcode":"44136"},"coordinates":[-81.8160406,41.313093]},{"theaterId":1474,"address":{"street1":"9845 Colerain Ave","city":"Cincinnati","zipcode":"45251"},"coordinates":[-84.59896,39.25076]},{"theaterId":154,"address":{"street1":"650 Eastgate South Dr","city":"Cincinnati","zipcode":"45245"},"coordinates":[-84.275215,39.098297]},{"theaterId":156,"address":{"street1":"5800 Britton Pkwy","city":"Dublin","zipcode":"43016"},"coordinates":[-83.136299,40.07246]},{"theaterId":162,"address":{"street1":"7400 Brookpark Rd","city":"Cleveland","zipcode":"44129"},"coordinates":[-81.736519,41.419174]},{"theaterId":168,"address":{"street1":"7830 Plaza Blvd","city":"Mentor","zipcode":"44060"},"coordinates":[-81.365799,41.658512]},{"theaterId":1167,"address":{"street1":"770 Colemans Crossing Blvd","city":"Marysville","zipcode":"43040"},"coordinates":[-83.34086,40.23074]},{"theaterId":1050,"address":{"street1":"1600 Center Rd","city":"Avon","zipcode":"44011"},"coordinates":[-82.017853,41.466305]},{"theaterId":1096,"address":{"street1":"1632 Stringtown Rd","city":"Grove City","zipcode":"43123"},"coordinates":[-83.043732,39.879684]},{"theaterId":1429,"address":{"street1":"10017 Fremont Pike","city":"Perrysburg","zipcode":"43551"},"coordinates":[-83.5886,41.54204]},{"theaterId":145,"address":{"street1":"701 Hebron Rd","city":"Heath","zipcode":"43056"},"coordinates":[-82.436119,40.033432]},{"theaterId":153,"address":{"street1":"865 E Kemper Rd","city":"Springdale","zipcode":"45246"},"coordinates":[-84.457413,39.285713]},{"theaterId":247,"address":{"street1":"1405 Spring Meadows Dr","city":"Holland","zipcode":"43528"},"coordinates":[-83.696869,41.615524]},{"theaterId":2538,"address":{"street1":"4314 Milan Road","city":"Sandusky","zipcode":"44870"},"coordinates":[-82.671862,41.419447]},{"theaterId":266,"address":{"street1":"2907 Centre Dr","city":"Fairborn","zipcode":"45324"},"coordinates":[-84.050331,39.774101]},{"theaterId":271,"address":{"street1":"1417 Golden Gate Blvd","city":"Mayfield Heights","zipcode":"44124"},"coordinates":[-81.448357,41.521706]},{"theaterId":2794,"address":{"street1":"4601 Eastgate Mall","city":"Cincinnati","zipcode":"45245"},"coordinates":[-84.277526,39.10263]},{"theaterId":243,"address":{"street1":"4505 Monroe St","city":"Toledo","zipcode":"43613"},"coordinates":[-83.620056,41.686829]},{"theaterId":257,"address":{"street1":"561 Boardman Poland Rd","city":"Boardman","zipcode":"44512"},"coordinates":[-80.644325,41.023308]},{"theaterId":278,"address":{"street1":"445 Howe Ave.","city":"Cuyahoga Falls","zipcode":"44221"},"coordinates":[-81.47757,41.119858]},{"theaterId":2791,"address":{"street1":"228 Great Northern Mall","city":"North Olmsted","zipcode":"44070"},"coordinates":[-81.906825,41.417026]},{"theaterId":2804,"address":{"street1":"500 Southpark Center","city":"Strongsville","zipcode":"44136"},"coordinates":[-81.820213,41.311643]},{"theaterId":2919,"address":{"street1":"5043 Tuttle Crossing Blvd","city":"Dublin","zipcode":"43016"},"coordinates":[-83.129888,40.076419]},{"theaterId":2957,"address":{"street1":"5555 Youngstown Warren Rd","city":"Niles","zipcode":"44446"},"coordinates":[-80.750567,41.210753]},{"theaterId":285,"address":{"street1":"96 Rothrock Rd","city":"Akron","zipcode":"44321"},"coordinates":[-81.649628,41.133499]},{"theaterId":292,"address":{"street1":"2782 Taylor Road Ext","city":"Reynoldsburg","zipcode":"43068"},"coordinates":[-82.785385,39.936005]},{"theaterId":339,"address":{"street1":"1645 River Valley Cir N","city":"Lancaster","zipcode":"43130"},"coordinates":[-82.62899,39.734566]},{"theaterId":274,"address":{"street1":"131 Mall Woods Dr","city":"Dayton","zipcode":"45449"},"coordinates":[-84.228798,39.640995]},{"theaterId":2786,"address":{"street1":"2727 Fairfield Commons","city":"Beavercreek","zipcode":"45431"},"coordinates":[-84.057781,39.766853]},{"theaterId":2789,"address":{"street1":"2000 Brittain Road","city":"Akron","zipcode":"44310"},"coordinates":[-81.46867,41.114916]},{"theaterId":279,"address":{"street1":"5140 Great Northern Plz S","city":"North Olmsted","zipcode":"44070"},"coordinates":[-81.911743,41.414711]},{"theaterId":394,"address":{"street1":"5555 Glenway Ave","city":"Cincinnati","zipcode":"45238"},"coordinates":[-84.607925,39.129051]},{"theaterId":2926,"address":{"street1":"7401 Market Street","city":"Youngstown","zipcode":"44512"},"coordinates":[-80.662699,41.02281]},{"theaterId":390,"address":{"street1":"2175 Walker Lake Rd","city":"Mansfield","zipcode":"44903"},"coordinates":[-82.594879,40.786804]},{"theaterId":2785,"address":{"street1":"5001 Monroe Street","city":"Toledo","zipcode":"43623"},"coordinates":[-83.641339,41.697339]},{"theaterId":2790,"address":{"street1":"4230 Belden Village Mall","city":"Canton","zipcode":"44718"},"coordinates":[-81.431308,40.856734]},{"theaterId":284,"address":{"street1":"6650 Midway Blvd","city":"Elyria","zipcode":"44035"},"coordinates":[-82.112083,41.397774]},{"theaterId":286,"address":{"street1":"6595 Strip Ave Nw","city":"North Canton","zipcode":"44720"},"coordinates":[-81.431145,40.875835]},{"theaterId":295,"address":{"street1":"3840 Morse Rd","city":"Columbus","zipcode":"43219"},"coordinates":[-82.917114,40.058647]},{"theaterId":617,"address":{"street1":"3435 Princeton Rd","city":"Hamilton","zipcode":"45011"},"coordinates":[-84.501755,39.38736]},{"theaterId":494,"address":{"street1":"9871 Waterstone Blvd","city":"Cincinnati","zipcode":"45249"},"coordinates":[-84.311859,39.29158]},{"theaterId":790,"address":{"street1":"1709 N Bechtle Ave","city":"Springfield","zipcode":"45504"},"coordinates":[-83.836006,39.94521]},{"theaterId":8132,"address":{"street1":"4600 International Gateway","city":"Columbus","zipcode":"43219"},"coordinates":[-82.889208,39.99822]},{"theaterId":795,"address":{"street1":"1800 Tiffin Ave","city":"Findlay","zipcode":"45840"},"coordinates":[-83.618866,41.05275]},{"theaterId":8045,"address":{"street1":"4600 International Gateway","city":"Columbus","zipcode":"43219"},"coordinates":[-82.889208,39.99822]},{"theaterId":570,"address":{"street1":"1375 Polaris Pkwy","city":"Columbus","zipcode":"43240"},"coordinates":[-82.979889,40.140507]},{"theaterId":758,"address":{"street1":"470 E Aurora Rd","city":"Macedonia","zipcode":"44056"},"coordinates":[-81.520035,41.313168]},{"theaterId":8043,"address":{"street1":"143 Airport Blvd","city":"Cleveland","zipcode":"44181"},"coordinates":[-82.902944,40.211273]},{"theaterId":8077,"address":{"street1":"4600 International Gateway","city":"Columbus","zipcode":"43219"},"coordinates":[-82.889208,39.99822]},{"theaterId":834,"address":{"street1":"5815 Youngstown Warren Rd","city":"Niles","zipcode":"44446"},"coordinates":[-80.746506,41.20969]},{"theaterId":880,"address":{"street1":"3906 Burbank Rd","city":"Wooster","zipcode":"44691"},"coordinates":[-81.942741,40.851982]},{"theaterId":879,"address":{"street1":"4210 Milan Rd","city":"Sandusky","zipcode":"44870"},"coordinates":[-82.67083,41.416252]}],"state":"OH"},{"theaterCount":35,"avgLongitude":-88.79536114285715,"avgLatitude":43.47140971428572,"theaters":[{"theaterId":1147,"address":{"street1":"3600 County Trunk Hwy A","city":"Kohler","zipcode":"53044"},"coordinates":[-87.764252,43.711769]},{"theaterId":1191,"address":{"street1":"11840 71st St","city":"Kenosha","zipcode":"53142"},"coordinates":[-87.95186,42.57202]},{"theaterId":1489,"address":{"street1":"700 N Edwards Blvd","city":"Lake Geneva","zipcode":"53147"},"coordinates":[-88.41808,42.6007]},{"theaterId":18,"address":{"street1":"9420 State Road 16","city":"Onalaska","zipcode":"54650"},"coordinates":[-91.190895,43.875668]},{"theaterId":1192,"address":{"street1":"1070 N Port Washington Rd","city":"Grafton","zipcode":"53024"},"coordinates":[-87.92074,43.32195]},{"theaterId":1047,"address":{"street1":"2411 S Kensington Dr","city":"Appleton","zipcode":"54915"},"coordinates":[-88.359596,44.241451]},{"theaterId":1052,"address":{"street1":"1145 Commons Cir","city":"Plover","zipcode":"54467"},"coordinates":[-89.515335,44.522335]},{"theaterId":1890,"address":{"street1":"1550 S Koeller St","city":"Oshkosh","zipcode":"54902"},"coordinates":[-88.57936,44.00427]},{"theaterId":208,"address":{"street1":"7357 W Towne Way","city":"Madison","zipcode":"53719"},"coordinates":[-89.512115,43.058937]},{"theaterId":25,"address":{"street1":"4610 S 76th St","city":"Greenfield","zipcode":"53220"},"coordinates":[-88.006241,42.960411]},{"theaterId":28,"address":{"street1":"825 Pilgrim Way","city":"Green Bay","zipcode":"54304"},"coordinates":[-88.06794,44.481197]},{"theaterId":26,"address":{"street1":"2401 North Mayfair Road","city":"Wauwatosa","zipcode":"53226"},"coordinates":[-88.049141,43.062759]},{"theaterId":2757,"address":{"street1":"4800 Golf Road","city":"Eau Claire","zipcode":"54701"},"coordinates":[-91.438715,44.7757]},{"theaterId":27,"address":{"street1":"4240 W Wisconsin Ave","city":"Appleton","zipcode":"54913"},"coordinates":[-88.475082,44.274948]},{"theaterId":2916,"address":{"street1":"3800 State Road 16","city":"La Crosse","zipcode":"54601"},"coordinates":[-91.202394,43.866533]},{"theaterId":2845,"address":{"street1":"2500 N Mayfair Rd","city":"Wauwatosa","zipcode":"53226"},"coordinates":[-88.044662,43.064415]},{"theaterId":2719,"address":{"street1":"5300 S 76 Street","city":"Greendale","zipcode":"53129"},"coordinates":[-88.008603,42.947838]},{"theaterId":2738,"address":{"street1":"4301 West Wisconsin Ave","city":"Appleton","zipcode":"54913"},"coordinates":[-88.469505,44.273002]},{"theaterId":2867,"address":{"street1":"2500 Milton Ave","city":"Janesville","zipcode":"53545"},"coordinates":[-89.001434,42.71266]},{"theaterId":2955,"address":{"street1":"5794 Durand Ave","city":"Racine","zipcode":"53406"},"coordinates":[-87.845889,42.697577]},{"theaterId":29,"address":{"street1":"2710 S Green Bay Rd","city":"Racine","zipcode":"53406"},"coordinates":[-87.854462,42.701656]},{"theaterId":2715,"address":{"street1":"95 North Moorland Rd","city":"Brookfield","zipcode":"53005"},"coordinates":[-88.109,43.0323]},{"theaterId":2735,"address":{"street1":"639 Bay Park Square","city":"Green Bay","zipcode":"54304"},"coordinates":[-88.067962,44.484684]},{"theaterId":2783,"address":{"street1":"132 W Towne Mall","city":"Madison","zipcode":"53719"},"coordinates":[-89.505855,43.057224]},{"theaterId":2914,"address":{"street1":"5 East Towne Mall","city":"Madison","zipcode":"53704"},"coordinates":[-89.306707,43.122557]},{"theaterId":399,"address":{"street1":"3800 Rib Mountain Dr","city":"Wausau","zipcode":"54401"},"coordinates":[-89.65448,44.920456]},{"theaterId":40,"address":{"street1":"4090 Commonwealth Ave","city":"Eau Claire","zipcode":"54701"},"coordinates":[-91.431892,44.771576]},{"theaterId":654,"address":{"street1":"8755 N. Port Washington Rd.","city":"Fox Point","zipcode":"53217"},"coordinates":[-87.914368,43.175716]},{"theaterId":8092,"address":{"street1":"5300 South Howell Ave","city":"Milwaukee","zipcode":"53207"},"coordinates":[-87.904261,42.948026]},{"theaterId":8551,"address":{"street1":"4000 International Ln","city":"Madison","zipcode":"53704"},"coordinates":[-89.345808,43.136469]},{"theaterId":44,"address":{"street1":"19555 W Bluemound Rd","city":"Brookfield","zipcode":"53045"},"coordinates":[-88.154015,43.034664]},{"theaterId":59,"address":{"street1":"2452 E Springs Dr","city":"Madison","zipcode":"53704"},"coordinates":[-89.299362,43.130154]},{"theaterId":667,"address":{"street1":"3270 Golf Rd Ste 100","city":"Delafield","zipcode":"53018"},"coordinates":[-88.368393,43.051662]},{"theaterId":757,"address":{"street1":"N94 W16855 Falls Parkway","city":"Menomonee Falls","zipcode":"53051"},"coordinates":[-88.119286,43.188984]},{"theaterId":892,"address":{"street1":"2850 Deerfield Dr","city":"Janesville","zipcode":"53546"},"coordinates":[-88.97995,42.717072]}],"state":"WI"}],"executionTimeMs":1254,"queryOperators":["$match","$in","$group","$sum","$avg","$arrayElemAt","$push","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Generate a regional analysis showing theater count by state for all Midwest states, identify the top 3 states with most theaters, and list the specific theater IDs and cities for states with exactly 2 theaters","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": {\n        $in: [\"IL\", \"IN\", \"IA\", \"KS\", \"MI\", \"MN\", \"MO\", \"NE\", \"ND\", \"OH\", \"SD\", \"WI\"]\n      }\n    }\n  },\n  {\n    $facet: {\n      \"stateCounts\": [\n        {\n          $group: {\n            _id: \"$location.address.state\",\n            count: { $sum: 1 }\n          }\n        },\n        {\n          $sort: { count: -1 }\n        }\n      ],\n      \"topStates\": [\n        {\n          $group: {\n            _id: \"$location.address.state\",\n            count: { $sum: 1 }\n          }\n        },\n        {\n          $sort: { count: -1 }\n        },\n        {\n          $limit: 3\n        },\n        {\n          $project: {\n            state: \"$_id\",\n            count: 1,\n            _id: 0\n          }\n        }\n      ],\n      \"twoTheaterStates\": [\n        {\n          $group: {\n            _id: \"$location.address.state\",\n            count: { $sum: 1 },\n            theaters: {\n              $push: {\n                theaterId: \"$theaterId\",\n                city: \"$location.address.city\"\n              }\n            }\n          }\n        },\n        {\n          $match: {\n            count: 2\n          }\n        },\n        {\n          $project: {\n            state: \"$_id\",\n            theaters: 1,\n            _id: 0\n          }\n        }\n      ]\n    }\n  }\n])","language":"mongosh","result":[{"stateCounts":[{"_id":"IL","count":70},{"_id":"OH","count":52},{"_id":"MI","count":45},{"_id":"MN","count":44},{"_id":"WI","count":35},{"_id":"IN","count":35},{"_id":"MO","count":32},{"_id":"IA","count":14},{"_id":"KS","count":12},{"_id":"NE","count":8},{"_id":"ND","count":5},{"_id":"SD","count":3}],"topStates":[{"count":70,"state":"IL"},{"count":52,"state":"OH"},{"count":45,"state":"MI"}],"twoTheaterStates":[]}],"executionTimeMs":1181,"queryOperators":["$match","$in","$facet","$group","$sum","$sort","$limit","$project","$push"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 highest-rated drama movies from the 1990s with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    \"genres\": \"Drama\",\n    \"year\": { $gte: 1990, $lte: 1999 },\n    \"imdb.rating\": { $gt: 8.0 }\n  },\n  {\n    \"title\": 1,\n    \"year\": 1,\n    \"imdb.rating\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(15)","language":"mongosh","result":[{"imdb":{"rating":9.3},"year":1994,"title":"The Shawshank Redemption"},{"imdb":{"rating":9.3},"year":1994,"title":"The Shawshank Redemption"},{"title":"Pride and Prejudice","year":1995,"imdb":{"rating":9.1}},{"imdb":{"rating":8.9},"year":1999,"title":"Fight Club"},{"title":"From the Earth to the Moon","year":1998,"imdb":{"rating":8.9}},{"title":"Schindler's List","year":1993,"imdb":{"rating":8.9}},{"imdb":{"rating":8.9},"year":1994,"title":"Pulp Fiction"},{"imdb":{"rating":8.8},"year":1994,"title":"Forrest Gump"},{"imdb":{"rating":8.7},"year":1990,"title":"Goodfellas"},{"title":"Sandesham","year":1991,"imdb":{"rating":8.7}},{"imdb":{"rating":8.6},"year":1995,"title":"Se7en"},{"title":"American History X","year":1998,"imdb":{"rating":8.6}},{"imdb":{"rating":8.6},"year":1994,"title":"Lèon: The Professional"},{"title":"Pretty Village, Pretty Flame","year":1996,"imdb":{"rating":8.6}},{"imdb":{"rating":8.6},"year":1991,"title":"The Silence of the Lambs"}],"executionTimeMs":1261,"queryOperators":["$gte","$lte","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Count how many movies were released in each year from 2005 to 2015","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2005, $lte: 2015 }\n    }\n  },\n  {\n    $group: {\n      _id: \"$year\",\n      movieCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":2005,"movieCount":713},{"_id":2006,"movieCount":774},{"_id":2007,"movieCount":810},{"_id":2008,"movieCount":886},{"_id":2009,"movieCount":917},{"_id":2010,"movieCount":866},{"_id":2011,"movieCount":893},{"_id":2012,"movieCount":955},{"_id":2013,"movieCount":1105},{"_id":2014,"movieCount":1073},{"_id":2015,"movieCount":480}],"executionTimeMs":1506,"queryOperators":["$match","$gte","$lte","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the average IMDb rating of action movies for each year between 2000 and 2010","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Action\",\n      year: { $gte: 2000, $lte: 2010 },\n      \"imdb.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: \"$year\",\n      averageRating: { $avg: \"$imdb.rating\" }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":2000,"averageRating":6.2},{"_id":2001,"averageRating":6.335135135135135},{"_id":2002,"averageRating":6.16865671641791},{"_id":2003,"averageRating":6.239024390243903},{"_id":2004,"averageRating":6.37560975609756},{"_id":2005,"averageRating":6.180722891566265},{"_id":2006,"averageRating":6.525882352941177},{"_id":2007,"averageRating":6.260975609756097},{"_id":2008,"averageRating":6.414782608695653},{"_id":2009,"averageRating":6.176635514018692},{"_id":2010,"averageRating":6.322413793103448}],"executionTimeMs":1239,"queryOperators":["$match","$gte","$lte","$exists","$ne","$group","$avg","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all movies directed by Christopher Nolan","dbQuery":"db.movies.find(\n  { \"directors\": \"Christopher Nolan\" },\n  { \"title\": 1, \"year\": 1, \"genres\": 1, \"directors\": 1, \"_id\": 0 }\n).sort({ \"year\": 1 })","language":"mongosh","result":[{"year":1998,"genres":["Mystery","Thriller"],"title":"Following","directors":["Christopher Nolan"]},{"year":2000,"genres":["Mystery","Thriller"],"title":"Memento","directors":["Christopher Nolan"]},{"year":2002,"genres":["Mystery","Thriller"],"title":"Insomnia","directors":["Christopher Nolan"]},{"genres":["Action","Adventure"],"title":"Batman Begins","directors":["Christopher Nolan"],"year":2005},{"year":2006,"genres":["Drama","Mystery","Thriller"],"title":"The Prestige","directors":["Christopher Nolan"]},{"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","directors":["Christopher Nolan"]},{"year":2010,"genres":["Action","Mystery","Sci-Fi"],"title":"Inception","directors":["Christopher Nolan"]},{"year":2012,"genres":["Action","Thriller"],"title":"The Dark Knight Rises","directors":["Christopher Nolan"]},{"year":2014,"genres":["Adventure","Drama","Sci-Fi"],"title":"Interstellar","directors":["Christopher Nolan"]}],"executionTimeMs":1504,"queryOperators":[],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find movies where Robert De Niro appears in the cast and Martin Scorsese is the director","dbQuery":"db.movies.find(\n  {\n    $and: [\n      { \"cast\": \"Robert De Niro\" },\n      { \"directors\": \"Martin Scorsese\" }\n    ]\n  },\n  {\n    \"title\": 1,\n    \"year\": 1,\n    \"cast\": 1,\n    \"directors\": 1,\n    \"plot\": 1,\n    \"_id\": 0\n  }\n).sort({ \"year\": 1 })","language":"mongosh","result":[{"plot":"A small-time hood struggles to succeed on the \"mean streets\" of Little Italy.","cast":["Robert De Niro","Harvey Keitel","David Proval","Amy Robinson"],"title":"Mean Streets","directors":["Martin Scorsese"],"year":1973},{"plot":"An egotistical saxophonist and a young singer meet on V-J Day and embark upon a strained and rocky romance, even as their careers begin a long, up-hill climb.","cast":["Liza Minnelli","Robert De Niro","Lionel Stander","Barry Primus"],"title":"New York, New York","directors":["Martin Scorsese"],"year":1977},{"year":1980,"plot":"An emotionally self-destructive boxer's journey through life, as the violence and temper that leads him to the top in the ring, destroys his life outside it.","title":"Raging Bull","cast":["Robert De Niro","Cathy Moriarty","Joe Pesci","Frank Vincent"],"directors":["Martin Scorsese"]},{"plot":"Aspiring comic Rupert Pupkin wants to achieve success in show biz by stalking his idol, a late night talk-show host who craves his own privacy.","cast":["Robert De Niro","Jerry Lewis","Diahnne Abbott","Sandra Bernhard"],"title":"The King of Comedy","directors":["Martin Scorsese"],"year":1982},{"year":1990,"plot":"Henry Hill and his friends work their way up through the mob hierarchy.","title":"Goodfellas","cast":["Robert De Niro","Ray Liotta","Joe Pesci","Lorraine Bracco"],"directors":["Martin Scorsese"]},{"plot":"A convicted rapist, released from prison after serving a fourteen-year sentence, stalks the family of the lawyer who originally defended him.","cast":["Robert De Niro","Nick Nolte","Jessica Lange","Juliette Lewis"],"title":"Cape Fear","directors":["Martin Scorsese"],"year":1991},{"year":1995,"plot":"Greed, deception, money, power, and murder occur between two mobster best friends and a trophy wife over a gambling empire.","title":"Casino","cast":["Robert De Niro","Sharon Stone","Joe Pesci","James Woods"],"directors":["Martin Scorsese"]}],"executionTimeMs":1330,"queryOperators":["$and"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 5 highest-rated movies directed by Stanley Kubrick with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    \"directors\": \"Stanley Kubrick\",\n    \"imdb.rating\": { $gt: 8.0 }\n  },\n  {\n    \"title\": 1,\n    \"year\": 1,\n    \"directors\": 1,\n    \"imdb\": 1,\n    \"awards\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(5)","language":"mongosh","result":[{"title":"Paths of Glory","directors":["Stanley Kubrick"],"awards":{"wins":5,"nominations":2,"text":"Nominated for 1 BAFTA Film Award. Another 4 wins & 2 nominations."},"year":1957,"imdb":{"rating":8.5,"votes":107342,"id":50825}},{"imdb":{"rating":8.5,"votes":312300,"id":57012},"year":1964,"title":"Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb","awards":{"wins":19,"nominations":4,"text":"Nominated for 4 Oscars. Another 15 wins & 4 nominations."},"directors":["Stanley Kubrick"]},{"imdb":{"rating":8.4,"votes":541114,"id":81505},"year":1980,"title":"The Shining","awards":{"wins":3,"nominations":5,"text":"3 wins & 5 nominations."},"directors":["Stanley Kubrick"]},{"imdb":{"rating":8.3,"votes":430145,"id":93058},"year":1987,"title":"Full Metal Jacket","awards":{"wins":10,"nominations":7,"text":"Nominated for 1 Oscar. Another 9 wins & 7 nominations."},"directors":["Stanley Kubrick"]},{"imdb":{"rating":8.3,"votes":377539,"id":62622},"year":1968,"title":"2001: A Space Odyssey","awards":{"wins":15,"nominations":6,"text":"Won 1 Oscar. Another 14 wins & 6 nominations."},"directors":["Stanley Kubrick"]}],"executionTimeMs":1281,"queryOperators":["$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies starring Meryl Streep from the 1980s and 1990s with IMDb ratings between 7.0 and 9.0","dbQuery":"db.movies.find(\n  {\n    cast: \"Meryl Streep\",\n    year: { $gte: 1980, $lte: 1999 },\n    \"imdb.rating\": { $gte: 7.0, $lte: 9.0, $exists: true }\n  },\n  {\n    title: 1,\n    year: 1,\n    cast: 1,\n    imdb: 1,\n    genres: 1,\n    _id: 0\n  }\n).sort({ year: 1 })","language":"mongosh","result":[{"genres":["Drama","Romance"],"cast":["Meryl Streep","Jeremy Irons","Hilton McRae","Emily Morgan"],"title":"The French Lieutenant's Woman","year":1981,"imdb":{"rating":7,"votes":8395,"id":82416}},{"imdb":{"rating":7.7,"votes":26604,"id":84707},"year":1982,"genres":["Drama","Romance"],"title":"Sophie's Choice","cast":["Meryl Streep","Kevin Kline","Peter MacNicol","Rita Karin"]},{"genres":["Biography","Drama","Thriller"],"cast":["Meryl Streep","Kurt Russell","Cher","Craig T. Nelson"],"title":"Silkwood","year":1983,"imdb":{"rating":7.3,"votes":12949,"id":86312}},{"genres":["Biography","Drama","Romance"],"cast":["Meryl Streep","Robert Redford","Klaus Maria Brandauer","Michael Kitchen"],"title":"Out of Africa","year":1985,"imdb":{"rating":7.2,"votes":47280,"id":89755}},{"genres":["Drama","Romance"],"cast":["Clint Eastwood","Meryl Streep","Annie Corley","Victor Slezak"],"title":"The Bridges of Madison County","year":1995,"imdb":{"rating":7.5,"votes":50897,"id":112579}},{"imdb":{"rating":7,"votes":8845,"id":120776},"year":1998,"genres":["Drama"],"title":"One True Thing","cast":["Meryl Streep","Renèe Zellweger","William Hurt","Tom Everett Scott"]}],"executionTimeMs":1213,"queryOperators":["$gte","$lte","$exists"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all movies where either Tom Hanks or Denzel Washington worked with directors Steven Spielberg or Ridley Scott, showing the runtime, awards, and critical ratings","dbQuery":"db.movies.find(\n  {\n    $and: [\n      { cast: { $in: [\"Tom Hanks\", \"Denzel Washington\"] } },\n      { directors: { $in: [\"Steven Spielberg\", \"Ridley Scott\"] } }\n    ]\n  },\n  {\n    title: 1,\n    year: 1,\n    cast: 1,\n    directors: 1,\n    runtime: 1,\n    \"imdb.rating\": 1,\n    \"awards.wins\": 1,\n    \"awards.nominations\": 1,\n    genres: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":8.6},"year":1998,"genres":["Action","Drama","War"],"title":"Saving Private Ryan","awards":{"wins":83,"nominations":66},"cast":["Tom Hanks","Tom Sizemore","Edward Burns","Barry Pepper"],"directors":["Steven Spielberg"],"runtime":169},{"imdb":{"rating":8},"year":2002,"genres":["Biography","Crime","Drama"],"title":"Catch Me If You Can","awards":{"wins":15,"nominations":27},"cast":["Leonardo DiCaprio","Tom Hanks","Christopher Walken","Martin Sheen"],"directors":["Steven Spielberg"],"runtime":141},{"imdb":{"rating":7.3},"year":2004,"genres":["Comedy","Drama"],"title":"The Terminal","awards":{"wins":5,"nominations":2},"cast":["Tom Hanks","Catherine Zeta-Jones","Stanley Tucci","Chi McBride"],"directors":["Steven Spielberg"],"runtime":128},{"imdb":{"rating":7.3},"year":2004,"genres":["Comedy","Drama"],"title":"The Terminal","awards":{"wins":5,"nominations":2},"cast":["Tom Hanks","Catherine Zeta-Jones","Stanley Tucci","Chi McBride"],"directors":["Steven Spielberg"],"runtime":128},{"imdb":{"rating":7.8},"year":2007,"genres":["Biography","Crime","Drama"],"title":"American Gangster","awards":{"wins":14,"nominations":31},"cast":["Denzel Washington","Russell Crowe","Chiwetel Ejiofor","Josh Brolin"],"directors":["Ridley Scott"],"runtime":157}],"executionTimeMs":1224,"queryOperators":["$and","$in"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 10 movies with IMDb rating above 7.5, Rotten Tomatoes critic score above 80%, and runtime under 150 minutes","dbQuery":"db.movies.find({\n  \"imdb.rating\": { $gt: 7.5 },\n  \"tomatoes.critic.meter\": { $gt: 80 },\n  \"runtime\": { $lt: 150, $exists: true },\n  \"imdb.rating\": { $exists: true },\n  \"tomatoes.critic.meter\": { $exists: true }\n}, {\n  \"title\": 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  \"runtime\": 1,\n  \"_id\": 0\n}).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":9.3},"title":"The Shawshank Redemption","tomatoes":{"critic":{"meter":91}},"runtime":142},{"imdb":{"rating":9.3},"title":"The Shawshank Redemption","tomatoes":{"critic":{"meter":91}},"runtime":142},{"runtime":60,"title":"Frozen Planet","imdb":{"rating":9.2},"tomatoes":{"critic":{"meter":54}}},{"runtime":60,"title":"Hollywood","imdb":{"rating":9.1},"tomatoes":{"critic":{"meter":80}}},{"imdb":{"rating":8.9},"title":"Fight Club","tomatoes":{"critic":{"meter":80}},"runtime":139},{"imdb":{"rating":8.8},"title":"Star Wars: Episode V - The Empire Strikes Back","tomatoes":{"critic":{"meter":95}},"runtime":124},{"imdb":{"rating":8.8},"title":"Inception","tomatoes":{"critic":{"meter":86}},"runtime":148},{"imdb":{"rating":8.8},"title":"Forrest Gump","tomatoes":{"critic":{"meter":72}},"runtime":142},{"imdb":{"rating":8.7},"title":"One Flew Over the Cuckoo's Nest","tomatoes":{"critic":{"meter":95}},"runtime":133},{"imdb":{"rating":8.7},"title":"The Matrix","tomatoes":{"critic":{"meter":87}},"runtime":136}],"executionTimeMs":1203,"queryOperators":["$gt","$lt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 8 movies with Rotten Tomatoes critic meter above 90%, viewer meter above 80%, and runtime between 90-125 minutes","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"tomatoes.critic.meter\": { $gt: 90, $exists: true },\n      \"tomatoes.viewer.meter\": { $gt: 80, $exists: true },\n      \"runtime\": { $gte: 90, $lte: 125, $exists: true }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      \"tomatoes.critic.meter\": 1,\n      \"tomatoes.viewer.meter\": 1,\n      runtime: 1\n    }\n  },\n  {\n    $sort: {\n      \"tomatoes.critic.meter\": -1,\n      \"tomatoes.viewer.meter\": -1\n    }\n  },\n  {\n    $limit: 8\n  }\n])","language":"mongosh","result":[{"_id":"573a1396f29313caabce3ec9","runtime":115,"title":"Days and Nights in the Forest","tomatoes":{"viewer":{"meter":99},"critic":{"meter":100}}},{"_id":"573a1399f29313caabcec598","runtime":97,"title":"The Stranger","tomatoes":{"viewer":{"meter":98},"critic":{"meter":100}}},{"_id":"573a13bff29313caabd5dd38","runtime":97,"title":"Sigur Rès: Heima","tomatoes":{"viewer":{"meter":96},"critic":{"meter":100}}},{"_id":"573a1396f29313caabce405b","title":"Investigation of a Citizen Above Suspicion","tomatoes":{"viewer":{"meter":96},"critic":{"meter":100}},"runtime":112},{"_id":"573a1394f29313caabce0dfa","runtime":105,"title":"The World of Apu","tomatoes":{"viewer":{"meter":95},"critic":{"meter":100}}},{"_id":"573a1394f29313caabcdf130","runtime":103,"title":"Singin' in the Rain","tomatoes":{"viewer":{"meter":95},"critic":{"meter":100}}},{"_id":"573a13c2f29313caabd687c9","runtime":107,"title":"Temple Grandin","tomatoes":{"viewer":{"meter":95},"critic":{"meter":100}}},{"_id":"573a1399f29313caabceec46","runtime":99,"title":"Three Colors: Red","tomatoes":{"viewer":{"meter":95},"critic":{"meter":100}}}],"executionTimeMs":1833,"queryOperators":["$match","$gt","$exists","$gte","$lte","$project","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies with IMDb rating above 8.2, more than 50,000 IMDb votes, Rotten Tomatoes critic meter above 88%, runtime between 95-130 minutes, released in the 2010s, and sort by the combination of IMDb rating and critic score","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"imdb.rating\": { $gt: 8.2, $exists: true },\n      \"imdb.votes\": { $gt: 50000, $exists: true },\n      \"tomatoes.critic.meter\": { $gt: 88, $exists: true },\n      \"runtime\": { $gte: 95, $lte: 130, $exists: true },\n      \"year\": { $gte: 2010, $lte: 2019, $exists: true },\n      \"title\": { $exists: true }\n    }\n  },\n  {\n    $addFields: {\n      combinedScore: {\n        $add: [\n          { $multiply: [\"$imdb.rating\", 10] },\n          \"$tomatoes.critic.meter\"\n        ]\n      }\n    }\n  },\n  {\n    $sort: {\n      combinedScore: -1,\n      \"imdb.rating\": -1,\n      \"tomatoes.critic.meter\": -1\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      year: 1,\n      imdb: {\n        rating: 1,\n        votes: 1\n      },\n      tomatoes: {\n        critic: {\n          meter: 1\n        }\n      },\n      runtime: 1\n    }\n  }\n])","language":"mongosh","result":[{"runtime":103,"title":"Toy Story 3","year":2010,"imdb":{"rating":8.4,"votes":474122},"tomatoes":{"critic":{"meter":99}}},{"runtime":123,"title":"A Separation","year":2011,"imdb":{"rating":8.4,"votes":135512},"tomatoes":{"critic":{"meter":99}}},{"imdb":{"rating":8.6,"votes":278873},"year":2014,"title":"Whiplash","tomatoes":{"critic":{"meter":94}},"runtime":107},{"imdb":{"rating":8.3,"votes":314071},"year":2015,"title":"Mad Max: Fury Road","tomatoes":{"critic":{"meter":97}},"runtime":120},{"imdb":{"rating":8.3,"votes":138922},"year":2012,"title":"The Hunt","tomatoes":{"critic":{"meter":93}},"runtime":115}],"executionTimeMs":1229,"queryOperators":["$match","$gt","$exists","$gte","$lte","$addFields","$add","$multiply","$sort","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 movies with the highest number of comments","dbQuery":"db.movies.find(\n  { num_mflix_comments: { $exists: true, $type: \"number\" } },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"50 First Dates","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"The Mummy","num_mflix_comments":157},{"title":"Sherlock Holmes","num_mflix_comments":157},{"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"title":"The Mummy Returns","num_mflix_comments":154}],"executionTimeMs":2105,"queryOperators":["$exists","$type"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all drama movies released between 2005 and 2010 that have more than 15 comments and an IMDb rating above 7.0","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Drama\",\n      year: { $gte: 2005, $lte: 2010 },\n      num_mflix_comments: { $gt: 15 },\n      \"imdb.rating\": { $gt: 7.0 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      year: 1,\n      genres: 1,\n      imdb: { rating: \"$imdb.rating\" },\n      num_mflix_comments: 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.3},"year":2009,"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","num_mflix_comments":127},{"imdb":{"rating":7.3},"year":2005,"genres":["Action","Adventure","Drama"],"title":"King Kong","num_mflix_comments":144},{"imdb":{"rating":7.8},"year":2008,"genres":["Drama","Fantasy","Romance"],"title":"The Curious Case of Benjamin Button","num_mflix_comments":128},{"imdb":{"rating":8.5},"year":2006,"genres":["Crime","Drama","Thriller"],"title":"The Departed","num_mflix_comments":115},{"imdb":{"rating":7.5},"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138},{"imdb":{"rating":8.2},"year":2005,"genres":["Action","Drama","Thriller"],"title":"V for Vendetta","num_mflix_comments":139},{"imdb":{"rating":7.1},"year":2009,"genres":["Drama","Fantasy","Romance"],"title":"The Time Traveler's Wife","num_mflix_comments":132},{"imdb":{"rating":7.3},"year":2008,"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147},{"imdb":{"rating":9},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136},{"imdb":{"rating":7.2},"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148},{"imdb":{"rating":7.8},"year":2007,"genres":["Biography","Crime","Drama"],"title":"American Gangster","num_mflix_comments":111},{"imdb":{"rating":8},"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","num_mflix_comments":127}],"executionTimeMs":1773,"queryOperators":["$match","$gte","$lte","$gt","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 15 movies from 2008-2012 with both an IMDb rating above 8.0 and more than 20 comments, sorted by comment count","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2008, $lte: 2012 },\n      \"imdb.rating\": { $exists: true, $gt: 8.0 },\n      num_mflix_comments: { $exists: true, $gt: 20 }\n    }\n  },\n  {\n    $sort: { num_mflix_comments: -1 }\n  },\n  {\n    $limit: 15\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      \"imdb.rating\": 1,\n      num_mflix_comments: 1,\n      _id: 0\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":8.3},"year":2009,"title":"Up","num_mflix_comments":143},{"imdb":{"rating":8.1},"year":2010,"title":"Shutter Island","num_mflix_comments":142},{"imdb":{"rating":9},"year":2008,"title":"The Dark Knight","num_mflix_comments":136},{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","num_mflix_comments":129},{"imdb":{"rating":8.3},"year":2009,"title":"Inglourious Basterds","num_mflix_comments":127},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","num_mflix_comments":117}],"executionTimeMs":1537,"queryOperators":["$match","$gte","$lte","$exists","$gt","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the total number of comments and average IMDb rating for movies released in each year from 2000 to 2010, ordered by total comments","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2000, $lte: 2010 },\n      num_mflix_comments: { $exists: true },\n      \"imdb.rating\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: \"$year\",\n      totalComments: { $sum: \"$num_mflix_comments\" },\n      averageRating: { $avg: \"$imdb.rating\" },\n      movieCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { totalComments: -1 }\n  }\n])","language":"mongosh","result":[{"_id":2009,"totalComments":4304,"averageRating":6.506543075245365,"movieCount":917},{"_id":2007,"totalComments":3113,"averageRating":6.585555555555556,"movieCount":810},{"_id":2003,"totalComments":2756,"averageRating":6.5318407960199005,"movieCount":603},{"_id":2002,"totalComments":2359,"averageRating":6.547749196141479,"movieCount":622},{"_id":2001,"totalComments":2138,"averageRating":6.5663398692810455,"movieCount":612},{"_id":2000,"totalComments":2109,"averageRating":6.518588640275388,"movieCount":581},{"_id":2004,"totalComments":1916,"averageRating":6.656342182890856,"movieCount":678},{"_id":2005,"totalComments":1832,"averageRating":6.582748948106592,"movieCount":713},{"_id":2008,"totalComments":1664,"averageRating":6.552994350282486,"movieCount":886},{"_id":2006,"totalComments":1034,"averageRating":6.597286821705427,"movieCount":774},{"_id":2010,"totalComments":484,"averageRating":6.512832369942197,"movieCount":866}],"executionTimeMs":1311,"queryOperators":["$match","$gte","$lte","$exists","$ne","$group","$sum","$avg","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Calculate the average number of comments per movie for each genre, but only include genres that have at least 20 movies with more than 5 comments each, and show the top 8 genres by average engagement","dbQuery":"db.movies.aggregate([\n  // Filter movies with more than 5 comments and have genres\n  {\n    $match: {\n      num_mflix_comments: { $gt: 5 },\n      genres: { $exists: true, $ne: null, $not: { $size: 0 } }\n    }\n  },\n  // Unwind genres array to create separate documents for each genre\n  {\n    $unwind: \"$genres\"\n  },\n  // Group by genre to calculate average comments and count movies\n  {\n    $group: {\n      _id: \"$genres\",\n      averageComments: { $avg: \"$num_mflix_comments\" },\n      movieCount: { $sum: 1 }\n    }\n  },\n  // Filter genres that have at least 20 movies\n  {\n    $match: {\n      movieCount: { $gte: 20 }\n    }\n  },\n  // Sort by average comments in descending order\n  {\n    $sort: {\n      averageComments: -1\n    }\n  },\n  // Limit to top 8 genres\n  {\n    $limit: 8\n  }\n])","language":"mongosh","result":[{"_id":"Action","averageComments":135.5897435897436,"movieCount":78},{"_id":"Crime","averageComments":134.76666666666668,"movieCount":30},{"_id":"Sci-Fi","averageComments":134.58064516129033,"movieCount":31},{"_id":"Thriller","averageComments":134.4857142857143,"movieCount":35},{"_id":"Fantasy","averageComments":134.3673469387755,"movieCount":49},{"_id":"Animation","averageComments":133.74074074074073,"movieCount":27},{"_id":"Family","averageComments":133.65625,"movieCount":32},{"_id":"Adventure","averageComments":133.1931818181818,"movieCount":88}],"executionTimeMs":1288,"queryOperators":["$match","$gt","$exists","$ne","$not","$size","$unwind","$group","$avg","$sum","$gte","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me 10 foreign films released in the 1990s","dbQuery":"db.movies.find(\n  {\n    year: { $gte: 1990, $lte: 1999 },\n    countries: { \n      $exists: true, \n      $ne: [], \n      $nin: [\"USA\"] \n    }\n  },\n  {\n    title: 1,\n    year: 1,\n    countries: 1,\n    _id: 0\n  }\n).sort({ year: 1 }).limit(10)","language":"mongosh","result":[{"countries":["Italy","France"],"title":"The Voice of the Moon","year":1990},{"countries":["Japan"],"title":"Tales of a Golden Geisha","year":1990},{"countries":["Soviet Union"],"title":"Chyornaya roza - emblema pechali, krasnaya roza - emblema lyubvi","year":1990},{"title":"The Match Factory Girl","year":1990,"countries":["Finland","Sweden"]},{"title":"May Fools","year":1990,"countries":["France","Italy"]},{"title":"Moon 44","year":1990,"countries":["West Germany"]},{"title":"Anjali","countries":["India"],"year":1990},{"title":"Larks on a String","year":1990,"countries":["Czechoslovakia"]},{"title":"The Asthenic Syndrome","year":1990,"countries":["Soviet Union"]},{"countries":["Soviet Union"],"title":"Ono","year":1990}],"executionTimeMs":1258,"queryOperators":["$gte","$lte","$exists","$ne","$nin"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find 15 foreign language films that were nominated for an Oscar","dbQuery":"db.movies.find({\n  $and: [\n    {\n      $or: [\n        { languages: { $exists: true, $ne: [\"English\"], $not: { $size: 0 } } },\n        { languages: { $exists: true, $nin: [[\"English\"]], $ne: [] } }\n      ]\n    },\n    {\n      \"awards.text\": { \n        $regex: /(oscar|academy award)/i \n      }\n    }\n  ]\n}, {\n  title: 1,\n  languages: 1, \n  countries: 1,\n  awards: 1,\n  _id: 0\n}).limit(15)","language":"mongosh","result":[{"title":"The Big House","languages":["English","Russian"],"awards":{"wins":0,"nominations":4,"text":"Won 2 Oscars. Another 2 nominations."},"countries":["USA"]},{"title":"Morocco","languages":["English","French","Spanish","Arabic","Italian"],"awards":{"wins":7,"nominations":0,"text":"Nominated for 4 Oscars. Another 3 wins."},"countries":["USA"]},{"title":"In Old Arizona","languages":["English","Spanish","Italian"],"awards":{"wins":0,"nominations":5,"text":"Won 1 Oscar. Another 4 nominations."},"countries":["USA"]},{"title":"The Divorcee","languages":["English","French"],"awards":{"wins":0,"nominations":4,"text":"Won 1 Oscar. Another 3 nominations."},"countries":["USA"]},{"title":"Cimarron","languages":["English","French"],"awards":{"wins":5,"nominations":4,"text":"Won 3 Oscars. Another 2 wins & 4 nominations."},"countries":["USA"]},{"title":"The Sin of Madelon Claudet","languages":["English","French"],"awards":{"wins":3,"nominations":0,"text":"Won 1 Oscar. Another 2 wins."},"countries":["USA"]},{"title":"Grand Hotel","languages":["English","Russian"],"awards":{"wins":2,"nominations":1,"text":"Won 1 Oscar. Another 1 win & 1 nomination."},"countries":["USA"]},{"title":"Shanghai Express","languages":["English","French","Cantonese","German"],"awards":{"wins":0,"nominations":3,"text":"Won 1 Oscar. Another 2 nominations."},"countries":["USA"]},{"title":"Flying Down to Rio","languages":["English","Portuguese"],"awards":{"wins":0,"nominations":2,"text":"Nominated for 1 Oscar. Another 1 nomination."},"countries":["USA"]},{"title":"One Night of Love","languages":["English","Italian"],"awards":{"wins":3,"nominations":4,"text":"Won 2 Oscars. Another 1 win & 4 nominations."},"countries":["USA"]},{"title":"Folies Bergère de Paris","languages":["English","French"],"awards":{"wins":0,"nominations":2,"text":"Won 1 Oscar. Another 1 nomination."},"countries":["USA"]},{"title":"è Nous la Libertè","languages":["French"],"awards":{"wins":4,"nominations":0,"text":"Nominated for 1 Oscar. Another 3 wins."},"countries":["France"]},{"title":"The Gay Divorcee","languages":["English","French","Italian"],"awards":{"wins":0,"nominations":6,"text":"Won 1 Oscar. Another 5 nominations."},"countries":["USA"]},{"title":"Shall We Dance","languages":["English","French"],"awards":{"wins":0,"nominations":4,"text":"Nominated for 1 Oscar. Another 3 nominations."},"countries":["USA"]},{"title":"You Can't Take It With You","languages":["English","Russian"],"awards":{"wins":3,"nominations":5,"text":"Won 2 Oscars. Another 1 win & 5 nominations."},"countries":["USA"]}],"executionTimeMs":1735,"queryOperators":["$and","$or","$exists","$ne","$not","$size","$nin","$regex"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 12 foreign drama movies from the 1980s or 1990s that have an IMDb rating above 7.8, a Rotten Tomatoes audience score above 80%, and were produced in countries other than the United States or United Kingdom","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Drama\",\n      year: { $gte: 1980, $lte: 1999 },\n      countries: { \n        $not: { \n          $in: [\"USA\", \"United States\", \"UK\", \"United Kingdom\", \"Britain\", \"Great Britain\"] \n        }\n      },\n      \"imdb.rating\": { $gt: 7.8 },\n      \"tomatoes.viewer.meter\": { $gt: 80 }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      year: 1,\n      genres: 1,\n      countries: 1,\n      imdb: { rating: \"$imdb.rating\" },\n      tomatoes: { viewer: { meter: \"$tomatoes.viewer.meter\" } }\n    }\n  },\n  {\n    $limit: 12\n  }\n])","language":"mongosh","result":[{"_id":"573a1397f29313caabce7666","genres":["Drama","History","War"],"title":"Breaker Morant","year":1980,"imdb":{"rating":7.9},"countries":["Australia"],"tomatoes":{"viewer":{"meter":91}}},{"_id":"573a1397f29313caabce73a1","genres":["Comedy","Drama","Romance"],"title":"Moscow Does Not Believe in Tears","year":1980,"imdb":{"rating":8.1},"countries":["Soviet Union"],"tomatoes":{"viewer":{"meter":87}}},{"_id":"573a1397f29313caabce79ba","genres":["Comedy","Drama","Romance"],"title":"My American Uncle","year":1980,"imdb":{"rating":7.9},"countries":["France"],"tomatoes":{"viewer":{"meter":85}}},{"_id":"573a1397f29313caabce7d44","imdb":{"rating":8.4},"year":1981,"genres":["Adventure","Drama","War"],"title":"Das Boot","tomatoes":{"viewer":{"meter":96}},"countries":["West Germany"]},{"_id":"573a1397f29313caabce7df0","genres":["Drama"],"title":"Muddy River","year":1981,"imdb":{"rating":7.9},"countries":["Japan"],"tomatoes":{"viewer":{"meter":100}}},{"_id":"573a1397f29313caabce7d5b","genres":["Drama","History"],"title":"Der Bockerer","year":1981,"imdb":{"rating":8.1},"countries":["Austria","West Germany"],"tomatoes":{"viewer":{"meter":100}}},{"_id":"573a1397f29313caabce7fc8","genres":["Drama"],"title":"Time Stands Still","year":1982,"imdb":{"rating":7.9},"countries":["Hungary"],"tomatoes":{"viewer":{"meter":100}}},{"_id":"573a1397f29313caabce844d","imdb":{"rating":8.1},"year":1982,"genres":["Drama"],"title":"Fanny and Alexander","tomatoes":{"viewer":{"meter":94}},"countries":["Sweden","France","West Germany"]},{"_id":"573a1397f29313caabce8700","genres":["Drama"],"title":"Veronika Voss","year":1982,"imdb":{"rating":7.9},"countries":["West Germany"],"tomatoes":{"viewer":{"meter":88}}},{"_id":"573a1397f29313caabce8465","genres":["Adventure","Biography","Drama"],"title":"Fitzcarraldo","year":1982,"imdb":{"rating":8.2},"countries":["West Germany","Peru"],"tomatoes":{"viewer":{"meter":93}}},{"_id":"573a1397f29313caabce8060","genres":["Crime","Drama"],"title":"Pixote","year":1981,"imdb":{"rating":8},"countries":["Brazil"],"tomatoes":{"viewer":{"meter":94}}},{"_id":"573a1397f29313caabce8796","genres":["Drama"],"title":"Boat People","year":1982,"imdb":{"rating":7.9},"countries":["Hong Kong"],"tomatoes":{"viewer":{"meter":82}}}],"executionTimeMs":1372,"queryOperators":["$match","$gte","$lte","$not","$in","$gt","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 20 most acclaimed movies from Germany, Italy, or the United Kingdom released between 1995 and 2005 with an IMDb rating above 7.5","dbQuery":"db.movies.find({\n  countries: { $in: [\"Germany\", \"Italy\", \"United Kingdom\"] },\n  year: { $gte: 1995, $lte: 2005 },\n  \"imdb.rating\": { $gt: 7.5, $exists: true },\n  year: { $exists: true },\n  countries: { $exists: true }\n}, {\n  title: 1,\n  countries: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  directors: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(20)","language":"mongosh","result":[{"title":"Band of Brothers","year":2001,"imdb":{"rating":9.6},"countries":["UK","USA"]},{"title":"Planet Earth","year":2006,"imdb":{"rating":9.5},"countries":["UK"]},{"title":"The Civil War","year":1990,"imdb":{"rating":9.4},"countries":["USA"]},{"title":"A Brave Heart: The Lizzie Velasquez Story","directors":["Sara Hirsh Bordo"],"year":2015,"imdb":{"rating":9.4},"countries":["USA"]},{"title":"The Civil War","year":1990,"imdb":{"rating":9.4},"countries":["USA"]},{"imdb":{"rating":9.3},"year":1994,"title":"The Shawshank Redemption","countries":["USA"],"directors":["Frank Darabont"]},{"imdb":{"rating":9.3},"year":1994,"title":"The Shawshank Redemption","countries":["USA"],"directors":["Frank Darabont"]},{"title":"Cosmos","year":1980,"imdb":{"rating":9.3},"countries":["USA","UK"]},{"title":"The Real Miyagi","directors":["Kevin Derek"],"year":2015,"imdb":{"rating":9.3},"countries":["USA","Canada","Japan","Panama"]},{"title":"The Decalogue","year":1989,"imdb":{"rating":9.2},"countries":["Poland","West Germany"]},{"title":"Frozen Planet","year":2011,"imdb":{"rating":9.2},"countries":["UK","USA","Spain","Germany","Greece","Canada"]},{"countries":["UK"],"title":"Human Planet","year":2011,"imdb":{"rating":9.2}},{"countries":["USA"],"title":"Over the Garden Wall","year":2014,"imdb":{"rating":9.2}},{"imdb":{"rating":9.2},"year":1972,"title":"The Godfather","countries":["USA"],"directors":["Francis Ford Coppola"]},{"countries":["UK","Greece"],"title":"Life","year":2009,"imdb":{"rating":9.2}},{"title":"The Blue Planet","year":2001,"imdb":{"rating":9.2},"countries":["UK"]},{"title":"Hollywood","year":1980,"imdb":{"rating":9.1},"countries":["UK"]},{"imdb":{"rating":9.1},"year":1974,"title":"The Godfather: Part II","countries":["USA"],"directors":["Francis Ford Coppola"]},{"title":"Pride and Prejudice","year":1995,"imdb":{"rating":9.1},"countries":["UK"]},{"title":"Baseball","year":1994,"imdb":{"rating":9.1},"countries":["USA"]}],"executionTimeMs":1431,"queryOperators":["$in","$gte","$lte","$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me documentaries from India, Brazil, or South Africa released in the 2000s","dbQuery":"db.movies.find(\n  {\n    $and: [\n      { genres: \"Documentary\" },\n      { countries: { $in: [\"India\", \"Brazil\", \"South Africa\"] } },\n      { year: { $gte: 2000, $lte: 2009 } }\n    ]\n  },\n  {\n    title: 1,\n    countries: 1,\n    year: 1,\n    genres: 1,\n    languages: 1,\n    directors: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"genres":["Documentary"],"title":"Ayurveda: Art of Being","countries":["India","Switzerland","Germany"],"languages":["English","Hindi"],"directors":["Pan Nalin"],"year":2001},{"year":2002,"genres":["Documentary","History","Music"],"title":"Amandla! A Revolution in Four Part Harmony","languages":["English","Zulu"],"countries":["South Africa","USA"],"directors":["Lee Hirsch"]},{"countries":["India"],"genres":["Documentary","War"],"title":"War and Peace","languages":["Hindi","Urdu","English","Pushto","Japanese"],"directors":["Anand Patwardhan"],"year":2002},{"genres":["Documentary"],"title":"Edifècio Master","languages":["Portuguese"],"directors":["Eduardo Coutinho"],"year":2002,"countries":["Brazil"]},{"year":2002,"genres":["Documentary","Crime"],"title":"Bus 174","languages":["Portuguese","Spanish"],"countries":["Brazil"],"directors":["Josè Padilha","Felipe Lacerda"]},{"genres":["Documentary"],"title":"A Alma do Osso","countries":["Brazil"],"languages":["Portuguese"],"directors":["Cao Guimarèes"],"year":2004},{"genres":["Documentary"],"title":"Santiago","countries":["Brazil"],"languages":["Portuguese"],"directors":["Joèo Moreira Salles"],"year":2007},{"genres":["Documentary","Biography","Music"],"title":"Cartola - Mèsica Para os Olhos","languages":["Portuguese"],"directors":["Lèrio Ferreira","Hilton Lacerda"],"year":2007,"countries":["Brazil"]},{"genres":["Documentary","History"],"title":"Jonestown: Paradise Lost","languages":["English"],"directors":["Tim Wolochatiuk"],"year":2007,"countries":["Canada","France","South Africa"]},{"genres":["Documentary"],"title":"Please Vote for Me","countries":["China","South Africa","Denmark"],"languages":["Mandarin"],"directors":["Weijun Chen"],"year":2007},{"genres":["Documentary","Drama"],"title":"Playing","countries":["Brazil"],"languages":["Portuguese"],"directors":["Eduardo Coutinho"],"year":2007},{"genres":["Documentary"],"title":"Pro Dia Nascer Feliz","countries":["Brazil"],"languages":["Portuguese"],"directors":["Joèo Jardim"],"year":2006},{"countries":["Brazil"],"genres":["Documentary","Music"],"title":"Titès - A Vida Atè Parece uma Festa","languages":["Portuguese"],"directors":["Oscar Rodrigues Alves","Branco Mello"],"year":2008},{"genres":["Documentary"],"title":"Supermen of Malegaon","languages":["Urdu","Hindi"],"directors":["Faiza Ahmad Khan"],"year":2008,"countries":["Singapore","Japan","South Korea","India"]},{"countries":["Brazil"],"genres":["Documentary","Biography","Music"],"title":"Loki - Arnaldo Baptista","languages":["Portuguese","English"],"directors":["Paulo Henrique Fontenelle"],"year":2008}],"executionTimeMs":1453,"queryOperators":["$and","$in","$gte","$lte"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 10 movies where the Rotten Tomatoes critic score is at least 30 points higher than the audience score","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"tomatoes.critic.meter\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.meter\": { $exists: true, $ne: null },\n      $expr: {\n        $gte: [\n          { $subtract: [\"$tomatoes.critic.meter\", \"$tomatoes.viewer.meter\"] },\n          30\n        ]\n      }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      \"tomatoes.critic.meter\": 1,\n      \"tomatoes.viewer.meter\": 1\n    }\n  },\n  {\n    $limit: 10\n  }\n])","language":"mongosh","result":[{"_id":"573a1391f29313caabcd8268","title":"The Black Pirate","tomatoes":{"viewer":{"meter":70},"critic":{"meter":100}}},{"_id":"573a1392f29313caabcda0e7","title":"She Done Him Wrong","tomatoes":{"viewer":{"meter":53},"critic":{"meter":95}}},{"_id":"573a1392f29313caabcd9e3e","title":"Cavalcade","tomatoes":{"viewer":{"meter":26},"critic":{"meter":57}}},{"_id":"573a1390f29313caabcd587d","title":"Regeneration","tomatoes":{"viewer":{"meter":70},"critic":{"meter":100}}},{"_id":"573a1391f29313caabcd7626","title":"Robin Hood","tomatoes":{"viewer":{"meter":70},"critic":{"meter":100}}},{"_id":"573a1391f29313caabcd91dc","title":"The Big Trail","tomatoes":{"viewer":{"meter":65},"critic":{"meter":100}}},{"_id":"573a1392f29313caabcd9cfb","title":"Tarzan the Ape Man","tomatoes":{"viewer":{"meter":69},"critic":{"meter":100}}},{"_id":"573a1392f29313caabcd9ee9","title":"Flying Down to Rio","tomatoes":{"viewer":{"meter":49},"critic":{"meter":100}}},{"_id":"573a1392f29313caabcda451","title":"The Lost Patrol","tomatoes":{"viewer":{"meter":68},"critic":{"meter":100}}},{"_id":"573a1392f29313caabcda6e1","title":"Anna Karenina","tomatoes":{"viewer":{"meter":70},"critic":{"meter":100}}}],"executionTimeMs":1287,"queryOperators":["$match","$exists","$ne","$expr","$gte","$subtract","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 8 movies where the Rotten Tomatoes audience score is at least 25 points higher than the critic score and has more than 1000 viewer reviews","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"tomatoes.viewer.meter\": { $exists: true, $ne: null },\n      \"tomatoes.critic.meter\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.numReviews\": { $gt: 1000 },\n      $expr: {\n        $gte: [\n          { $subtract: [\"$tomatoes.viewer.meter\", \"$tomatoes.critic.meter\"] },\n          25\n        ]\n      }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      \"tomatoes.critic.meter\": 1,\n      \"tomatoes.viewer.meter\": 1,\n      \"tomatoes.viewer.numReviews\": 1\n    }\n  },\n  {\n    $limit: 8\n  }\n])","language":"mongosh","result":[{"_id":"573a1394f29313caabcdf91f","title":"The Long, Long Trailer","tomatoes":{"viewer":{"numReviews":4692,"meter":77},"critic":{"meter":38}}},{"_id":"573a1394f29313caabce057c","title":"A Farewell to Arms","tomatoes":{"viewer":{"numReviews":1444,"meter":38},"critic":{"meter":0}}},{"_id":"573a1394f29313caabce03c3","title":"War and Peace","tomatoes":{"viewer":{"numReviews":7694,"meter":64},"critic":{"meter":33}}},{"_id":"573a1395f29313caabce13fe","title":"North to Alaska","tomatoes":{"viewer":{"numReviews":7516,"meter":78},"critic":{"meter":43}}},{"_id":"573a1395f29313caabce1603","title":"Babes in Toyland","tomatoes":{"viewer":{"numReviews":10269,"meter":61},"critic":{"meter":36}}},{"_id":"573a1395f29313caabce162d","title":"Blue Hawaii","tomatoes":{"viewer":{"numReviews":11185,"meter":69},"critic":{"meter":17}}},{"_id":"573a1394f29313caabce0f0c","title":"Gidget","tomatoes":{"viewer":{"numReviews":6691,"meter":87},"critic":{"meter":44}}},{"_id":"573a1395f29313caabce12ee","title":"G.I. Blues","tomatoes":{"viewer":{"numReviews":8201,"meter":71},"critic":{"meter":0}}}],"executionTimeMs":1300,"queryOperators":["$match","$exists","$ne","$gt","$expr","$gte","$subtract","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies with an IMDb rating above 8.0 that have more than 50 comments on the platform, released between 2010 and 2017","dbQuery":"db.movies.find({\n  $and: [\n    { \"imdb.rating\": { $gt: 8.0, $exists: true } },\n    { \"num_mflix_comments\": { $gt: 50, $exists: true } },\n    { \"year\": { $gte: 2010, $lte: 2017, $exists: true } }\n  ]\n}, {\n  \"title\": 1,\n  \"imdb.rating\": 1,\n  \"num_mflix_comments\": 1,\n  \"year\": 1,\n  \"_id\": 0\n}).sort({ \"imdb.rating\": -1 })","language":"mongosh","result":[{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","num_mflix_comments":129},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","num_mflix_comments":117},{"imdb":{"rating":8.1},"year":2010,"title":"Shutter Island","num_mflix_comments":142}],"executionTimeMs":1233,"queryOperators":["$and","$gt","$exists","$gte","$lte"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 15 drama movies from 2015-2017 that have both a plot summary and extended plot description, with IMDb ratings above 7.0","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  year: { $gte: 2015, $lte: 2017 },\n  plot: { $exists: true, $ne: null, $ne: \"\" },\n  fullplot: { $exists: true, $ne: null, $ne: \"\" },\n  \"imdb.rating\": { $gt: 7.0 }\n}, {\n  title: 1,\n  plot: 1,\n  fullplot: 1,\n  \"imdb.rating\": 1,\n  year: 1,\n  _id: 0\n}).limit(15)","language":"mongosh","result":[{"plot":"Twenty-four male students out of seventy-five were selected to take on randomly assigned roles of prisoners and guards in a mock prison situated in the basement of the Stanford psychology building.","title":"The Stanford Prison Experiment","fullplot":"Twenty-four male students out of seventy-five were selected to take on randomly assigned roles of prisoners and guards in a mock prison situated in the basement of the Stanford psychology building.","year":2015,"imdb":{"rating":7.2}},{"fullplot":"Caleb, a 26 year old coder at the world's largest internet company, wins a competition to spend a week at a private mountain retreat belonging to Nathan, the reclusive CEO of the company. But when Caleb arrives at the remote location he finds that he will have to participate in a strange and fascinating experiment in which he must interact with the world's first true artificial intelligence, housed in the body of a beautiful robot girl.","imdb":{"rating":7.7},"year":2015,"plot":"A young programmer is selected to participate in a ground-breaking experiment in artificial intelligence by evaluating the human qualities of a breath-taking female A.I.","title":"Ex Machina"},{"plot":"In 1979, an Indian family moves to America with hopes of living the American Dream. While their 10-year-old boy Smith falls head-over-heels for the girl next door, his desire to become a \"good old boy\" propels him further away from his family's ideals than ever before.","title":"Good Ol' Boy","fullplot":"GOOD OL' BOY is the story of Smith, a ten-year-old boy from India growing up in Small Town, America in 1979. While the boy's family straddles the fine line between embracing the American Dream and preserving their Indian heritage, there are barbecues, Halloween and hunting. And as Smith falls for Amy, the girl-next-door, he finds in Amy's father Butch the cowboy he wishes his own father could be. But alas, when Smith's father Bhaaskar sees Smith is quickly losing any hope of remaining a respectable Indian boy, he banishes him back to India. Nineteen years later Smith will return to America, back to a place he once called home.","year":2015,"imdb":{"rating":8.4}},{"plot":"A drama based on the experiences of Agu, a child soldier fighting in the civil war of an unnamed African country.","title":"Beasts of No Nation","fullplot":"A drama based on the experiences of Agu, a child soldier fighting in the civil war of an unnamed African country.","year":2015,"imdb":{"rating":8.5}},{"plot":"When her father unexpectedly passes away, young Ella finds herself at the mercy of her cruel stepmother and her daughters. Never one to give up hope, Ella's fortunes begin to change after meeting a dashing stranger.","title":"Cinderella","fullplot":"A girl named Ella (Cinderella) has the purest heart living in a cruel world filled with evil stepsisters and an evil stepmother out to ruin Ella's life. Ella comes one with her pure heart when she meets the prince and dances her way to a better life with glass shoes, and a little help from her fairy godmother, of course.","year":2015,"imdb":{"rating":7.1}},{"plot":"In November 1939, Georg Elser's attempt to assassinate Adolf Hitler fails, and he is arrested. During his confinement, he recalls the events leading up to his plot and his reasons for deciding to take such drastic action.","title":"13 Minutes","fullplot":"The breath-taking story of a man who nearly would have changed the world. 1939, when Hitler tricked millions of people at the height of his power, one said a radical No: Georg Elser, disparaged as an assassin, is one of the greatest resistance fighters.","year":2015,"imdb":{"rating":7.2}},{"plot":"A young woman, born at the turn of the 20th century, is rendered ageless after an accident. After many solitary years, she meets a man who complicates the eternal life she has settled into.","title":"The Age of Adaline","fullplot":"After miraculously remaining 29 years old for almost eight decades, Adaline Bowman has lived a solitary existence, never allowing herself to get close to anyone who might reveal her secret. But a chance encounter with charismatic philanthropist Ellis Jones reignites her passion for life and romance. When a weekend with his parents threatens to uncover the truth, Adaline makes a decision that will change her life forever.","year":2015,"imdb":{"rating":7.3}},{"plot":"Based on the real-life event, when a gold and copper mine collapses, it traps 33 miners underground for 69 days.","title":"The 33","fullplot":"Based on the real-life event, when a gold and copper mine collapses, it traps 33 miners underground for 69 days.","year":2015,"imdb":{"rating":7.2}},{"plot":"Jim White moves his family after losing his last job as a football coach. He sees that some of the students are worth starting a cross country team and turns 7 students with no hope into one of the best cross country teams.","title":"McFarland, USA","fullplot":"A struggling coach and teacher who has been had to move around for different incidents in his career finally comes to one of the poorest cities in America- McFarland, California. There he discovers buried potential among several high school boys and slowly turns them into championship runners and brings them closer than even he could ever imagine.","year":2015,"imdb":{"rating":7.5}},{"fullplot":"Rick is a slave to the Hollywood system. He is addicted to success but simultaneously despairs at the emptiness of his life. He is at home in a world of illusions but seeks real life. Like the tarot card of the title, Rick is easily bored and needs outside stimulation. But the Knight of Cups is also an artist, a romantic and an adventurer.","imdb":{"rating":7.1},"year":2015,"plot":"A screenwriter living in LA tries to make sense of the strange events occurring around him.","title":"Knight of Cups"},{"plot":"Matthias is the younger of the two Landberg brothers. While his brother David has followed in their father's footsteps on the path to success, Matthias lives his life far away from ...","title":"Im Sommer wohnt er unten","fullplot":"Matthias is the younger of the two Landberg brothers. While his brother David has followed in their father's footsteps on the path to success, Matthias lives his life far away from ambitions and career options. He shares his family's holiday home at the French Atlantic coast with his girlfriend Camille and her 6-year-old son Etienne from a previous relationship. Together they idle about day after day. The story begins when David and his wife Lena arrive with the intention of spending their holiday in the family home. Matthias' carefree days are over in a beat, David's presence changes everything. Within ten minutes after his arrival, David insists on sleeping in the room Matthias and Camille have made their own and demands that Etienne is brought to his father, as he wants peace and quiet. Matthias quietly complies because \"what David wants, David gets\" has been a rule for him from early age on. Camille, however, disgusted by David's bossy behavior, and unwilling to accept his air of entitlement and superiority, secretly concocts a plan to rearrange the pecking order between the two brothers. Her cunning maneuvers make for many surprises!","year":2015,"imdb":{"rating":8.4}},{"plot":"Trapped standing on an armed landmine, an American tourist is forced to watch helplessly while his girlfriend is terrorized and brutally assaulted.","title":"Landmine Goes Click","fullplot":"Three American tourist are crossing a desolated landscape of European Georgia. One of them steps on an armed landmine. But that seems to be a minor threat compared to the nightmarish happenings that the afternoon will bring on. A psychopath takes advantage of tourist's immobility and brutally abuses and assaults the woman he loves.","year":2015,"imdb":{"rating":7.6}},{"plot":"Explores the tangled relationship between a troubled private investigator and the missing woman he's hired to help find.","title":"Too Late","fullplot":"Explores the tangled relationship between a troubled private investigator and the missing woman he's hired to help find.","year":2015,"imdb":{"rating":7.5}},{"plot":"Locked away from society in an apartment on the Lower East Side of Manhattan, the Angulo brothers learn about the outside world through the films that they watch. Nicknamed, 'The Wolfpack,'...","title":"The Wolfpack","fullplot":"Locked away from society in an apartment on the Lower East Side of Manhattan, the Angulo brothers learn about the outside world through the films that they watch. Nicknamed, 'The Wolfpack,' the brothers spend their childhood reenacting their favorite films using elaborate homemade props and costumes. Their world is shaken up when one of the brothers escapes and everything changes.","year":2015,"imdb":{"rating":7.1}},{"plot":"No treason, no surrender.","title":"Ti mene nosis","fullplot":"No treason, no surrender.","year":2015,"imdb":{"rating":7.3}}],"executionTimeMs":1304,"queryOperators":["$gte","$lte","$exists","$ne","$gt"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the monthly breakdown of new user registrations from 2015 to 2017, grouped by month and year with registration counts","dbQuery":"db.users.aggregate([\n  {\n    $addFields: {\n      registrationDate: { $toDate: \"$_id\" }\n    }\n  },\n  {\n    $addFields: {\n      year: { $year: \"$registrationDate\" },\n      month: { $month: \"$registrationDate\" }\n    }\n  },\n  {\n    $match: {\n      year: { $gte: 2015, $lte: 2017 }\n    }\n  },\n  {\n    $group: {\n      _id: {\n        year: \"$year\",\n        month: \"$month\"\n      },\n      registrationCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: {\n      \"_id.year\": 1,\n      \"_id.month\": 1\n    }\n  }\n])","language":"mongosh","result":[{"_id":{"year":2017,"month":9},"registrationCount":183}],"executionTimeMs":1282,"queryOperators":["$addFields","$toDate","$year","$month","$match","$gte","$lte","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 highest-rated movies on IMDb that have won at least 5 awards and were released between 2000 and 2010","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"imdb.rating\": { $exists: true, $ne: null },\n      \"awards.wins\": { $exists: true, $gte: 5 },\n      \"year\": { $exists: true, $gte: 2000, $lte: 2010 }\n    }\n  },\n  {\n    $sort: { \"imdb.rating\": -1 }\n  },\n  {\n    $limit: 15\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      imdb: 1,\n      awards: 1,\n      year: 1,\n      genres: 1\n    }\n  }\n])","language":"mongosh","result":[{"genres":["Action","Drama","History"],"title":"Band of Brothers","awards":{"wins":34,"nominations":24,"text":"Won 1 Golden Globe. Another 33 wins & 24 nominations."},"year":2001,"imdb":{"rating":9.6,"votes":183802,"id":185906}},{"genres":["Documentary"],"title":"Planet Earth","awards":{"wins":14,"nominations":14,"text":"Won 4 Primetime Emmys. Another 10 wins & 14 nominations."},"year":2006,"imdb":{"rating":9.5,"votes":82896,"id":795176}},{"genres":["Documentary"],"title":"The Blue Planet","awards":{"wins":6,"nominations":12,"text":"Won 2 Primetime Emmys. Another 4 wins & 12 nominations."},"year":2001,"imdb":{"rating":9.2,"votes":7093,"id":296310}},{"genres":["Documentary","War"],"title":"The War","awards":{"wins":6,"nominations":11,"text":"Won 3 Primetime Emmys. Another 3 wins & 11 nominations."},"year":2007,"imdb":{"rating":9,"votes":2519,"id":996994}},{"imdb":{"rating":9,"votes":1495351,"id":468569},"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","awards":{"wins":144,"nominations":106,"text":"Won 2 Oscars. Another 142 wins & 106 nominations."}},{"imdb":{"rating":8.9,"votes":1081144,"id":167260},"year":2003,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Return of the King","awards":{"wins":175,"nominations":87,"text":"Won 11 Oscars. Another 164 wins & 87 nominations."}},{"imdb":{"rating":8.8,"votes":1109724,"id":120737},"year":2001,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Fellowship of the Ring","awards":{"wins":114,"nominations":100,"text":"Won 4 Oscars. Another 110 wins & 100 nominations."}},{"imdb":{"rating":8.8,"votes":1294646,"id":1375666},"year":2010,"genres":["Action","Mystery","Sci-Fi"],"title":"Inception","awards":{"wins":162,"nominations":172,"text":"Won 4 Oscars. Another 158 wins & 172 nominations."}},{"imdb":{"rating":8.7,"votes":973663,"id":167261},"year":2002,"genres":["Adventure","Fantasy"],"title":"The Lord of the Rings: The Two Towers","awards":{"wins":105,"nominations":100,"text":"Won 2 Oscars. Another 103 wins & 100 nominations."}},{"genres":["Biography","Drama","History"],"title":"John Adams","awards":{"wins":39,"nominations":25,"text":"Won 4 Golden Globes. Another 35 wins & 25 nominations."},"year":2008,"imdb":{"rating":8.7,"votes":16574,"id":472027}},{"genres":["Action","Adventure","Drama"],"title":"Battlestar Galactica","awards":{"wins":6,"nominations":3,"text":"Nominated for 3 Primetime Emmys. Another 3 wins & 3 nominations."},"year":2003,"imdb":{"rating":8.7,"votes":40437,"id":314979}},{"genres":["Biography","Drama","History"],"title":"John Adams","awards":{"wins":39,"nominations":25,"text":"Won 4 Golden Globes. Another 35 wins & 25 nominations."},"year":2008,"imdb":{"rating":8.7,"votes":16851,"id":472027}},{"imdb":{"rating":8.7,"votes":481128,"id":317248},"year":2002,"genres":["Crime","Drama"],"title":"City of God","awards":{"wins":74,"nominations":29,"text":"Nominated for 4 Oscars. Another 70 wins & 29 nominations."}},{"genres":["Drama","War"],"title":"Generation Kill","awards":{"wins":8,"nominations":15,"text":"Won 3 Primetime Emmys. Another 5 wins & 15 nominations."},"year":2008,"imdb":{"rating":8.7,"votes":29637,"id":995832}},{"genres":["Documentary"],"title":"Before Flying Back to Earth","awards":{"wins":5,"nominations":1,"text":"5 wins & 1 nomination."},"year":2005,"imdb":{"rating":8.7,"votes":1025,"id":892425}}],"executionTimeMs":1508,"queryOperators":["$match","$exists","$ne","$gte","$lte","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"What are the top 5 movie genres with the highest average IMDb ratings?","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"genres\": { $exists: true, $ne: null, $not: { $size: 0 } },\n      \"imdb.rating\": { $exists: true, $ne: null, $type: \"number\" }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $group: {\n      \"_id\": \"$genres\",\n      \"averageRating\": { $avg: \"$imdb.rating\" }\n    }\n  },\n  {\n    $sort: { \"averageRating\": -1 }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":"Film-Noir","averageRating":7.397402597402598},{"_id":"Short","averageRating":7.377574370709382},{"_id":"Documentary","averageRating":7.365679824561403},{"_id":"News","averageRating":7.252272727272728},{"_id":"History","averageRating":7.1696100917431185}],"executionTimeMs":1701,"queryOperators":["$match","$exists","$ne","$not","$size","$type","$unwind","$group","$avg","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Which 6 movie genres have the most total user comments across all movies?","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: { $exists: true, $ne: null, $not: { $size: 0 } },\n      num_mflix_comments: { $exists: true, $ne: null }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $group: {\n      _id: \"$genres\",\n      totalComments: { $sum: \"$num_mflix_comments\" }\n    }\n  },\n  {\n    $sort: { totalComments: -1 }\n  },\n  {\n    $limit: 6\n  }\n])","language":"mongosh","result":[{"_id":"Comedy","totalComments":15435},{"_id":"Adventure","totalComments":12363},{"_id":"Drama","totalComments":12339},{"_id":"Action","totalComments":11419},{"_id":"Fantasy","totalComments":6955},{"_id":"Romance","totalComments":5638}],"executionTimeMs":1800,"queryOperators":["$match","$exists","$ne","$not","$size","$unwind","$group","$sum","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me action movies from 2015 with an IMDb rating above 7.5","dbQuery":"db.movies.find(\n  {\n    year: 2015,\n    genres: { $in: [\"Action\"] },\n    \"imdb.rating\": { $gt: 7.5, $exists: true }\n  },\n  {\n    title: 1,\n    year: 1,\n    imdb: 1,\n    genres: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":7.8,"votes":111807,"id":478970},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Ant-Man"},{"imdb":{"rating":8.3,"votes":314071,"id":1392190},"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Mad Max: Fury Road"},{"genres":["Documentary","Action","Adventure"],"title":"Racing Extinction","year":2015,"imdb":{"rating":7.9,"votes":83,"id":1618448}},{"genres":["Action","Crime","Drama"],"title":"Landmine Goes Click","year":2015,"imdb":{"rating":7.6,"votes":289,"id":2186848}},{"genres":["Documentary","Action","History"],"title":"The Real Miyagi","year":2015,"imdb":{"rating":9.3,"votes":41,"id":2313306}},{"genres":["Action","Adventure","Sci-Fi"],"title":"Avengers: Age of Ultron","year":2015,"imdb":{"rating":7.8,"votes":282723,"id":2395427}},{"genres":["Documentary","Action","Adventure"],"title":"Meru","year":2015,"imdb":{"rating":8.3,"votes":263,"id":2545428}},{"genres":["Action","Crime","Drama"],"title":"Sicario","year":2015,"imdb":{"rating":7.9,"votes":1689,"id":3397884}},{"genres":["Short","Action","Comedy"],"title":"Kung Fury","year":2015,"imdb":{"rating":8.3,"votes":24575,"id":3472226}}],"executionTimeMs":1281,"queryOperators":["$in","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 drama movies with the most user comments and show their IMDb ratings","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: \"Drama\",\n      num_mflix_comments: { $exists: true, $ne: null }\n    }\n  },\n  {\n    $sort: {\n      num_mflix_comments: -1\n    }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      num_mflix_comments: 1,\n      imdb: {\n        rating: 1\n      },\n      genres: 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":7.1},"genres":["Comedy","Drama","Romance"],"title":"About a Boy","num_mflix_comments":158},{"imdb":{"rating":6.7},"genres":["Comedy","Drama","Fantasy"],"title":"Bruce Almighty","num_mflix_comments":153},{"imdb":{"rating":8.5},"genres":["Action","Drama"],"title":"Gladiator","num_mflix_comments":152},{"imdb":{"rating":6.4},"genres":["Comedy","Drama"],"title":"Big Daddy","num_mflix_comments":150},{"imdb":{"rating":7.2},"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148},{"imdb":{"rating":8.4},"genres":["Biography","Drama","History"],"title":"Braveheart","num_mflix_comments":148},{"imdb":{"rating":7.3},"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147},{"imdb":{"rating":8.1},"genres":["Adventure","Drama","Thriller"],"title":"Jaws","num_mflix_comments":147},{"imdb":{"rating":6.3},"genres":["Action","Adventure","Drama"],"title":"Twister","num_mflix_comments":146},{"imdb":{"rating":7.7},"genres":["Adventure","Drama"],"title":"Cast Away","num_mflix_comments":145}],"executionTimeMs":1313,"queryOperators":["$match","$exists","$ne","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Which movie genres have both an average IMDb rating below 6.0 and average comment count below 5 per movie?","dbQuery":"db.movies.aggregate([\n  // Unwind genres array to process each genre separately\n  { $unwind: \"$genres\" },\n  \n  // Match movies that have both IMDb rating and comment count data\n  { $match: {\n    \"imdb.rating\": { $exists: true, $ne: null },\n    \"num_mflix_comments\": { $exists: true, $ne: null }\n  }},\n  \n  // Group by genre and calculate averages\n  { $group: {\n    _id: \"$genres\",\n    averageRating: { $avg: \"$imdb.rating\" },\n    averageComments: { $avg: \"$num_mflix_comments\" },\n    movieCount: { $sum: 1 }\n  }},\n  \n  // Filter genres with both low rating AND low comments\n  { $match: {\n    averageRating: { $lt: 6.0 },\n    averageComments: { $lt: 5 }\n  }},\n  \n  // Sort by average rating ascending to show worst performers first\n  { $sort: { averageRating: 1 } }\n])","language":"mongosh","result":[{"_id":"Horror","averageRating":5.784709897610922,"averageComments":1.5224489795918368,"movieCount":1470}],"executionTimeMs":1871,"queryOperators":["$unwind","$match","$exists","$ne","$group","$avg","$sum","$lt","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Compare the total number of comments and average IMDb ratings between comedy and horror movies","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      genres: { $in: [\"Comedy\", \"Horror\"] }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $match: {\n      genres: { $in: [\"Comedy\", \"Horror\"] }\n    }\n  },\n  {\n    $group: {\n      _id: \"$genres\",\n      totalComments: { \n        $sum: { \n          $ifNull: [\"$num_mflix_comments\", 0] \n        } \n      },\n      averageRating: { \n        $avg: \"$imdb.rating\" \n      },\n      movieCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"Comedy","totalComments":15435,"averageRating":6.450214658080344,"movieCount":6532},{"_id":"Horror","totalComments":2238,"averageRating":5.784709897610922,"movieCount":1470}],"executionTimeMs":1533,"queryOperators":["$match","$in","$unwind","$group","$sum","$ifNull","$avg","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies that belong to both drama and thriller genres, have more than 20 comments, and an IMDb rating above 7.0","dbQuery":"db.movies.find({\n  genres: { $all: [\"Drama\", \"Thriller\"] },\n  num_mflix_comments: { $gt: 20 },\n  \"imdb.rating\": { $gt: 7.0 }\n}, {\n  title: 1,\n  genres: 1,\n  num_mflix_comments: 1,\n  \"imdb.rating\": 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":8.1},"genres":["Adventure","Drama","Thriller"],"title":"Jaws","num_mflix_comments":147},{"imdb":{"rating":8.6},"genres":["Crime","Drama","Thriller"],"title":"The Silence of the Lambs","num_mflix_comments":121},{"imdb":{"rating":8.2},"genres":["Drama","Mystery","Thriller"],"title":"The Sixth Sense","num_mflix_comments":131},{"imdb":{"rating":8.5},"genres":["Crime","Drama","Thriller"],"title":"The Departed","num_mflix_comments":115},{"imdb":{"rating":8.2},"genres":["Action","Drama","Thriller"],"title":"V for Vendetta","num_mflix_comments":139},{"imdb":{"rating":7.2},"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148}],"executionTimeMs":1291,"queryOperators":["$all","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters in New York City","dbQuery":"db.theaters.find(\n  {\n    \"location.address.city\": { $regex: /^new york/i }\n  },\n  {\n    theaterId: 1,\n    location: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"theaterId":1028,"location":{"address":{"street1":"529 5th Ave","city":"New York","state":"NY","zipcode":"10017"},"geo":{"type":"Point","coordinates":[-73.980011,40.754333]}}},{"theaterId":1531,"location":{"address":{"street1":"52 E 14th St","street2":"#64","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9905737,40.7349109]}}},{"theaterId":1906,"location":{"address":{"street1":"2 Union Square","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9899,40.73445]}}},{"theaterId":1448,"location":{"address":{"street1":"1880 Broadway","city":"New York","state":"NY","zipcode":"10023"},"geo":{"type":"Point","coordinates":[-73.982094,40.769882]}}},{"theaterId":1908,"location":{"address":{"street1":"750 Seventh Ave","city":"New York","state":"NY","zipcode":"10019"},"geo":{"type":"Point","coordinates":[-73.983487,40.76078]}}},{"theaterId":482,"location":{"address":{"street1":"60 West 23rd Street","city":"New York","state":"NY","zipcode":"10010"},"geo":{"type":"Point","coordinates":[-73.99295,40.74194]}}},{"theaterId":609,"location":{"address":{"street1":"622 Broadway","city":"New York","state":"NY","zipcode":"10012"},"geo":{"type":"Point","coordinates":[-73.996689,40.72551]}}},{"theaterId":835,"location":{"address":{"street1":"1280 Lexington Ave","city":"New York","state":"NY","zipcode":"10028"},"geo":{"type":"Point","coordinates":[-73.956085,40.779835]}}}],"executionTimeMs":1271,"queryOperators":["$regex"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters within 10 miles of downtown Chicago coordinates (41.8781, -87.6298)","dbQuery":"db.theaters.find({\n  \"location.geo\": {\n    $near: {\n      $geometry: {\n        type: \"Point\",\n        coordinates: [-87.6298, 41.8781]\n      },\n      $maxDistance: 16093.4\n    }\n  }\n}, {\n  _id: 0,\n  theaterId: 1,\n  location: 1\n})","language":"mongosh","result":[{"theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}},{"theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}},{"theaterId":1381,"location":{"address":{"street1":"875 N Michigan Ave","city":"Chicago","state":"IL","zipcode":"60611"},"geo":{"type":"Point","coordinates":[-87.623052,41.898798]}}},{"theaterId":8605,"location":{"address":{"street1":"2233 S Martin L King Dr","street2":null,"city":"Chicago","state":"IL","zipcode":"60616"},"geo":{"type":"Point","coordinates":[-87.618948,41.851242]}}},{"theaterId":323,"location":{"address":{"street1":"1000 W North Ave","city":"Chicago","state":"IL","zipcode":"60642"},"geo":{"type":"Point","coordinates":[-87.653557,41.912025]}}},{"theaterId":814,"location":{"address":{"street1":"2100 N Elston Ave","city":"Chicago","state":"IL","zipcode":"60614"},"geo":{"type":"Point","coordinates":[-87.670631,41.919514]}}},{"theaterId":1777,"location":{"address":{"street1":"3262 W Belmont Ave","city":"Chicago","state":"IL","zipcode":"60618"},"geo":{"type":"Point","coordinates":[-87.71181,41.94017]}}},{"theaterId":320,"location":{"address":{"street1":"2358 Harlem Ave","city":"North Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.805817,41.847572]}}},{"theaterId":2960,"location":{"address":{"street1":"7501 W Cermak Rd","street2":"Ste N006","city":"Riverside","state":"IL","zipcode":"60546"},"geo":{"type":"Point","coordinates":[-87.811262,41.847938]}}}],"executionTimeMs":1249,"queryOperators":["$near","$geometry","$maxDistance"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the theater count by state for California, Texas, Florida, and New York, sorted by count descending","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"CA\", \"TX\", \"FL\", \"NY\"] }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { count: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"CA","count":169},{"_id":"TX","count":160},{"_id":"FL","count":111},{"_id":"NY","count":81}],"executionTimeMs":1229,"queryOperators":["$match","$in","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in zip codes starting with 902 (Beverly Hills area) and 100 (Manhattan area) to compare high-income market presence","dbQuery":"db.theaters.find(\n  {\n    $or: [\n      { \"location.address.zipcode\": { $regex: \"^902\" } },\n      { \"location.address.zipcode\": { $regex: \"^100\" } }\n    ]\n  },\n  {\n    theaterId: 1,\n    location: 1,\n    _id: 0\n  }\n).sort({ theaterId: 1 })","language":"mongosh","result":[{"theaterId":104,"location":{"address":{"street1":"5000 W 147th St","city":"Hawthorne","state":"CA","zipcode":"90250"},"geo":{"type":"Point","coordinates":[-118.36559,33.897167]}}},{"theaterId":179,"location":{"address":{"street1":"10799 Washington Blvd","city":"Culver City","state":"CA","zipcode":"90232"},"geo":{"type":"Point","coordinates":[-118.40641,34.016224]}}},{"theaterId":482,"location":{"address":{"street1":"60 West 23rd Street","city":"New York","state":"NY","zipcode":"10010"},"geo":{"type":"Point","coordinates":[-73.99295,40.74194]}}},{"theaterId":609,"location":{"address":{"street1":"622 Broadway","city":"New York","state":"NY","zipcode":"10012"},"geo":{"type":"Point","coordinates":[-73.996689,40.72551]}}},{"theaterId":835,"location":{"address":{"street1":"1280 Lexington Ave","city":"New York","state":"NY","zipcode":"10028"},"geo":{"type":"Point","coordinates":[-73.956085,40.779835]}}},{"theaterId":872,"location":{"address":{"street1":"12118 Lakewood Blvd","city":"Downey","state":"CA","zipcode":"90242"},"geo":{"type":"Point","coordinates":[-118.12892,33.922974]}}},{"theaterId":1011,"location":{"address":{"street1":"740 S Sepulveda Blvd","city":"El Segundo","state":"CA","zipcode":"90245"},"geo":{"type":"Point","coordinates":[-118.3960826,33.9051385]}}},{"theaterId":1028,"location":{"address":{"street1":"529 5th Ave","city":"New York","state":"NY","zipcode":"10017"},"geo":{"type":"Point","coordinates":[-73.980011,40.754333]}}},{"theaterId":1432,"location":{"address":{"street1":"230 Towne Center Dr","city":"Compton","state":"CA","zipcode":"90220"},"geo":{"type":"Point","coordinates":[-118.2193,33.877201]}}},{"theaterId":1448,"location":{"address":{"street1":"1880 Broadway","city":"New York","state":"NY","zipcode":"10023"},"geo":{"type":"Point","coordinates":[-73.982094,40.769882]}}},{"theaterId":1510,"location":{"address":{"street1":"6000 Sepulveda Blvd.","city":"Culver City","state":"CA","zipcode":"90230"},"geo":{"type":"Point","coordinates":[-118.394938,33.985787]}}},{"theaterId":1531,"location":{"address":{"street1":"52 E 14th St","street2":"#64","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9905737,40.7349109]}}},{"theaterId":1906,"location":{"address":{"street1":"2 Union Square","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9899,40.73445]}}},{"theaterId":1908,"location":{"address":{"street1":"750 Seventh Ave","city":"New York","state":"NY","zipcode":"10019"},"geo":{"type":"Point","coordinates":[-73.983487,40.76078]}}}],"executionTimeMs":1375,"queryOperators":["$or","$regex"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"What are the top 5 cities with the highest number of theaters?","dbQuery":"db.theaters.aggregate([\n  {\n    $group: {\n      _id: \"$location.address.city\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { count: -1 }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":"Las Vegas","count":29},{"_id":"Houston","count":22},{"_id":"San Antonio","count":14},{"_id":"Orlando","count":13},{"_id":"Los Angeles","count":12}],"executionTimeMs":1181,"queryOperators":["$group","$sum","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find states with fewer than 5 theaters and calculate the average distance between theaters in those states to identify underserved markets with expansion potential","dbQuery":"db.theaters.aggregate([\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      theaterCount: { $sum: 1 },\n      theaters: {\n        $push: {\n          theaterId: \"$theaterId\",\n          city: \"$location.address.city\",\n          coordinates: \"$location.geo.coordinates\"\n        }\n      }\n    }\n  },\n  {\n    $match: {\n      theaterCount: { $lt: 5 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      state: \"$_id\",\n      theaterCount: 1,\n      theaters: 1\n    }\n  },\n  {\n    $sort: {\n      theaterCount: 1,\n      state: 1\n    }\n  }\n])","language":"mongosh","result":[{"theaterCount":2,"theaters":[{"theaterId":360,"city":"Williston","coordinates":[-73.108429,44.443977]},{"theaterId":8159,"city":"S. Burlington","coordinates":[-73.154758,44.469108]}],"state":"VT"},{"theaterCount":2,"theaters":[{"theaterId":1527,"city":"Casper","coordinates":[-106.2662132,42.8437702]},{"theaterId":2907,"city":"Cheyenne","coordinates":[-104.806389,41.16031]}],"state":"WY"},{"theaterCount":3,"theaters":[{"theaterId":1092,"city":"Washington","coordinates":[-77.034,38.929]},{"theaterId":801,"city":"Washington","coordinates":[-77.080856,38.948307]},{"theaterId":8500,"city":"Washington","coordinates":[-77.006254,38.897121]}],"state":"DC"},{"theaterCount":3,"theaters":[{"theaterId":1016,"city":"Kalispell","coordinates":[-114.33124,48.239506]},{"theaterId":592,"city":"Billings","coordinates":[-108.57835,45.753693]},{"theaterId":593,"city":"Missoula","coordinates":[-114.03745,46.889271]}],"state":"MT"},{"theaterCount":3,"theaters":[{"theaterId":1090,"city":"Bayamon","coordinates":[-66.16224,18.42217]},{"theaterId":1496,"city":"Carolina","coordinates":[-65.9688829,18.3912915]},{"theaterId":1118,"city":"San Juan","coordinates":[-66.07188,18.42684]}],"state":"PR"},{"theaterCount":3,"theaters":[{"theaterId":569,"city":"Warwick","coordinates":[-71.497124,41.70055]},{"theaterId":8157,"city":"Warwick","coordinates":[-71.435941,41.725901]},{"theaterId":8156,"city":"Warwick","coordinates":[-71.435941,41.725901]}],"state":"RI"},{"theaterCount":3,"theaters":[{"theaterId":17,"city":"Sioux Falls","coordinates":[-96.753349,43.514053]},{"theaterId":2763,"city":"Sioux Falls","coordinates":[-96.775221,43.514084]},{"theaterId":861,"city":"Rapid City","coordinates":[-103.21864,44.108173]}],"state":"SD"},{"theaterCount":4,"theaters":[{"theaterId":1760,"city":"Anchorage","coordinates":[-149.7414524,61.2311804]},{"theaterId":8070,"city":"Anchorage","coordinates":[-149.981754,61.17426]},{"theaterId":539,"city":"Anchorage","coordinates":[-149.86519,61.143032]},{"theaterId":8081,"city":"Anchorage","coordinates":[-149.981754,61.17426]}],"state":"AK"}],"executionTimeMs":1204,"queryOperators":["$group","$sum","$push","$match","$lt","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 movies with the most user comments to showcase top performing content","dbQuery":"db.movies.find(\n  { num_mflix_comments: { $exists: true, $ne: null, $gt: 0 } },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"50 First Dates","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"The Mummy","num_mflix_comments":157},{"title":"Sherlock Holmes","num_mflix_comments":157},{"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"title":"The Mummy Returns","num_mflix_comments":154}],"executionTimeMs":1196,"queryOperators":["$exists","$ne","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 12 movies released between 2010-2017 with more than 10,000 IMDb votes and at least 25 mflix comments, sorted by IMDb rating","dbQuery":"db.movies.find({\n  year: { $gte: 2010, $lte: 2017 },\n  \"imdb.votes\": { $gt: 10000 },\n  num_mflix_comments: { $gte: 25 },\n  \"imdb.rating\": { $exists: true },\n  \"imdb.votes\": { $exists: true },\n  num_mflix_comments: { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  \"imdb.votes\": 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(12)","language":"mongosh","result":[{"num_mflix_comments":0,"title":"Another World","year":2015,"imdb":{"rating":"","votes":""}},{"num_mflix_comments":0,"title":"A Bigger Splash","year":2015,"imdb":{"rating":"","votes":""}},{"num_mflix_comments":0,"title":"Scouts Guide to the Zombie Apocalypse","year":2015,"imdb":{"rating":"","votes":""}},{"title":"Catching the Sun","num_mflix_comments":1,"year":2015,"imdb":{"rating":"","votes":""}},{"num_mflix_comments":0,"title":"The Deposit","year":2015,"imdb":{"rating":"","votes":""}},{"num_mflix_comments":0,"title":"Convenience","year":2015,"imdb":{"rating":"","votes":""}},{"num_mflix_comments":1,"title":"The Danish Girl","year":2015,"imdb":{"rating":"","votes":""}},{"title":"The Ghost and the Whale","num_mflix_comments":1,"year":2015,"imdb":{"rating":"","votes":""}},{"title":"Man Down","num_mflix_comments":0,"year":2015,"imdb":{"rating":"","votes":""}},{"title":"Coming to Terms","year":2013,"imdb":{"rating":"","votes":""},"num_mflix_comments":0},{"title":"Anomalisa","year":2015,"imdb":{"rating":"","votes":""},"num_mflix_comments":0},{"title":"No Tomorrow","year":2010,"imdb":{"rating":"","votes":""},"num_mflix_comments":0}],"executionTimeMs":1198,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 award-winning movies from 2012-2017 with at least 3 wins that also have IMDb ratings above 7.0 and more than 15 user comments","dbQuery":"db.movies.find({\n  year: { $gte: 2012, $lte: 2017 },\n  \"awards.wins\": { $gte: 3 },\n  \"imdb.rating\": { $gt: 7.0 },\n  num_mflix_comments: { $gt: 15 },\n  awards: { $exists: true },\n  imdb: { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  \"awards.wins\": 1,\n  \"awards.text\": 1,\n  \"imdb.rating\": 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","num_mflix_comments":129,"awards":{"wins":46,"text":"Nominated for 1 BAFTA Film Award. Another 45 wins & 86 nominations."}},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","num_mflix_comments":117,"awards":{"wins":33,"text":"Nominated for 1 Oscar. Another 32 wins & 67 nominations."}},{"imdb":{"rating":7.3},"year":2012,"title":"The Hunger Games","num_mflix_comments":119,"awards":{"wins":35,"text":"Nominated for 1 Golden Globe. Another 34 wins & 40 nominations."}},{"imdb":{"rating":7.1},"year":2012,"title":"The Amazing Spider-Man","num_mflix_comments":109,"awards":{"wins":4,"text":"4 wins & 29 nominations."}}],"executionTimeMs":1257,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the total number of comments posted each month in 2017, ordered from highest to lowest activity","dbQuery":"db.comments.aggregate([\n  {\n    $match: {\n      date: {\n        $gte: new Date(\"2017-01-01\"),\n        $lt: new Date(\"2018-01-01\")\n      }\n    }\n  },\n  {\n    $group: {\n      _id: {\n        $dateToString: {\n          format: \"%Y-%m\",\n          date: \"$date\"\n        }\n      },\n      totalComments: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { totalComments: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"2017-07","totalComments":79},{"_id":"2017-04","totalComments":78},{"_id":"2017-01","totalComments":74},{"_id":"2017-06","totalComments":73},{"_id":"2017-08","totalComments":59},{"_id":"2017-02","totalComments":59},{"_id":"2017-03","totalComments":55},{"_id":"2017-05","totalComments":50},{"_id":"2017-09","totalComments":38}],"executionTimeMs":1451,"queryOperators":["$match","$gte","$lt","$group","$dateToString","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 5 users who have posted the most comments on the platform","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      commentCount: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { commentCount: -1 }\n  },\n  {\n    $limit: 5\n  },\n  {\n    $project: {\n      _id: 0,\n      name: \"$_id.name\",\n      email: \"$_id.email\",\n      commentCount: 1\n    }\n  }\n])","language":"mongosh","result":[{"commentCount":277,"name":"Mace Tyrell","email":"roger_ashton-griffiths@gameofthron.es"},{"commentCount":260,"name":"The High Sparrow","email":"jonathan_pryce@gameofthron.es"},{"commentCount":260,"name":"Rodrik Cassel","email":"ron_donachie@gameofthron.es"},{"commentCount":258,"name":"Missandei","email":"nathalie_emmanuel@gameofthron.es"},{"commentCount":257,"name":"Robert Jordan","email":"robert_jordan@fakegmail.com"}],"executionTimeMs":1354,"queryOperators":["$group","$sum","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 oldest user accounts based on their registration date","dbQuery":"db.users.find({}, {_id: 1, name: 1, email: 1}).sort({_id: 1}).limit(10)","language":"mongosh","result":[{"_id":"59b99db4cfa9a34dcd7885b6","name":"Ned Stark","email":"sean_bean@gameofthron.es"},{"_id":"59b99db4cfa9a34dcd7885b7","name":"Robert Baratheon","email":"mark_addy@gameofthron.es"},{"_id":"59b99db5cfa9a34dcd7885b8","name":"Jaime Lannister","email":"nikolaj_coster-waldau@gameofthron.es"},{"_id":"59b99db5cfa9a34dcd7885b9","name":"Catelyn Stark","email":"michelle_fairley@gameofthron.es"},{"_id":"59b99db6cfa9a34dcd7885ba","name":"Cersei Lannister","email":"lena_headey@gameofthron.es"},{"_id":"59b99db6cfa9a34dcd7885bb","name":"Daenerys Targaryen","email":"emilia_clarke@gameofthron.es"},{"_id":"59b99db6cfa9a34dcd7885bc","name":"Jorah Mormont","email":"iain_glen@gameofthron.es"},{"_id":"59b99db7cfa9a34dcd7885bd","name":"Petyr Baelish","email":"aidan_gillen@gameofthron.es"},{"_id":"59b99db8cfa9a34dcd7885be","name":"Viserys Targaryen","email":"harry_lloyd@gameofthron.es"},{"_id":"59b99db9cfa9a34dcd7885bf","name":"Jon Snow","email":"kit_harington@gameofthron.es"}],"executionTimeMs":1224,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 8 users who have commented on at least 10 different movies","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: \"$email\",\n      name: { $first: \"$name\" },\n      uniqueMovies: { $addToSet: \"$movie_id\" },\n      totalComments: { $sum: 1 }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      name: 1,\n      email: \"$_id\",\n      uniqueMoviesCommented: { $size: \"$uniqueMovies\" },\n      totalComments: 1\n    }\n  },\n  {\n    $match: {\n      uniqueMoviesCommented: { $gte: 10 }\n    }\n  },\n  {\n    $sort: {\n      uniqueMoviesCommented: -1,\n      totalComments: -1\n    }\n  },\n  {\n    $limit: 8\n  }\n])","language":"mongosh","result":[{"name":"Mace Tyrell","totalComments":277,"email":"roger_ashton-griffiths@gameofthron.es","uniqueMoviesCommented":219},{"name":"Missandei","totalComments":258,"email":"nathalie_emmanuel@gameofthron.es","uniqueMoviesCommented":197},{"name":"Thoros of Myr","totalComments":251,"email":"paul_kaye@gameofthron.es","uniqueMoviesCommented":197},{"name":"Sansa Stark","totalComments":251,"email":"sophie_turner@gameofthron.es","uniqueMoviesCommented":197},{"name":"Denise Bryant","totalComments":235,"email":"denise_bryant@fakegmail.com","uniqueMoviesCommented":196},{"name":"The High Sparrow","totalComments":260,"email":"jonathan_pryce@gameofthron.es","uniqueMoviesCommented":194},{"name":"Robert Jordan","totalComments":257,"email":"robert_jordan@fakegmail.com","uniqueMoviesCommented":194},{"name":"Rodrik Cassel","totalComments":260,"email":"ron_donachie@gameofthron.es","uniqueMoviesCommented":193}],"executionTimeMs":1461,"queryOperators":["$group","$first","$addToSet","$sum","$project","$size","$match","$gte","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 5 movies from 2010 with the highest number of user comments","dbQuery":"db.movies.find(\n  {\n    year: 2010,\n    num_mflix_comments: { $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    num_mflix_comments: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(5)","language":"mongosh","result":[{"title":"Shutter Island","num_mflix_comments":142},{"title":"Night Catches Us","num_mflix_comments":4},{"title":"Good Neighbors","num_mflix_comments":3},{"title":"The King's Speech","num_mflix_comments":3},{"title":"Date Night","num_mflix_comments":3}],"executionTimeMs":1252,"queryOperators":["$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 PG-13 rated movies with the most user comments that have an IMDb rating above 7.0","dbQuery":"db.movies.find(\n  {\n    \"rated\": \"PG-13\",\n    \"imdb.rating\": { $gt: 7.0, $exists: true },\n    \"num_mflix_comments\": { $exists: true }\n  },\n  {\n    \"title\": 1,\n    \"rated\": 1,\n    \"imdb.rating\": 1,\n    \"num_mflix_comments\": 1,\n    \"_id\": 0\n  }\n).sort({ \"num_mflix_comments\": -1 }).limit(10)","language":"mongosh","result":[{"imdb":{"rating":7.1},"rated":"PG-13","title":"About a Boy","num_mflix_comments":158},{"imdb":{"rating":7.8},"rated":"PG-13","title":"Ocean's Eleven","num_mflix_comments":158},{"imdb":{"rating":7.6},"rated":"PG-13","title":"Sherlock Holmes","num_mflix_comments":157},{"imdb":{"rating":7.3},"rated":"PG-13","title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"imdb":{"rating":7.1},"rated":"PG-13","title":"Mission: Impossible","num_mflix_comments":153},{"imdb":{"rating":7.4},"rated":"PG-13","title":"X-Men","num_mflix_comments":153},{"imdb":{"rating":7.1},"rated":"PG-13","title":"Pirates of the Caribbean: At World's End","num_mflix_comments":153},{"imdb":{"rating":7.1},"rated":"PG-13","title":"The Ring","num_mflix_comments":152},{"imdb":{"rating":7.2},"rated":"PG-13","title":"I Am Legend","num_mflix_comments":148},{"imdb":{"rating":8.1},"rated":"PG-13","title":"Jurassic Park","num_mflix_comments":148}],"executionTimeMs":1232,"queryOperators":["$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Calculate the average number of user comments per movie for each year from 2005 to 2015, but only include years where at least 20 movies were released and show the top 5 years by average engagement","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2005, $lte: 2015 },\n      year: { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: \"$year\",\n      avgComments: { \n        $avg: { \n          $ifNull: [\"$num_mflix_comments\", 0] \n        }\n      },\n      movieCount: { $sum: 1 }\n    }\n  },\n  {\n    $match: {\n      movieCount: { $gte: 20 }\n    }\n  },\n  {\n    $sort: {\n      avgComments: -1\n    }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":1939,"avgComments":7.3,"movieCount":20},{"_id":2009,"avgComments":4.693565976008724,"movieCount":917},{"_id":2003,"avgComments":4.570480928689884,"movieCount":603},{"_id":1994,"avgComments":4.324590163934427,"movieCount":305},{"_id":2007,"avgComments":3.84320987654321,"movieCount":810}],"executionTimeMs":1905,"queryOperators":["$match","$gte","$lte","$exists","$ne","$group","$avg","$ifNull","$sum","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find movies released between 2010 and 2015 that have more than 100 user comments and an IMDb rating above 8.0, grouped by MPAA rating to show which rating categories produce the most engaging high-quality content","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      released: {\n        $gte: new Date(\"2010-01-01\"),\n        $lte: new Date(\"2015-12-31\")\n      },\n      num_mflix_comments: { $gt: 100 },\n      \"imdb.rating\": { $gt: 8.0 },\n      rated: { $exists: true, $ne: null }\n    }\n  },\n  {\n    $group: {\n      _id: \"$rated\",\n      movies: {\n        $push: {\n          title: \"$title\",\n          year: \"$year\",\n          imdb: { rating: \"$imdb.rating\" },\n          num_mflix_comments: \"$num_mflix_comments\"\n        }\n      },\n      totalMovies: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { totalMovies: -1 }\n  }\n])","language":"mongosh","result":[{"_id":"PG-13","movies":[{"title":"The Avengers","year":2012,"imdb":{"rating":8.1},"num_mflix_comments":117},{"title":"The Dark Knight Rises","year":2012,"imdb":{"rating":8.5},"num_mflix_comments":129}],"totalMovies":2},{"_id":"R","movies":[{"title":"Shutter Island","year":2010,"imdb":{"rating":8.1},"num_mflix_comments":142}],"totalMovies":1}],"executionTimeMs":1212,"queryOperators":["$match","$gte","$lte","$gt","$exists","$ne","$group","$push","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find 8 movies with runtime longer than 150 minutes that have at least 75 user comments","dbQuery":"db.movies.find(\n  {\n    runtime: { $gt: 150 },\n    num_mflix_comments: { $gte: 75 }\n  },\n  {\n    title: 1,\n    runtime: 1,\n    num_mflix_comments: 1,\n    _id: 0\n  }\n).limit(8)","language":"mongosh","result":[{"title":"Armageddon","num_mflix_comments":124,"runtime":151},{"title":"The Departed","num_mflix_comments":115,"runtime":151},{"title":"Harry Potter and the Sorcerer's Stone","num_mflix_comments":138,"runtime":152},{"title":"The Dark Knight","num_mflix_comments":136,"runtime":152},{"title":"Harry Potter and the Half-Blood Prince","num_mflix_comments":123,"runtime":153},{"title":"Inglourious Basterds","num_mflix_comments":127,"runtime":153},{"title":"Pulp Fiction","num_mflix_comments":121,"runtime":154},{"title":"Gladiator","num_mflix_comments":152,"runtime":155}],"executionTimeMs":1310,"queryOperators":["$gt","$gte"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the performance breakdown of R-rated movies from 2009 to 2014 with runtime between 100-140 minutes, calculating average user comments, IMDb rating, and total movie count for each year to identify the best acquisition targets","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      rated: \"R\",\n      year: { $gte: 2009, $lte: 2014 },\n      runtime: { $gte: 100, $lte: 140 }\n    }\n  },\n  {\n    $group: {\n      _id: \"$year\",\n      avgComments: { \n        $avg: { \n          $ifNull: [\"$num_mflix_comments\", 0] \n        } \n      },\n      avgImdbRating: { \n        $avg: { \n          $ifNull: [\"$imdb.rating\", null] \n        } \n      },\n      movieCount: { $sum: 1 }\n    }\n  },\n  {\n    $match: {\n      avgImdbRating: { $ne: null }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":2009,"avgComments":10.6375,"avgImdbRating":6.691249999999999,"movieCount":80},{"_id":2010,"avgComments":1.7857142857142858,"avgImdbRating":6.61734693877551,"movieCount":98},{"_id":2011,"avgComments":0.3684210526315789,"avgImdbRating":6.485263157894737,"movieCount":95},{"_id":2012,"avgComments":0.358695652173913,"avgImdbRating":6.553260869565217,"movieCount":92},{"_id":2013,"avgComments":0.41,"avgImdbRating":6.537000000000001,"movieCount":100},{"_id":2014,"avgComments":0.41237113402061853,"avgImdbRating":6.657731958762886,"movieCount":97}],"executionTimeMs":1547,"queryOperators":["$match","$gte","$lte","$group","$avg","$ifNull","$sum","$ne","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 most commented movies in the Drama genre that were released between 2005 and 2010","dbQuery":"db.movies.find(\n  {\n    genres: \"Drama\",\n    year: { $gte: 2005, $lte: 2010 },\n    num_mflix_comments: { $exists: true, $ne: null }\n  },\n  {\n    title: 1,\n    year: 1,\n    num_mflix_comments: 1,\n    genres: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148},{"year":2008,"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147},{"year":2005,"genres":["Action","Adventure","Drama"],"title":"King Kong","num_mflix_comments":144},{"year":2005,"genres":["Action","Drama","Thriller"],"title":"V for Vendetta","num_mflix_comments":139},{"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138},{"year":2009,"genres":["Animation","Drama","Family"],"title":"A Christmas Carol","num_mflix_comments":138},{"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Uninvited","num_mflix_comments":134},{"year":2009,"genres":["Drama","Fantasy","Romance"],"title":"The Time Traveler's Wife","num_mflix_comments":132},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Unborn","num_mflix_comments":131}],"executionTimeMs":1495,"queryOperators":["$gte","$lte","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies from France or Italy released after 2000 that have received more than 5 comments, sorted by comment count","dbQuery":"db.movies.find({\n  countries: { $in: [\"France\", \"Italy\"] },\n  year: { $gt: 2000 },\n  num_mflix_comments: { $gt: 5 }\n}, {\n  title: 1,\n  countries: 1,\n  year: 1,\n  num_mflix_comments: 1,\n  _id: 0\n}).sort({ num_mflix_comments: -1 })","language":"mongosh","result":[{"year":2002,"title":"About a Boy","num_mflix_comments":158,"countries":["UK","USA","France","Germany"]},{"year":2009,"title":"Terminator Salvation","num_mflix_comments":158,"countries":["USA","Germany","UK","Italy"]},{"year":2008,"title":"Taken","num_mflix_comments":127,"countries":["France"]},{"year":2009,"title":"Orphan","num_mflix_comments":117,"countries":["USA","Canada","Germany","France"]},{"year":2003,"title":"Love Actually","num_mflix_comments":116,"countries":["UK","USA","France"]}],"executionTimeMs":1472,"queryOperators":["$in","$gt"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters in Texas and New York state, and count how many are located in each state","dbQuery":"db.theaters.aggregate([\n  {\n    $match: {\n      \"location.address.state\": { $in: [\"TX\", \"NY\"] }\n    }\n  },\n  {\n    $group: {\n      _id: \"$location.address.state\",\n      count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { _id: 1 }\n  }\n])","language":"mongosh","result":[{"_id":"NY","count":81},{"_id":"TX","count":160}],"executionTimeMs":1200,"queryOperators":["$match","$in","$group","$sum","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 highest-rated Drama movies with an IMDb rating above 8.0","dbQuery":"db.movies.find(\n  {\n    \"genres\": \"Drama\",\n    \"imdb.rating\": { $gt: 8.0, $exists: true, $type: \"number\" }\n  },\n  {\n    \"title\": 1,\n    \"imdb.rating\": 1,\n    \"genres\": 1,\n    \"year\": 1,\n    \"poster\": 1,\n    \"_id\": 0\n  }\n).sort({ \"imdb.rating\": -1 }).limit(10)","language":"mongosh","result":[{"genres":["Action","Drama","History"],"poster":"https://m.media-amazon.com/images/M/MV5BMTI3ODc2ODc0M15BMl5BanBnXkFtZTYwMjgzNjc3._V1_SY1000_SX677_AL_.jpg","title":"Band of Brothers","year":2001,"imdb":{"rating":9.6}},{"imdb":{"rating":9.3},"year":1994,"genres":["Crime","Drama"],"title":"The Shawshank Redemption","poster":"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":9.3},"year":1994,"genres":["Crime","Drama"],"title":"The Shawshank Redemption","poster":"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":9.2},"year":1972,"genres":["Crime","Drama"],"title":"The Godfather","poster":"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_SX677_AL_.jpg"},{"genres":["Drama"],"poster":"https://m.media-amazon.com/images/M/MV5BZWIzNDIzMTYtN2RiZS00NjA1LWFjNzMtOWQ0MDYxNWI1YTJiXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY1000_SX677_AL_.jpg","title":"The Decalogue","year":1989,"imdb":{"rating":9.2}},{"imdb":{"rating":9.1},"year":1974,"genres":["Crime","Drama"],"title":"The Godfather: Part II","poster":"https://m.media-amazon.com/images/M/MV5BMWMwMGQzZTItY2JlNC00OWZiLWIyMDctNDk2ZDQ2YjRjMWQ0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_SX677_AL_.jpg"},{"genres":["Drama","Romance"],"poster":"https://m.media-amazon.com/images/M/MV5BMDM0MjFlOGYtNTg2ZC00MmRkLTg5OTQtM2U5ZjUyYTgxZThiXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY1000_SX677_AL_.jpg","title":"Pride and Prejudice","year":1995,"imdb":{"rating":9.1}},{"genres":["Drama","Romance"],"poster":"https://m.media-amazon.com/images/M/MV5BNjMwZTdjMmQtMzMxOS00Nzc3LWE3NDgtYWM2OTYyYzQxMTA0XkEyXkFqcGdeQXVyMTgxOTIzNzk@._V1_SY1000_SX677_AL_.jpg","title":"North & South","year":2004,"imdb":{"rating":9}},{"genres":["Comedy","Drama","Sci-Fi"],"title":"Heart of a Dog","year":1988,"imdb":{"rating":9}},{"genres":["Comedy","Drama"],"title":"The Marathon Family","year":1982,"imdb":{"rating":9}}],"executionTimeMs":1166,"queryOperators":["$gt","$exists","$type"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find movies directed by Christopher Nolan with a Metacritic score above 70","dbQuery":"db.movies.find(\n  {\n    directors: \"Christopher Nolan\",\n    metacritic: { $gt: 70, $exists: true }\n  },\n  {\n    title: 1,\n    directors: 1,\n    metacritic: 1,\n    year: 1,\n    poster: 1,\n    imdb: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":[{"imdb":{"rating":8.5,"votes":757189,"id":209144},"year":2000,"metacritic":80,"title":"Memento","poster":"https://m.media-amazon.com/images/M/MV5BZTcyNjk1MjgtOWI3Mi00YzQwLWI5MTktMzY4ZmI2NDAyNzYzXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]},{"imdb":{"rating":7.2,"votes":202616,"id":278504},"year":2002,"metacritic":78,"title":"Insomnia","poster":"https://m.media-amazon.com/images/M/MV5BYzlkZTEyYjUtMTY5NS00ZjU0LTk5OTYtM2M0ZDg1NmNjMzhkXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]},{"imdb":{"rating":9,"votes":1495351,"id":468569},"year":2008,"metacritic":82,"title":"The Dark Knight","poster":"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]},{"imdb":{"rating":8.7,"votes":699518,"id":816692},"year":2014,"metacritic":74,"title":"Interstellar","poster":"https://m.media-amazon.com/images/M/MV5BZjdkOTU3MDktN2IxOS00OGEyLWFmMjktY2FiMmZkNWIyODZiXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]},{"imdb":{"rating":8.5,"votes":1004805,"id":1345836},"year":2012,"metacritic":78,"title":"The Dark Knight Rises","poster":"https://m.media-amazon.com/images/M/MV5BMTk4ODQzNDY3Ml5BMl5BanBnXkFtZTcwODA0NTM4Nw@@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]},{"imdb":{"rating":8.8,"votes":1294646,"id":1375666},"year":2010,"metacritic":74,"title":"Inception","poster":"https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_SY1000_SX677_AL_.jpg","directors":["Christopher Nolan"]}],"executionTimeMs":1821,"queryOperators":["$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me Action movies from the 1990s with IMDb rating above 7.5, Rotten Tomatoes critic score above 80%, and Metacritic score above 75","dbQuery":"db.movies.find({\n  genres: \"Action\",\n  year: { $gte: 1990, $lte: 1999 },\n  \"imdb.rating\": { $exists: true, $gt: 7.5 },\n  \"tomatoes.critic.meter\": { $exists: true, $gt: 80 },\n  metacritic: { $exists: true, $gt: 75 }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  imdb: 1,\n  tomatoes: 1,\n  metacritic: 1,\n  poster: 1,\n  _id: 0\n})","language":"mongosh","result":[{"imdb":{"rating":7.8,"votes":103918,"id":104691},"year":1992,"genres":["Action","Adventure","Drama"],"metacritic":76,"title":"The Last of the Mohicans","tomatoes":{"viewer":{"rating":3.6,"numReviews":206327,"meter":88},"dvd":"1999-11-23T00:00:00.000Z","critic":{"rating":7.9,"numReviews":36,"meter":94},"lastUpdated":"2015-09-12T19:11:24.000Z","rotten":2,"production":"Twentieth Century Fox Home Entertainment","fresh":34},"poster":"https://m.media-amazon.com/images/M/MV5BZDNiYmRkNDYtOWU1NC00NmMxLWFkNmUtMGI5NTJjOTJmYTM5XkEyXkFqcGdeQXVyNzQ1ODk3MTQ@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":7.8,"votes":199000,"id":106977},"year":1993,"genres":["Action","Adventure","Crime"],"metacritic":88,"title":"The Fugitive","tomatoes":{"viewer":{"rating":3.6,"numReviews":265790,"meter":89},"dvd":"1998-11-24T00:00:00.000Z","critic":{"rating":7.9,"numReviews":72,"meter":96},"lastUpdated":"2015-09-13T17:00:33.000Z","consensus":"Exhilarating and intense, this high-impact chase thriller is a model of taut and efficient formula filmmaking, and it features Harrison Ford at his frantic best.","rotten":3,"production":"Warner Bros. Pictures","fresh":69},"poster":"https://m.media-amazon.com/images/M/MV5BYmFmOGZjYTItYjY1ZS00OWRiLTk0NDgtMjQ5MzBkYWE2YWE0XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_SX677_AL_.jpg"},{"genres":["Action","Crime","Drama"],"metacritic":79,"poster":"https://m.media-amazon.com/images/M/MV5BYjJmMGI4NjctYjUzNC00MDE2LWJiMjYtOGZmN2Y2ZTZjMDY5XkEyXkFqcGdeQXVyMTg2NTc4MzA@._V1_SY1000_SX677_AL_.jpg","title":"Iron Monkey","year":1993,"imdb":{"rating":7.6,"votes":12513,"id":108148},"tomatoes":{"website":"http://www.iron-monkey.com","viewer":{"rating":3.8,"numReviews":19156,"meter":87},"dvd":"2002-03-26T00:00:00.000Z","critic":{"rating":7.4,"numReviews":91,"meter":90},"boxOffice":"$14.2M","consensus":"Iron Monkey may not have the poetic lyricism of Crouching Tiger, it makes up for it in fun and energy.","rotten":9,"production":"Dimension Films","lastUpdated":"2015-08-20T18:09:48.000Z","fresh":82}},{"imdb":{"rating":8.3,"votes":391608,"id":113277},"year":1995,"genres":["Action","Crime","Drama"],"metacritic":76,"title":"Heat","tomatoes":{"viewer":{"rating":3.9,"numReviews":219052,"meter":94},"dvd":"1999-07-27T00:00:00.000Z","critic":{"rating":7.8,"numReviews":76,"meter":86},"lastUpdated":"2015-09-12T17:27:36.000Z","consensus":"Though Al Pacino and Robert De Niro share but a handful of screen minutes together, Heat is an engrossing crime drama that draws compelling performances from its stars -- and confirms Michael Mann's mastery of the genre.","rotten":11,"production":"Warner Bros.","fresh":65},"poster":"https://m.media-amazon.com/images/M/MV5BNDc0YTQ5NGEtM2NkYS00MWRhLThiNzAtNmY3NWU3YzNkMjIyXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":8.6,"votes":775637,"id":120815},"year":1998,"genres":["Action","Drama","War"],"metacritic":90,"title":"Saving Private Ryan","tomatoes":{"website":"http://https://www.facebook.com/SavingPrivateRyanMovie","viewer":{"rating":4,"numReviews":988034,"meter":95},"dvd":"1999-11-02T00:00:00.000Z","critic":{"rating":8.6,"numReviews":130,"meter":92},"lastUpdated":"2015-09-12T17:31:13.000Z","consensus":"Anchored by another winning performance from Tom Hanks, Steven Spielberg's unflinchingly realistic war film virtually redefines the genre.","rotten":10,"production":"Paramount Pictures","fresh":120},"poster":"https://m.media-amazon.com/images/M/MV5BZjhkMDM4MWItZTVjOC00ZDRhLThmYTAtM2I5NzBmNmNlMzI1XkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":8,"votes":116701,"id":129167},"year":1999,"genres":["Animation","Action","Adventure"],"metacritic":85,"title":"The Iron Giant","tomatoes":{"website":"http://www.irongiant.com","viewer":{"rating":3.4,"numReviews":202099,"meter":89},"dvd":"1999-11-23T00:00:00.000Z","critic":{"rating":8.2,"numReviews":132,"meter":96},"lastUpdated":"2015-09-14T17:55:40.000Z","consensus":"The endearing Iron Giant tackles ambitious topics and complex human relationships with a steady hand and beautifully animated direction from Brad Bird.","rotten":5,"production":"Warner Bros. Pictures","fresh":127},"poster":"https://m.media-amazon.com/images/M/MV5BMjIxNDU2Njk0OV5BMl5BanBnXkFtZTgwODc3Njc3NjE@._V1_SY1000_SX677_AL_.jpg"}],"executionTimeMs":1887,"queryOperators":["$gte","$lte","$exists","$gt"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find movies starring both Leonardo DiCaprio and Kate Winslet that won at least 5 awards and have a runtime longer than 150 minutes","dbQuery":"db.movies.find({\n  $and: [\n    { cast: { $all: [\"Leonardo DiCaprio\", \"Kate Winslet\"] } },\n    { \"awards.wins\": { $gte: 5 } },\n    { runtime: { $gt: 150 } },\n    { cast: { $exists: true } },\n    { \"awards.wins\": { $exists: true } },\n    { runtime: { $exists: true } }\n  ]\n}, {\n  title: 1,\n  cast: 1,\n  awards: 1,\n  runtime: 1,\n  year: 1,\n  poster: 1,\n  _id: 0\n})","language":"mongosh","result":[{"year":1997,"title":"Titanic","poster":"https://m.media-amazon.com/images/M/MV5BMDdmZGU3NDQtY2E5My00ZTliLWIzOTUtMTY4ZGI1YjdiNjk3XkEyXkFqcGdeQXVyNTA4NzY1MzY@._V1_SY1000_SX677_AL_.jpg","awards":{"wins":127,"nominations":63,"text":"Won 11 Oscars. Another 116 wins & 63 nominations."},"cast":["Leonardo DiCaprio","Kate Winslet","Billy Zane","Kathy Bates"],"runtime":194}],"executionTimeMs":2034,"queryOperators":["$and","$all","$gte","$gt","$exists"],"methods":["find"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Get the 10 most recent comments for the movie with ID '573a139af29313caabcf1573'","dbQuery":"db.comments.find(\n  { movie_id: ObjectId(\"573a139af29313caabcf1573\") },\n  { _id: 1, name: 1, email: 1, text: 1, date: 1 }\n).sort({ date: -1 }).limit(10)","language":"mongosh","result":[{"_id":"5a9427648b0beebeb696474c","name":"Joshua Kent","email":"joshua_kent@fakegmail.com","text":"Nam rem consequatur aliquid facere accusamus accusantium. Animi expedita esse facere modi. Voluptatum repellat tenetur possimus ipsa.","date":"2017-07-09T18:11:58.000Z"},{"_id":"5a9427648b0beebeb6964723","name":"Jason Hernandez","email":"jason_hernandez@fakegmail.com","text":"Quibusdam hic ut dolorum inventore labore numquam. Aut saepe voluptatum quae minus laudantium. Quibusdam sed necessitatibus autem corporis quas facilis.","date":"2017-06-29T20:59:49.000Z"},{"_id":"5a9427648b0beebeb69647b9","name":"Rast","email":"luke_barnes@gameofthron.es","text":"Illum similique quidem dolore pariatur consequuntur quas esse rem. Labore voluptatibus debitis harum maxime qui necessitatibus nisi. Earum eum modi vel praesentium.","date":"2017-06-20T08:30:03.000Z"},{"_id":"5a9427648b0beebeb69646ba","name":"Bowen Marsh","email":"michael_condron@gameofthron.es","text":"Suscipit pariatur ad earum maiores quis quidem saepe. Nesciunt illo dolores officia eos placeat quos explicabo. Nihil nostrum vitae iusto facilis aliquam ullam mollitia. Cum nam aliquid similique.","date":"2017-06-12T22:24:06.000Z"},{"_id":"5a9427648b0beebeb696472e","name":"Jennifer Frazier","email":"jennifer_frazier@fakegmail.com","text":"Delectus recusandae nesciunt eveniet quas magnam architecto ea a. Voluptatem facilis repudiandae labore dicta quis.","date":"2017-04-19T03:21:57.000Z"},{"_id":"5a9427648b0beebeb6964774","name":"Maester Aemon","email":"peter_vaughan@gameofthron.es","text":"Enim facilis at tempora accusantium nemo autem. Ut ipsum repellendus laudantium.","date":"2017-04-19T00:12:11.000Z"},{"_id":"5a9427648b0beebeb69647f9","name":"Thomas Morris","email":"thomas_morris@fakegmail.com","text":"Magnam quia fugiat magnam sunt perspiciatis cum rerum eius. Nemo nulla doloremque suscipit dolorem. Eaque doloremque laborum labore officiis. Doloribus blanditiis nostrum totam quia assumenda esse.","date":"2017-03-23T08:48:01.000Z"},{"_id":"5a9427648b0beebeb6964800","name":"Tyrion Lannister","email":"peter_dinklage@gameofthron.es","text":"Impedit voluptate officia commodi earum. Sunt voluptatem eligendi vitae consectetur et quia. Iste officia odit mollitia aspernatur dolor.","date":"2016-06-01T19:28:27.000Z"},{"_id":"5a9427648b0beebeb6964745","name":"Jorah Mormont","email":"iain_glen@gameofthron.es","text":"Odio cumque doloribus aperiam vel. Eius ad qui in laudantium deleniti quae. Eveniet odit delectus at iste. Aliquam ipsam quia porro assumenda impedit provident ut dolor.","date":"2016-04-30T13:20:59.000Z"},{"_id":"5a9427648b0beebeb6964757","name":"Kelsey Smith","email":"kelsey_smith@fakegmail.com","text":"Esse repellat tempora provident vitae harum. At quidem omnis possimus corrupti rem.","date":"2015-12-31T12:00:52.000Z"}],"executionTimeMs":1277,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 20 most recent comments on Drama movies, including the movie title and comment details","dbQuery":"db.comments.aggregate([\n  {\n    $lookup: {\n      from: \"movies\",\n      localField: \"movie_id\",\n      foreignField: \"_id\",\n      as: \"movie\"\n    }\n  },\n  {\n    $match: {\n      \"movie.genres\": \"Drama\"\n    }\n  },\n  {\n    $sort: {\n      \"date\": -1\n    }\n  },\n  {\n    $limit: 20\n  },\n  {\n    $project: {\n      comment_text: \"$text\",\n      comment_date: \"$date\",\n      commenter_name: \"$name\",\n      movie_title: { $arrayElemAt: [\"$movie.title\", 0] },\n      movie_id: \"$movie_id\"\n    }\n  }\n])","language":"mongosh","result":[{"_id":"685c611ed82b30f597b30ac2","comment_text":"Great movie but the stampede scene was too intense for my 4-year-old. Better for kids 6 and up. Beautiful animation and songs though!","comment_date":"2017-09-12T00:00:00.000Z","commenter_name":"Sarah","movie_title":"The Lion King","movie_id":"573a1399f29313caabcee7fc"},{"_id":"5a9427648b0beebeb695abe6","comment_text":"Ratione vel aspernatur unde dolore at eius. Aliquam quibusdam vitae quos ea consequatur fugiat reprehenderit. Quibusdam maxime perspiciatis accusantium dolores molestias debitis.","comment_date":"2017-09-11T23:10:35.000Z","commenter_name":"Megan Richards","movie_title":"Sounder","movie_id":"573a1396f29313caabce4d2f"},{"_id":"5a9427648b0beebeb6959ec6","comment_text":"Quod soluta qui tempora totam. Dolore dicta rem eius sapiente rerum dolorem. Mollitia et dolores eius ad voluptas.","comment_date":"2017-09-11T13:24:21.000Z","commenter_name":"Jason Hernandez","movie_title":"The War Is Over","movie_id":"573a1395f29313caabce2c23"},{"_id":"5a9427658b0beebeb697485a","comment_text":"Cum id alias ut ea provident corrupti harum at. Dolores eaque harum doloremque ipsa. Eum omnis culpa reiciendis pariatur ea blanditiis voluptatum. Tempore quod consequatur neque quidem.","comment_date":"2017-09-10T07:56:58.000Z","commenter_name":"Khal Drogo","movie_title":"Les amants du Flore","movie_id":"573a13b7f29313caabd4b0d4"},{"_id":"5a9427648b0beebeb695b364","comment_text":"Et at expedita magnam non tempore error eum. Harum delectus labore voluptatem iusto. Iste veniam porro nemo. Illo voluptatum ex dignissimos voluptas pariatur.","comment_date":"2017-09-08T00:53:34.000Z","commenter_name":"Nicholas Johnson","movie_title":"Rocky","movie_id":"573a1397f29313caabce62e7"},{"_id":"5a9427648b0beebeb6967314","comment_text":"Veniam omnis natus repudiandae provident magni. Quae porro asperiores eveniet porro a dolor. Voluptatem assumenda reiciendis possimus.","comment_date":"2017-09-05T22:47:15.000Z","commenter_name":"Kristen Schmidt","movie_title":"The Shawshank Redemption","movie_id":"573a139ff29313caabd015b9"},{"_id":"5a9427648b0beebeb6965962","comment_text":"Dolorum dolorum quo blanditiis animi. Cupiditate eos non ullam nihil cupiditate sit ullam. Illo illo nesciunt ab doloremque. Eius facilis numquam quasi velit mollitia debitis asperiores sapiente.","comment_date":"2017-09-05T14:07:13.000Z","commenter_name":"Maester Aemon","movie_title":"Deterrence","movie_id":"573a139df29313caabcf9d45"},{"_id":"5a9427648b0beebeb6966d31","comment_text":"Nostrum quaerat atque necessitatibus magni. Voluptatem veritatis impedit eos beatae. Facere quod aperiam excepturi. Distinctio ratione autem quidem excepturi dicta.","comment_date":"2017-08-31T16:03:15.000Z","commenter_name":"Ygritte","movie_title":"Shiloh 2: Shiloh Season","movie_id":"573a139ef29313caabcfdb3b"},{"_id":"5a9427648b0beebeb6963c72","comment_text":"Reiciendis deleniti soluta voluptas dolorem. Provident dolorem distinctio veniam. Consectetur optio hic numquam atque consequatur maxime rem. Sed necessitatibus nesciunt non deleniti ab sit.","comment_date":"2017-08-21T16:03:57.000Z","commenter_name":"Ronald Cox","movie_title":"Saving Private Ryan","movie_id":"573a139af29313caabcf0f16"},{"_id":"5a9427658b0beebeb69717c5","comment_text":"Eaque perspiciatis atque veniam in. Nobis exercitationem blanditiis soluta occaecati. Laboriosam non odio adipisci.","comment_date":"2017-08-20T22:51:07.000Z","commenter_name":"Victoria Sanders","movie_title":"V for Vendetta","movie_id":"573a13b2f29313caabd3a6e5"},{"_id":"5a9427648b0beebeb69592f8","comment_text":"Accusantium accusamus vel maiores nostrum impedit blanditiis. Ipsam eius incidunt quam nisi consequatur nisi repellendus.","comment_date":"2017-08-19T15:27:24.000Z","commenter_name":"Rast","movie_title":"Somebody Up There Likes Me","movie_id":"573a1394f29313caabce0332"},{"_id":"5a9427658b0beebeb696a236","comment_text":"Iste eveniet suscipit eligendi minima velit impedit omnis. Ducimus possimus incidunt excepturi sint aliquam praesentium non nesciunt.","comment_date":"2017-08-16T01:28:11.000Z","commenter_name":"Daenerys Targaryen","movie_title":"Catch Me If You Can","movie_id":"573a13a4f29313caabd12b44"},{"_id":"5a9427648b0beebeb6962cb6","comment_text":"Nulla quod dolor amet. Quia perferendis illum nihil consequuntur deleniti a sequi. Quae pariatur nesciunt fugiat corrupti.","comment_date":"2017-08-12T20:30:52.000Z","commenter_name":"Davos Seaworth","movie_title":"Titanic","movie_id":"573a139af29313caabcf0d74"},{"_id":"5a9427648b0beebeb6960a58","comment_text":"Quis sint inventore suscipit. Facere praesentium amet deserunt. Quo voluptatum laboriosam exercitationem cum quia. Alias quos delectus mollitia quos animi.","comment_date":"2017-08-07T18:44:07.000Z","commenter_name":"Anthony Cline","movie_title":"The Shawshank Redemption","movie_id":"573a1399f29313caabceeb20"},{"_id":"5a9427658b0beebeb6976f14","comment_text":"Quisquam sunt magnam corporis cumque. Ipsam dicta natus placeat voluptatem. Doloribus optio dolore explicabo aliquid.","comment_date":"2017-08-05T13:27:49.000Z","commenter_name":"Mercedes Tyler","movie_title":"Fighting","movie_id":"573a13bef29313caabd5d194"},{"_id":"5a9427658b0beebeb69679d3","comment_text":"Eaque veniam necessitatibus laborum architecto error veritatis. Quis in excepturi nostrum et natus. Laboriosam sequi dicta distinctio dolorum ullam facere.","comment_date":"2017-08-03T09:11:39.000Z","commenter_name":"Yara Greyjoy","movie_title":"Coyote Ugly","movie_id":"573a13a0f29313caabd03ac9"},{"_id":"5a9427648b0beebeb695c5e1","comment_text":"Id corporis quam quaerat assumenda perferendis voluptatibus est. Accusantium aperiam at a perferendis.","comment_date":"2017-08-01T10:31:39.000Z","commenter_name":"Shireen Baratheon","movie_title":"Dègkeselyè","movie_id":"573a1397f29313caabce8439"},{"_id":"5a9427658b0beebeb6979f84","comment_text":"Illo nemo officiis autem deleniti accusamus eius. Nemo accusantium nihil laudantium. Doloribus hic atque rerum impedit facilis.","comment_date":"2017-07-28T09:32:15.000Z","commenter_name":"Doreah","movie_title":"Moonrise Kingdom","movie_id":"573a13cff29313caabd8a849"},{"_id":"5a9427648b0beebeb6966571","comment_text":"Assumenda quidem voluptatem illo facilis velit ex quidem. Incidunt quo libero nesciunt tempore.","comment_date":"2017-07-28T06:49:01.000Z","commenter_name":"Meera Reed","movie_title":"American Beauty","movie_id":"573a139ef29313caabcfc5d8"},{"_id":"5a9427658b0beebeb696af41","comment_text":"Minus iusto ipsa voluptatibus quas tempore. Molestias unde repellendus incidunt occaecati a.","comment_date":"2017-07-27T07:11:15.000Z","commenter_name":"Daniel Simmons","movie_title":"A Walk to Remember","movie_id":"573a13a6f29313caabd16af5"}],"executionTimeMs":4120,"queryOperators":["$lookup","$match","$sort","$limit","$project","$arrayElemAt"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Who are the top 5 users who have posted the most comments, and how many comments has each posted?","dbQuery":"db.comments.aggregate([\n  {\n    $group: {\n      _id: {\n        name: \"$name\",\n        email: \"$email\"\n      },\n      comment_count: { $sum: 1 }\n    }\n  },\n  {\n    $sort: { comment_count: -1 }\n  },\n  {\n    $limit: 5\n  },\n  {\n    $project: {\n      _id: 0,\n      user_name: \"$_id.name\",\n      user_email: \"$_id.email\",\n      comment_count: 1\n    }\n  }\n])","language":"mongosh","result":[{"comment_count":277,"user_name":"Mace Tyrell","user_email":"roger_ashton-griffiths@gameofthron.es"},{"comment_count":260,"user_name":"Rodrik Cassel","user_email":"ron_donachie@gameofthron.es"},{"comment_count":260,"user_name":"The High Sparrow","user_email":"jonathan_pryce@gameofthron.es"},{"comment_count":258,"user_name":"Missandei","user_email":"nathalie_emmanuel@gameofthron.es"},{"comment_count":257,"user_name":"Robert Jordan","user_email":"robert_jordan@fakegmail.com"}],"executionTimeMs":1652,"queryOperators":["$group","$sum","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find all theaters within 5 miles of coordinates 40.7589, -73.9851","dbQuery":"db.theaters.find({\n  \"location.geo\": {\n    $geoWithin: {\n      $centerSphere: [[-73.9851, 40.7589], 5 / 3963.2]\n    }\n  }\n})","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51e881","theaterId":1535,"location":{"address":{"street1":"125 18th Street","city":"Jersey City","state":"NJ","zipcode":"07310"},"geo":{"type":"Point","coordinates":[-74.0406545,40.7344915]}}},{"_id":"59a47287cfa9a3a73e51eb5b","theaterId":474,"location":{"address":{"street1":"925 Paterson Plank Rd","city":"Secaucus","state":"NJ","zipcode":"07094"},"geo":{"type":"Point","coordinates":[-74.044983,40.780956]}}},{"_id":"59a47287cfa9a3a73e51e8e2","theaterId":1908,"location":{"address":{"street1":"750 Seventh Ave","city":"New York","state":"NY","zipcode":"10019"},"geo":{"type":"Point","coordinates":[-73.983487,40.76078]}}},{"_id":"59a47287cfa9a3a73e51eccb","theaterId":835,"location":{"address":{"street1":"1280 Lexington Ave","city":"New York","state":"NY","zipcode":"10028"},"geo":{"type":"Point","coordinates":[-73.956085,40.779835]}}},{"_id":"59a47286cfa9a3a73e51e838","theaterId":1448,"location":{"address":{"street1":"1880 Broadway","city":"New York","state":"NY","zipcode":"10023"},"geo":{"type":"Point","coordinates":[-73.982094,40.769882]}}},{"_id":"59a47286cfa9a3a73e51e744","theaterId":1028,"location":{"address":{"street1":"529 5th Ave","city":"New York","state":"NY","zipcode":"10017"},"geo":{"type":"Point","coordinates":[-73.980011,40.754333]}}},{"_id":"59a47287cfa9a3a73e51ebe1","theaterId":609,"location":{"address":{"street1":"622 Broadway","city":"New York","state":"NY","zipcode":"10012"},"geo":{"type":"Point","coordinates":[-73.996689,40.72551]}}},{"_id":"59a47287cfa9a3a73e51e8ed","theaterId":1906,"location":{"address":{"street1":"2 Union Square","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9899,40.73445]}}},{"_id":"59a47287cfa9a3a73e51e87d","theaterId":1531,"location":{"address":{"street1":"52 E 14th St","street2":"#64","city":"New York","state":"NY","zipcode":"10003"},"geo":{"type":"Point","coordinates":[-73.9905737,40.7349109]}}},{"_id":"59a47287cfa9a3a73e51eb63","theaterId":482,"location":{"address":{"street1":"60 West 23rd Street","city":"New York","state":"NY","zipcode":"10010"},"geo":{"type":"Point","coordinates":[-73.99295,40.74194]}}},{"_id":"59a47287cfa9a3a73e51eb5f","theaterId":478,"location":{"address":{"street1":"5001 Northern Blvd","city":"Long Island City","state":"NY","zipcode":"11101"},"geo":{"type":"Point","coordinates":[-73.909309,40.753345]}}},{"_id":"59a47286cfa9a3a73e51e7ca","theaterId":1172,"location":{"address":{"street1":"610 Exterior Street","city":"Bronx","state":"NY","zipcode":"10451"},"geo":{"type":"Point","coordinates":[-73.9310055,40.8172327]}}}],"executionTimeMs":1265,"queryOperators":["$geoWithin","$centerSphere"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters within 1 mile of coordinates 41.8781, -87.6298","dbQuery":"db.theaters.find({\n  \"location.geo\": {\n    $near: {\n      $geometry: {\n        type: \"Point\",\n        coordinates: [-87.6298, 41.8781]\n      },\n      $maxDistance: 1609.34\n    }\n  }\n})","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51ed31","theaterId":8920,"location":{"address":{"street1":"172 West Adams Street","street2":null,"city":"Chicago","state":"IL","zipcode":"60603"},"geo":{"type":"Point","coordinates":[-87.633141,41.879731]}}},{"_id":"59a47286cfa9a3a73e51e7ae","theaterId":1142,"location":{"address":{"street1":"555 W Roosevelt Rd","city":"Chicago","state":"IL","zipcode":"60607"},"geo":{"type":"Point","coordinates":[-87.64116,41.86686]}}}],"executionTimeMs":1232,"queryOperators":["$near","$geometry","$maxDistance"],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the 10 closest theaters within 15 miles of coordinates 33.4484, -112.0740","dbQuery":"db.theaters.find({\n  \"location.geo\": {\n    $near: {\n      $geometry: {\n        type: \"Point\",\n        coordinates: [-112.0740, 33.4484]\n      },\n      $maxDistance: 24140\n    }\n  }\n}).limit(10)","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51e980","theaterId":253,"location":{"address":{"street1":"1949 E Camelback Rd","street2":"Ste 101","city":"Phoenix","state":"AZ","zipcode":"85016"},"geo":{"type":"Point","coordinates":[-112.03876,33.508217]}}},{"_id":"59a47286cfa9a3a73e51e730","theaterId":1002,"location":{"address":{"street1":"1900 E Rio Salado Pkwy","city":"Tempe","state":"AZ","zipcode":"85281"},"geo":{"type":"Point","coordinates":[-111.89966,33.430729]}}},{"_id":"59a47287cfa9a3a73e51e8bf","theaterId":177,"location":{"address":{"street1":"5051 East Ray Rd","city":"Phoenix","state":"AZ","zipcode":"85044"},"geo":{"type":"Point","coordinates":[-111.97346,33.318554]}}},{"_id":"59a47287cfa9a3a73e51e953","theaterId":249,"location":{"address":{"street1":"2727 W Thunderbird Rd","city":"Phoenix","state":"AZ","zipcode":"85053"},"geo":{"type":"Point","coordinates":[-112.11788,33.609314]}}},{"_id":"59a47286cfa9a3a73e51e789","theaterId":1109,"location":{"address":{"street1":"10035 W Mcdowell Rd","city":"Avondale","state":"AZ","zipcode":"85323"},"geo":{"type":"Point","coordinates":[-112.27374,33.463428]}}},{"_id":"59a47287cfa9a3a73e51e95e","theaterId":250,"location":{"address":{"street1":"12645 N 48th St","city":"Phoenix","state":"AZ","zipcode":"85032"},"geo":{"type":"Point","coordinates":[-111.97616,33.601425]}}},{"_id":"59a47287cfa9a3a73e51e97a","theaterId":260,"location":{"address":{"street1":"1455 West Southern Road","street2":"Suite 1082","city":"Mesa","state":"AZ","zipcode":"85202"},"geo":{"type":"Point","coordinates":[-111.85358,33.39109]}}},{"_id":"59a47287cfa9a3a73e51ed18","theaterId":869,"location":{"address":{"street1":"3100 W Frye Rd","city":"Chandler","state":"AZ","zipcode":"85226"},"geo":{"type":"Point","coordinates":[-111.89569,33.299419]}}}],"executionTimeMs":1191,"queryOperators":["$near","$geometry","$maxDistance"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me theaters in California within 20 miles of coordinates 37.7749, -122.4194","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-122.4194, 37.7749]\n      },\n      distanceField: \"distance\",\n      maxDistance: 32187,\n      spherical: true\n    }\n  },\n  {\n    $match: {\n      \"location.address.state\": \"CA\"\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      theaterId: 1,\n      location: 1\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51e8ca","theaterId":187,"location":{"address":{"street1":"1717 Harrison Street","city":"San Francisco","state":"CA","zipcode":"94103"},"geo":{"type":"Point","coordinates":[-122.4116,37.768921]}}},{"_id":"59a47286cfa9a3a73e51e79c","theaterId":1125,"location":{"address":{"street1":"2675 Geary Blvd","street2":"Suite 300","city":"San Francisco","state":"CA","zipcode":"94118"},"geo":{"type":"Point","coordinates":[-122.44702,37.782257]}}},{"_id":"59a47287cfa9a3a73e51ed0b","theaterId":873,"location":{"address":{"street1":"200 Colma Blvd","city":"Colma","state":"CA","zipcode":"94014"},"geo":{"type":"Point","coordinates":[-122.46246,37.677597]}}},{"_id":"59a47287cfa9a3a73e51ea06","theaterId":2819,"location":{"address":{"street1":"125 Serramonte Center","street2":"#639","city":"Daly City","state":"CA","zipcode":"94015"},"geo":{"type":"Point","coordinates":[-122.469228,37.669204]}}},{"_id":"59a47287cfa9a3a73e51eb76","theaterId":499,"location":{"address":{"street1":"3700 Mandela Pkwy","city":"Oakland","state":"CA","zipcode":"94608"},"geo":{"type":"Point","coordinates":[-122.28633,37.827579]}}},{"_id":"59a47287cfa9a3a73e51ec86","theaterId":8134,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ec2e","theaterId":8011,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ec81","theaterId":8111,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ec91","theaterId":8145,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ecba","theaterId":8184,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ec8b","theaterId":8112,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51ec9d","theaterId":8146,"location":{"address":{"street1":"275 S Airport Blvd","street2":null,"city":"San Francisco","state":"CA","zipcode":"94080"},"geo":{"type":"Point","coordinates":[-122.404346,37.646615]}}},{"_id":"59a47287cfa9a3a73e51e8de","theaterId":1896,"location":{"address":{"street1":"1250 El Camino Real","city":"San Bruno","state":"CA","zipcode":"94066"},"geo":{"type":"Point","coordinates":[-122.42018,37.63941]}}},{"_id":"59a47287cfa9a3a73e51e9bf","theaterId":2751,"location":{"address":{"street1":"1150 El Camino Real","street2":"#111","city":"San Bruno","state":"CA","zipcode":"94066"},"geo":{"type":"Point","coordinates":[-122.416605,37.637506]}}},{"_id":"59a47287cfa9a3a73e51ec46","theaterId":8039,"location":{"address":{"street1":"9 Airport Dr.","street2":null,"city":"Oakland","state":"CA","zipcode":"94621"},"geo":{"type":"Point","coordinates":[-122.200085,37.729292]}}},{"_id":"59a47287cfa9a3a73e51ec9e","theaterId":8149,"location":{"address":{"street1":"9 Airport Dr.","street2":null,"city":"Oakland","state":"CA","zipcode":"94621"},"geo":{"type":"Point","coordinates":[-122.200085,37.729292]}}},{"_id":"59a47286cfa9a3a73e51e73c","theaterId":1021,"location":{"address":{"street1":"700 Du Bois St","city":"San Rafael","state":"CA","zipcode":"94901"},"geo":{"type":"Point","coordinates":[-122.51875,37.966579]}}},{"_id":"59a47286cfa9a3a73e51e7f8","theaterId":138,"location":{"address":{"street1":"1490 Fitzgerald Rd","city":"Pinole","state":"CA","zipcode":"94564"},"geo":{"type":"Point","coordinates":[-122.30667,37.990162]}}},{"_id":"59a47287cfa9a3a73e51ea2d","theaterId":2872,"location":{"address":{"street1":"269 Southland Mall","city":"Hayward","state":"CA","zipcode":"94545"},"geo":{"type":"Point","coordinates":[-122.101571,37.654679]}}}],"executionTimeMs":1207,"queryOperators":["$geoNear","$match","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters within 8 miles of coordinates 39.7392, -104.9903 that are located in Denver","dbQuery":"db.theaters.find({\n  $and: [\n    {\n      \"location.geo\": {\n        $geoWithin: {\n          $centerSphere: [[-104.9903, 39.7392], 8 / 3963.2]\n        }\n      }\n    },\n    {\n      \"location.address.city\": \"Denver\"\n    }\n  ]\n})","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51e918","theaterId":211,"location":{"address":{"street1":"4100 E Mexico Ave","street2":"Ste A","city":"Denver","state":"CO","zipcode":"80222"},"geo":{"type":"Point","coordinates":[-104.93787,39.685158]}}},{"_id":"59a47287cfa9a3a73e51e9b6","theaterId":2740,"location":{"address":{"street1":"3000 East First Ave","street2":"#296","city":"Denver","state":"CO","zipcode":"80206"},"geo":{"type":"Point","coordinates":[-104.957457,39.716579]}}}],"executionTimeMs":1206,"queryOperators":["$and","$geoWithin","$centerSphere"],"methods":["find"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find theaters within 25 miles of coordinates 25.7617, -80.1918, group them by distance ranges (0-5 miles, 5-15 miles, 15-25 miles), and show the count of theaters in each range along with the closest theater in each group","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-80.1918, 25.7617]\n      },\n      distanceField: \"distanceMeters\",\n      maxDistance: 40233.6,\n      spherical: true\n    }\n  },\n  {\n    $addFields: {\n      distanceMiles: { $divide: [\"$distanceMeters\", 1609.34] },\n      distanceRange: {\n        $switch: {\n          branches: [\n            { case: { $lte: [{ $divide: [\"$distanceMeters\", 1609.34] }, 5] }, then: \"0-5 miles\" },\n            { case: { $lte: [{ $divide: [\"$distanceMeters\", 1609.34] }, 15] }, then: \"5-15 miles\" },\n            { case: { $lte: [{ $divide: [\"$distanceMeters\", 1609.34] }, 25] }, then: \"15-25 miles\" }\n          ],\n          default: \"25+ miles\"\n        }\n      }\n    }\n  },\n  {\n    $group: {\n      _id: \"$distanceRange\",\n      theaterCount: { $sum: 1 },\n      closestTheater: {\n        $first: {\n          _id: \"$_id\",\n          theaterId: \"$theaterId\",\n          location: \"$location\",\n          distanceMiles: \"$distanceMiles\"\n        }\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      distanceRange: \"$_id\",\n      theaterCount: 1,\n      closestTheater: {\n        _id: \"$closestTheater._id\",\n        theaterId: \"$closestTheater.theaterId\",\n        location: \"$closestTheater.location\"\n      }\n    }\n  },\n  {\n    $sort: { distanceRange: 1 }\n  }\n])","language":"mongosh","result":[{"theaterCount":3,"closestTheater":{"_id":"59a47287cfa9a3a73e51e93e","theaterId":2371,"location":{"address":{"street1":"1790 Biscayne Blvd","street2":"Ste D","city":"Miami","state":"FL","zipcode":"33132"},"geo":{"type":"Point","coordinates":[-80.188977,25.794018]}}},"distanceRange":"0-5 miles"},{"theaterCount":8,"closestTheater":{"_id":"59a47287cfa9a3a73e51ea76","theaterId":2942,"location":{"address":{"street1":"20205 S Dixie Highway","street2":"Space 1115","city":"Miami","state":"FL","zipcode":"33189"},"geo":{"type":"Point","coordinates":[-80.371625,25.576382]}}},"distanceRange":"15-25 miles"},{"theaterCount":9,"closestTheater":{"_id":"59a47287cfa9a3a73e51ebaf","theaterId":553,"location":{"address":{"street1":"7751 Bird Rd","city":"Miami","state":"FL","zipcode":"33155"},"geo":{"type":"Point","coordinates":[-80.321373,25.733393]}}},"distanceRange":"5-15 miles"}],"executionTimeMs":1351,"queryOperators":["$geoNear","$addFields","$divide","$switch","$lte","$group","$sum","$first","$project","$sort"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find the 15 closest theaters within 30 miles of coordinates 29.7604, -95.3698, calculate the exact distance to each theater, and only include theaters in Texas cities with populations over 100,000 (Houston, Dallas, San Antonio, Austin, Fort Worth)","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-95.3698, 29.7604]\n      },\n      distanceField: \"distanceInMeters\",\n      maxDistance: 48280.2,\n      spherical: true,\n      query: {\n        \"location.address.state\": \"TX\",\n        \"location.address.city\": {\n          $in: [\"Houston\", \"Dallas\", \"San Antonio\", \"Austin\", \"Fort Worth\"]\n        }\n      }\n    }\n  },\n  {\n    $addFields: {\n      distanceInMiles: {\n        $round: [\n          { $divide: [\"$distanceInMeters\", 1609.34] },\n          2\n        ]\n      }\n    }\n  },\n  {\n    $project: {\n      _id: 1,\n      theaterId: 1,\n      location: 1,\n      distanceInMiles: 1\n    }\n  },\n  {\n    $limit: 15\n  }\n])","language":"mongosh","result":[{"_id":"59a47287cfa9a3a73e51e90f","theaterId":1961,"location":{"address":{"street1":"5135 W Alabama St","street2":"#7210","city":"Houston","state":"TX","zipcode":"77056"},"geo":{"type":"Point","coordinates":[-95.46322,29.740402]}},"distanceInMiles":5.78},{"_id":"59a47287cfa9a3a73e51ea55","theaterId":291,"location":{"address":{"street1":"5133 Richmond Ave","city":"Houston","state":"TX","zipcode":"77056"},"geo":{"type":"Point","coordinates":[-95.462402,29.73044]}},"distanceInMiles":5.93},{"_id":"59a47287cfa9a3a73e51e939","theaterId":233,"location":{"address":{"street1":"510 Gulfgate Center Mall","city":"Houston","state":"TX","zipcode":"77087"},"geo":{"type":"Point","coordinates":[-95.294044,29.697538]}},"distanceInMiles":6.29},{"_id":"59a47287cfa9a3a73e51e95d","theaterId":2510,"location":{"address":{"street1":"100 Meyerland Plaza Mall","city":"Houston","state":"TX","zipcode":"77096-1607"},"geo":{"type":"Point","coordinates":[-95.45953,29.685877]}},"distanceInMiles":7.46},{"_id":"59a47287cfa9a3a73e51ecef","theaterId":8558,"location":{"address":{"street1":"7800 Airport Blvd","street2":null,"city":"Houston","state":"TX","zipcode":"77061"},"geo":{"type":"Point","coordinates":[-95.276667,29.654166]}},"distanceInMiles":9.24},{"_id":"59a47287cfa9a3a73e51ecfa","theaterId":8559,"location":{"address":{"street1":"7800 Airport Blvd","street2":null,"city":"Houston","state":"TX","zipcode":"77061"},"geo":{"type":"Point","coordinates":[-95.276667,29.654166]}},"distanceInMiles":9.24},{"_id":"59a47287cfa9a3a73e51e926","theaterId":216,"location":{"address":{"street1":"9670 Katy Freeway","city":"Houston","state":"TX","zipcode":"77055"},"geo":{"type":"Point","coordinates":[-95.526543,29.785477]}},"distanceInMiles":9.57},{"_id":"59a47286cfa9a3a73e51e7bf","theaterId":1160,"location":{"address":{"street1":"13238 Northwest Fwy","city":"Houston","state":"TX","zipcode":"77040"},"geo":{"type":"Point","coordinates":[-95.50827,29.852411]}},"distanceInMiles":10.47},{"_id":"59a47287cfa9a3a73e51e91c","theaterId":213,"location":{"address":{"street1":"8210 S Gessner Dr","city":"Houston","state":"TX","zipcode":"77036"},"geo":{"type":"Point","coordinates":[-95.533008,29.68748]}},"distanceInMiles":11.03},{"_id":"59a47287cfa9a3a73e51e91b","theaterId":215,"location":{"address":{"street1":"10777 North Fwy","city":"Houston","state":"TX","zipcode":"77037"},"geo":{"type":"Point","coordinates":[-95.414383,29.92598]}},"distanceInMiles":11.76},{"_id":"59a47287cfa9a3a73e51e8b6","theaterId":1768,"location":{"address":{"street1":"6006 E. Sam Houston Pkwy N","city":"Houston","state":"TX","zipcode":"77049"},"geo":{"type":"Point","coordinates":[-95.1640715,29.8145471]}},"distanceInMiles":12.91},{"_id":"59a47287cfa9a3a73e51ec3f","theaterId":8032,"location":{"address":{"street1":"2800 North Terminal Rd.","street2":null,"city":"Houston","state":"TX","zipcode":"77032"},"geo":{"type":"Point","coordinates":[-95.347925,29.986715]}},"distanceInMiles":15.71},{"_id":"59a47287cfa9a3a73e51ec77","theaterId":8113,"location":{"address":{"street1":"2800 North Terminal Rd.","street2":null,"city":"Houston","state":"TX","zipcode":"77032"},"geo":{"type":"Point","coordinates":[-95.347925,29.986715]}},"distanceInMiles":15.71},{"_id":"59a47287cfa9a3a73e51ec3d","theaterId":8031,"location":{"address":{"street1":"2800 North Terminal Rd.","street2":null,"city":"Houston","state":"TX","zipcode":"77032"},"geo":{"type":"Point","coordinates":[-95.347925,29.986715]}},"distanceInMiles":15.71},{"_id":"59a47287cfa9a3a73e51ec7d","theaterId":8089,"location":{"address":{"street1":"2800 North Terminal Rd.","street2":null,"city":"Houston","state":"TX","zipcode":"77032"},"geo":{"type":"Point","coordinates":[-95.347925,29.986715]}},"distanceInMiles":15.71}],"executionTimeMs":1246,"queryOperators":["$geoNear","$in","$addFields","$round","$divide","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me the 10 movies with the most comments from users","dbQuery":"db.movies.find(\n  { num_mflix_comments: { $exists: true, $gt: 0 } },\n  { title: 1, num_mflix_comments: 1, _id: 0 }\n).sort({ num_mflix_comments: -1 }).limit(10)","language":"mongosh","result":[{"title":"The Taking of Pelham 1 2 3","num_mflix_comments":161},{"title":"Ocean's Eleven","num_mflix_comments":158},{"title":"Terminator Salvation","num_mflix_comments":158},{"title":"50 First Dates","num_mflix_comments":158},{"title":"About a Boy","num_mflix_comments":158},{"title":"The Mummy","num_mflix_comments":157},{"title":"Sherlock Holmes","num_mflix_comments":157},{"title":"Hellboy II: The Golden Army","num_mflix_comments":155},{"title":"Anchorman: The Legend of Ron Burgundy","num_mflix_comments":154},{"title":"The Mummy Returns","num_mflix_comments":154}],"executionTimeMs":1330,"queryOperators":["$exists","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 15 movies that have an IMDb rating above 8.0, Rotten Tomatoes critic meter above 85, and Metacritic score above 80","dbQuery":"db.movies.find({\n  $and: [\n    { \"imdb.rating\": { $gt: 8.0, $exists: true, $ne: null } },\n    { \"tomatoes.critic.meter\": { $gt: 85, $exists: true, $ne: null } },\n    { \"metacritic\": { $gt: 80, $exists: true, $ne: null } }\n  ]\n}, {\n  title: 1,\n  \"imdb.rating\": 1,\n  \"tomatoes.critic.meter\": 1,\n  metacritic: 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(15)","language":"mongosh","result":[{"imdb":{"rating":9.2},"metacritic":100,"title":"The Godfather","tomatoes":{"critic":{"meter":99}}},{"imdb":{"rating":9},"metacritic":82,"title":"The Dark Knight","tomatoes":{"critic":{"meter":94}}},{"metacritic":93,"title":"Schindler's List","imdb":{"rating":8.9},"tomatoes":{"critic":{"meter":96}}},{"imdb":{"rating":8.9},"metacritic":94,"title":"The Lord of the Rings: The Return of the King","tomatoes":{"critic":{"meter":95}}},{"imdb":{"rating":8.9},"metacritic":94,"title":"Pulp Fiction","tomatoes":{"critic":{"meter":93}}},{"imdb":{"rating":8.8},"metacritic":92,"title":"The Lord of the Rings: The Fellowship of the Ring","tomatoes":{"critic":{"meter":91}}},{"imdb":{"rating":8.7},"metacritic":88,"title":"The Lord of the Rings: The Two Towers","tomatoes":{"critic":{"meter":96}}},{"imdb":{"rating":8.7},"metacritic":89,"title":"Goodfellas","tomatoes":{"critic":{"meter":96}}},{"imdb":{"rating":8.7},"metacritic":92,"title":"Star Wars: Episode IV - A New Hope","tomatoes":{"critic":{"meter":94}}},{"imdb":{"rating":8.6},"metacritic":94,"title":"Spirited Away","tomatoes":{"critic":{"meter":97}}},{"imdb":{"rating":8.6},"metacritic":96,"title":"Modern Times","tomatoes":{"critic":{"meter":100}}},{"imdb":{"rating":8.6},"metacritic":90,"title":"Raiders of the Lost Ark","tomatoes":{"critic":{"meter":95}}},{"imdb":{"rating":8.6},"metacritic":94,"title":"Inside Out","tomatoes":{"critic":{"meter":98}}},{"imdb":{"rating":8.6},"metacritic":90,"title":"Saving Private Ryan","tomatoes":{"critic":{"meter":92}}},{"imdb":{"rating":8.6},"metacritic":84,"title":"The Silence of the Lambs","tomatoes":{"critic":{"meter":94}}}],"executionTimeMs":1346,"queryOperators":["$and","$gt","$exists","$ne"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me movies from 2010-2017 that have more than 50 user comments and an IMDb rating above 7.5","dbQuery":"db.movies.find({\n  year: { $gte: 2010, $lte: 2017 },\n  num_mflix_comments: { $gt: 50 },\n  \"imdb.rating\": { $gt: 7.5, $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  num_mflix_comments: 1,\n  \"imdb.rating\": 1,\n  _id: 0\n}).sort({ year: 1, \"imdb.rating\": -1 })","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":2010,"title":"Shutter Island","num_mflix_comments":142},{"imdb":{"rating":8.5},"year":2012,"title":"The Dark Knight Rises","num_mflix_comments":129},{"imdb":{"rating":8.1},"year":2012,"title":"The Avengers","num_mflix_comments":117}],"executionTimeMs":1362,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","sort"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 12 Drama movies with the highest number of user comments that were released after 2005","dbQuery":"db.movies.find(\n  {\n    genres: \"Drama\",\n    year: { $gt: 2005 },\n    num_mflix_comments: { $exists: true, $gt: 0 }\n  },\n  {\n    title: 1,\n    genres: 1,\n    num_mflix_comments: 1,\n    year: 1,\n    _id: 0\n  }\n).sort({ num_mflix_comments: -1 }).limit(12)","language":"mongosh","result":[{"year":2007,"genres":["Drama","Sci-Fi","Thriller"],"title":"I Am Legend","num_mflix_comments":148},{"year":2008,"genres":["Biography","Drama","Sport"],"title":"The Express","num_mflix_comments":147},{"year":2009,"genres":["Animation","Drama","Family"],"title":"A Christmas Carol","num_mflix_comments":138},{"year":2007,"genres":["Drama","Horror","Musical"],"title":"Sweeney Todd: The Demon Barber of Fleet Street","num_mflix_comments":138},{"year":2008,"genres":["Action","Crime","Drama"],"title":"The Dark Knight","num_mflix_comments":136},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Uninvited","num_mflix_comments":134},{"year":2009,"genres":["Drama","Fantasy","Romance"],"title":"The Time Traveler's Wife","num_mflix_comments":132},{"year":2009,"genres":["Drama","Horror","Mystery"],"title":"The Unborn","num_mflix_comments":131},{"year":2008,"genres":["Drama","Fantasy","Romance"],"title":"The Curious Case of Benjamin Button","num_mflix_comments":128},{"year":2008,"genres":["Drama","War"],"title":"Stop-Loss","num_mflix_comments":128},{"year":2009,"genres":["Adventure","Drama","War"],"title":"Inglourious Basterds","num_mflix_comments":127},{"year":2008,"genres":["Drama","Romance"],"title":"Slumdog Millionaire","num_mflix_comments":127}],"executionTimeMs":1280,"queryOperators":["$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the profile information for the user with email 'finn_jones@gameofthron.es'","dbQuery":"db.users.find(\n  { email: \"finn_jones@gameofthron.es\" },\n  { name: 1, email: 1, _id: 0 }\n)","language":"mongosh","result":[{"name":"Loras Tyrell","email":"finn_jones@gameofthron.es"}],"executionTimeMs":1155,"queryOperators":[],"methods":["find"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the profile details for user 'Lancel Lannister' along with his 5 most recent comments","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      name: \"Lancel Lannister\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"name\",\n      foreignField: \"name\",\n      as: \"userComments\"\n    }\n  },\n  {\n    $project: {\n      name: 1,\n      email: 1,\n      recentComments: {\n        $slice: [\n          {\n            $sortArray: {\n              input: \"$userComments\",\n              sortBy: { date: -1 }\n            }\n          },\n          5\n        ]\n      }\n    }\n  },\n  {\n    $project: {\n      name: 1,\n      email: 1,\n      recentComments: {\n        $map: {\n          input: \"$recentComments\",\n          as: \"comment\",\n          in: {\n            text: \"$$comment.text\",\n            date: \"$$comment.date\",\n            movie_id: \"$$comment.movie_id\"\n          }\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59b99dcecfa9a34dcd7885ea","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","recentComments":[{"text":"Eveniet perferendis laborum ut quidem. Reprehenderit voluptatum ea est reiciendis impedit nihil eius. Odio aliquam recusandae necessitatibus.","date":"2017-04-01T17:49:09.000Z","movie_id":"573a13acf29313caabd28635"},{"text":"Est enim minima quam iste architecto. Placeat quas aliquam sint veniam ipsa corporis optio quasi. Nemo aspernatur omnis nesciunt itaque. Molestias temporibus architecto harum tempore.","date":"2017-02-15T07:02:23.000Z","movie_id":"573a13b3f29313caabd3ae45"},{"text":"Deserunt dolorum suscipit vitae ipsum. Maiores ut porro quis corporis incidunt dolor distinctio. Perferendis error vero ad voluptates placeat distinctio maiores.","date":"2017-01-02T06:31:29.000Z","movie_id":"573a13a0f29313caabd03ac9"},{"text":"Ratione quisquam sit similique ullam vero. Nihil porro itaque impedit vero dolor commodi. Ratione quisquam voluptas autem. Odio facere dolor cupiditate odit.","date":"2016-12-16T15:22:25.000Z","movie_id":"573a13bef29313caabd5c293"},{"text":"Beatae exercitationem facere quas quasi error. Facilis magni atque eveniet neque corporis minus amet. Ipsa maxime in optio iusto quo.","date":"2016-11-09T16:23:38.000Z","movie_id":"573a13a9f29313caabd1ef67"}]}],"executionTimeMs":1259,"queryOperators":["$match","$lookup","$project","$slice","$sortArray","$map"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Get profile information for user with email 'eugene_simon@gameofthron.es' including their total comment count and average comments per month","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      email: \"eugene_simon@gameofthron.es\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"userComments\"\n    }\n  },\n  {\n    $project: {\n      name: 1,\n      email: 1,\n      totalComments: { $size: \"$userComments\" },\n      avgCommentsPerMonth: {\n        $cond: {\n          if: { $eq: [{ $size: \"$userComments\" }, 0] },\n          then: 0,\n          else: {\n            $cond: {\n              if: { $eq: [{ $size: \"$userComments\" }, 1] },\n              then: 1,\n              else: {\n                $divide: [\n                  { $size: \"$userComments\" },\n                  {\n                    $max: [\n                      1,\n                      {\n                        $divide: [\n                          {\n                            $subtract: [\n                              { $max: \"$userComments.date\" },\n                              { $min: \"$userComments.date\" }\n                            ]\n                          },\n                          1000 * 60 * 60 * 24 * 30.44\n                        ]\n                      }\n                    ]\n                  }\n                ]\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59b99dcecfa9a34dcd7885ea","name":"Lancel Lannister","email":"eugene_simon@gameofthron.es","totalComments":225,"avgCommentsPerMonth":0.39792751465753806}],"executionTimeMs":1683,"queryOperators":["$match","$lookup","$project","$size","$cond","$eq","$divide","$max","$subtract","$min"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show profile for user 'Gendry' and all his comments posted between January 1987 and December 2011","dbQuery":"db.users.aggregate([\n  {\n    $match: {\n      name: \"Gendry\"\n    }\n  },\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\",\n      foreignField: \"email\",\n      as: \"all_comments\"\n    }\n  },\n  {\n    $project: {\n      name: 1,\n      email: 1,\n      comments: {\n        $filter: {\n          input: \"$all_comments\",\n          cond: {\n            $and: [\n              { $gte: [\"$$this.date\", new Date(\"1987-01-01\")] },\n              { $lte: [\"$$this.date\", new Date(\"2011-12-31\")] }\n            ]\n          }\n        }\n      }\n    }\n  },\n  {\n    $project: {\n      name: 1,\n      email: 1,\n      comments: {\n        $map: {\n          input: \"$comments\",\n          as: \"comment\",\n          in: {\n            text: \"$$comment.text\",\n            date: \"$$comment.date\",\n            movie_id: \"$$comment.movie_id\"\n          }\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"_id":"59b99dc3cfa9a34dcd7885d5","name":"Gendry","email":"joe_dempsie@gameofthron.es","comments":[{"text":"Culpa vero veritatis dolorum quasi id laboriosam beatae. Adipisci nesciunt itaque voluptatum et. Accusamus reiciendis ab cupiditate.","date":"2005-11-16T02:55:52.000Z","movie_id":"573a1394f29313caabcde63e"},{"text":"Nesciunt quae quasi error iste dolor reprehenderit sint repellat. Totam omnis perspiciatis magni doloremque aspernatur. Dicta officia nam quis. Explicabo voluptas sed ipsum animi.","date":"1987-03-19T04:45:10.000Z","movie_id":"573a1394f29313caabcded08"},{"text":"Accusantium nobis sequi repudiandae a. Nihil aliquid nisi quia quidem suscipit maiores mollitia. Dolorem excepturi nesciunt ipsam id.","date":"1998-01-11T19:30:38.000Z","movie_id":"573a1395f29313caabce2413"},{"text":"Neque quisquam iure ab. Rem error distinctio eum quas ipsam dolorem perspiciatis quis. Quasi odit fugiat dicta. Ea aut blanditiis provident ratione animi illum.","date":"2005-02-28T06:18:53.000Z","movie_id":"573a1395f29313caabce282c"},{"text":"Magnam nam vel ducimus asperiores magnam dolore adipisci. Repellat excepturi iusto ducimus unde consequatur aperiam itaque. Dolore voluptates cum explicabo autem sequi dolor.","date":"2009-01-08T09:03:47.000Z","movie_id":"573a1396f29313caabce3a9f"},{"text":"Neque nisi dolor alias tempore ab. Error illum laboriosam veritatis libero. Veniam distinctio id dolore alias aperiam reiciendis.","date":"2005-11-02T01:29:35.000Z","movie_id":"573a1396f29313caabce482f"},{"text":"Assumenda qui nisi amet eius. Expedita minima earum vero laudantium quod. Magnam eligendi repellat animi commodi nesciunt. Atque impedit dolores voluptatem veritatis eaque fuga.","date":"1990-10-11T22:16:17.000Z","movie_id":"573a1396f29313caabce4a9a"},{"text":"Sint minima unde minus voluptatibus. Aperiam voluptatem fuga debitis maiores debitis aliquid eius. Incidunt id quaerat provident minus.","date":"1989-08-20T16:09:48.000Z","movie_id":"573a1395f29313caabce3141"},{"text":"Dolorem neque natus quidem est. Cum sint eum quibusdam asperiores officiis quis harum. Incidunt possimus impedit laborum laudantium nisi inventore.","date":"2002-08-01T16:00:30.000Z","movie_id":"573a1396f29313caabce4a9a"},{"text":"Alias dolores praesentium placeat. Quam voluptatibus tempora similique odit. Nisi dolorum tempora saepe eligendi voluptatum nulla excepturi. Minima facilis repudiandae optio nisi quam.","date":"2011-11-09T20:29:04.000Z","movie_id":"573a1397f29313caabce5f8d"},{"text":"Eos ea delectus odit itaque labore voluptatibus. Officiis numquam eligendi aperiam optio animi veniam. Nesciunt illum tempora dicta tempora excepturi. Maiores minima nulla voluptas.","date":"1989-06-10T16:56:19.000Z","movie_id":"573a1397f29313caabce77d9"},{"text":"Odit error est sed vero ducimus quod. Dolor provident ullam illum quibusdam veniam harum quod. Deserunt perspiciatis nam fugiat rerum.","date":"2003-09-11T12:41:58.000Z","movie_id":"573a1397f29313caabce8760"},{"text":"Placeat porro natus asperiores odio molestias quibusdam. Beatae dolorum ipsam error reprehenderit tempore. Illum odio unde velit impedit voluptates.","date":"2001-07-20T23:50:29.000Z","movie_id":"573a1398f29313caabcea621"},{"text":"Ullam praesentium esse dignissimos sunt. Adipisci recusandae culpa nostrum officia quae eos voluptate. Veniam deleniti perspiciatis blanditiis perferendis culpa.","date":"1998-02-14T20:42:11.000Z","movie_id":"573a1398f29313caabceace9"},{"text":"Dolorum iste sed illo corrupti autem libero. Amet alias quidem possimus. Aspernatur corrupti expedita atque. Quidem vel eligendi sit suscipit doloribus occaecati.","date":"1991-05-16T23:13:54.000Z","movie_id":"573a1398f29313caabceaf5d"},{"text":"Dolorum alias mollitia quo laboriosam necessitatibus. Inventore dicta totam culpa laborum. Dolores recusandae perspiciatis aliquid similique culpa dicta. Earum ut quasi minima dolores veritatis illo.","date":"2000-07-04T09:54:17.000Z","movie_id":"573a1398f29313caabceb515"},{"text":"Quod sint quisquam nisi dignissimos reprehenderit blanditiis. Natus rem cumque beatae quidem suscipit placeat excepturi. Iusto eius odit error culpa possimus pariatur laudantium.","date":"1991-12-23T22:51:40.000Z","movie_id":"573a1398f29313caabceb515"},{"text":"Non quod quidem aspernatur distinctio quas vel magnam. Tenetur asperiores aperiam maxime eius omnis aperiam. Porro consequuntur tempore nemo error nisi.","date":"2003-07-16T01:31:55.000Z","movie_id":"573a1398f29313caabceb75d"},{"text":"Vel enim voluptatem vero aspernatur voluptates a dolore. Id illo culpa est perspiciatis alias quaerat consequatur. Dolorem quod tempora nisi aliquam. Unde est inventore aspernatur modi.","date":"1997-11-11T02:46:06.000Z","movie_id":"573a1398f29313caabcebee5"},{"text":"Deleniti quos ullam accusantium voluptates maxime. Dignissimos exercitationem ex voluptatibus sit sed quod. Possimus minima culpa pariatur similique autem deserunt voluptate.","date":"2009-11-26T14:35:39.000Z","movie_id":"573a1398f29313caabcebd41"},{"text":"Rerum corrupti delectus ad consequuntur pariatur. Velit fugiat natus quod natus error. Sequi nam aspernatur dicta labore tempore.","date":"2010-06-05T01:55:56.000Z","movie_id":"573a1398f29313caabcebfda"},{"text":"Officiis nihil dolores quaerat consequuntur asperiores sapiente quam ex. Deleniti esse nostrum magnam voluptas excepturi maxime a. Repudiandae praesentium impedit sit perferendis laborum delectus.","date":"2004-12-30T08:29:42.000Z","movie_id":"573a1399f29313caabcec24c"},{"text":"Consequuntur similique minima perferendis pariatur veritatis neque optio. Asperiores nam dolorum eveniet quis fugit magnam accusantium. Dignissimos saepe saepe maiores harum sunt.","date":"2003-03-20T07:54:21.000Z","movie_id":"573a1399f29313caabcec614"},{"text":"Magni dolores voluptatem rerum aliquid magnam magni blanditiis. Quod rerum vero quis. Accusamus earum ipsa minus officia ut. Iste tenetur numquam vero incidunt.","date":"1987-10-21T11:50:28.000Z","movie_id":"573a1399f29313caabcecbf3"},{"text":"Perspiciatis harum culpa dolore non ex dolorum nihil. Fuga libero dolorem doloribus occaecati corrupti. Ipsa deserunt pariatur consequatur a nihil nesciunt delectus.","date":"1993-06-02T01:00:58.000Z","movie_id":"573a1399f29313caabced32b"},{"text":"Ab iste accusamus dolor similique maiores. Vitae earum sequi facere perferendis facilis. Explicabo sint minus quas nisi odio sed.","date":"1991-07-20T02:27:00.000Z","movie_id":"573a1399f29313caabced4eb"},{"text":"Est amet excepturi quasi tempora quae. Dolor earum natus laudantium recusandae vero quos officia sed.","date":"1998-02-08T05:52:22.000Z","movie_id":"573a1399f29313caabcedc5d"},{"text":"In ipsam voluptatibus ipsa ipsam praesentium quidem. Quia cupiditate omnis inventore aperiam consequatur quod. Perferendis velit vitae quidem quos delectus.","date":"1991-06-16T14:01:22.000Z","movie_id":"573a1399f29313caabcee2fa"},{"text":"Ullam illo eaque pariatur adipisci veniam iure vel. Suscipit id voluptatibus laboriosam quis. A quasi maxime dolores facere molestias dignissimos. Dolore nisi temporibus velit quas.","date":"1995-09-30T22:17:40.000Z","movie_id":"573a1399f29313caabcee578"},{"text":"Voluptatibus rerum ducimus consectetur animi nesciunt. Consequatur sed delectus consequuntur necessitatibus ab dolore. Voluptatibus qui sed veritatis non nemo.","date":"2004-01-02T10:28:24.000Z","movie_id":"573a1399f29313caabcee886"},{"text":"Placeat expedita veniam corporis tempore. Blanditiis commodi natus voluptas eveniet. Veniam dolorem consequuntur recusandae officia. Corporis nulla qui culpa voluptates perferendis earum.","date":"2005-02-08T00:02:21.000Z","movie_id":"573a1399f29313caabceeb67"},{"text":"Rem expedita quisquam eius magni tenetur sequi. Eligendi voluptatum cum id.","date":"2004-01-19T01:27:22.000Z","movie_id":"573a139af29313caabceef40"},{"text":"Veniam temporibus modi assumenda necessitatibus sequi sit odio. Fugit cumque sit sequi cumque. Debitis quisquam nisi reprehenderit consequatur eius blanditiis maiores perspiciatis.","date":"2000-03-14T22:14:45.000Z","movie_id":"573a139af29313caabcef02c"},{"text":"Explicabo maxime ad aliquam adipisci amet. Eaque rem odit ab quam. Placeat odio minus tenetur nam eligendi autem molestiae.","date":"2006-03-14T00:22:15.000Z","movie_id":"573a139af29313caabcef3f1"},{"text":"Id aspernatur accusantium beatae blanditiis laboriosam totam ipsam. Distinctio nam dolores maxime et. Tempora non perferendis cumque pariatur excepturi.","date":"1988-12-22T14:04:46.000Z","movie_id":"573a139af29313caabcef887"},{"text":"Dolore repellendus quisquam porro illo sed. Voluptatibus nemo amet velit totam consectetur. Voluptatibus porro eligendi placeat beatae. Distinctio ea facere placeat dignissimos sed voluptate.","date":"1999-12-26T05:59:56.000Z","movie_id":"573a139af29313caabceffbf"},{"text":"Enim illo ipsam iure voluptatibus possimus. Facere temporibus deserunt ut. Cumque eius maiores esse. Consequuntur harum nulla repellendus tempora molestias sit.","date":"2001-08-07T01:33:31.000Z","movie_id":"573a139af29313caabcf0d74"},{"text":"Nesciunt quisquam officia beatae doloribus optio. Eos natus quaerat voluptate tempore. Consequuntur esse suscipit tempora saepe odio molestiae.","date":"1994-02-10T04:56:11.000Z","movie_id":"573a139af29313caabcf0e59"},{"text":"Velit libero consectetur rem. Illo vero non aut excepturi. Ad sequi soluta adipisci voluptates. Consequuntur voluptatum autem eum non reprehenderit aut.","date":"1993-10-22T23:00:42.000Z","movie_id":"573a139af29313caabcf0e59"},{"text":"Consequuntur molestias cumque facilis ducimus non illum blanditiis possimus. Ullam illo optio assumenda alias harum laboriosam dolore. Voluptatum quibusdam sequi iure itaque.","date":"2000-10-22T07:03:28.000Z","movie_id":"573a139af29313caabcf0f16"},{"text":"Iste ipsum harum voluptate velit nemo ex dolorem. Mollitia quaerat ipsa ex voluptas mollitia explicabo incidunt.","date":"2005-05-16T05:15:07.000Z","movie_id":"573a139af29313caabcf0f51"},{"text":"Voluptas delectus corporis facere nisi repellat magnam unde. Nemo a labore delectus inventore. Quaerat illum corporis placeat eveniet.","date":"2011-07-13T14:55:28.000Z","movie_id":"573a139af29313caabcf124d"},{"text":"Magnam hic rerum id explicabo similique. Laboriosam modi facere nobis. Molestiae dolorem facilis quae necessitatibus veritatis aliquam.","date":"1990-05-07T13:22:05.000Z","movie_id":"573a139af29313caabcf1258"},{"text":"Quos dolorum autem hic modi. Ad omnis quos est doloribus accusamus ab. Libero possimus quas officiis necessitatibus eaque voluptas. Ipsam placeat id pariatur.","date":"2004-09-15T12:09:00.000Z","movie_id":"573a139bf29313caabcf3d5d"},{"text":"Ex illum dolorum blanditiis laboriosam. Dignissimos veniam ea aut in.","date":"2002-09-25T02:07:05.000Z","movie_id":"573a139bf29313caabcf3d23"},{"text":"Atque laboriosam rerum animi commodi nemo. Recusandae debitis eaque impedit odio molestiae labore nihil. Corporis voluptatem quasi labore.","date":"1997-12-28T14:14:02.000Z","movie_id":"573a139cf29313caabcf5fde"},{"text":"Adipisci quasi adipisci tenetur dolores. Quo illo a aspernatur blanditiis. Pariatur nam ea deserunt dolorum.","date":"2008-01-12T04:47:45.000Z","movie_id":"573a139df29313caabcfb008"},{"text":"Ullam atque nesciunt magnam reprehenderit atque error. Repellendus ex delectus neque suscipit quae fuga. Accusamus aspernatur similique dolore ad quae. Sint aliquid in sed illo voluptatem dolorum et.","date":"1992-04-20T12:34:51.000Z","movie_id":"573a139df29313caabcfaaab"},{"text":"Quidem nostrum nesciunt natus aliquam possimus minus. Neque adipisci saepe quo. Dolorem esse vitae nemo beatae esse minus libero magnam. A officiis explicabo itaque ratione quae nostrum ex.","date":"1996-07-06T18:16:15.000Z","movie_id":"573a139df29313caabcfa2fb"},{"text":"Possimus adipisci praesentium molestias eligendi. Quasi doloribus voluptate excepturi.","date":"1987-11-11T13:49:58.000Z","movie_id":"573a139ef29313caabcfc7b7"},{"text":"Corrupti autem illum maiores autem. Quasi culpa exercitationem facilis aliquid dicta eius. Quisquam soluta labore officiis nobis magni quo.","date":"2001-05-05T00:55:28.000Z","movie_id":"573a139ff29313caabd00252"},{"text":"Facere quis fuga mollitia ipsum ex blanditiis eius. Ipsum similique veniam illum. Ab voluptatibus necessitatibus labore neque unde repellendus.","date":"1995-08-23T19:30:52.000Z","movie_id":"573a13a0f29313caabd05a65"},{"text":"Fugiat atque dignissimos atque natus eos. Facere pariatur pariatur officiis. Ea ab alias neque. Placeat voluptate id eius odit blanditiis quas.","date":"1994-06-27T08:51:12.000Z","movie_id":"573a13a1f29313caabd066c4"},{"text":"Officiis natus laboriosam cupiditate repellendus. Sit unde deleniti esse non possimus. Reiciendis hic excepturi omnis aliquid ad sit cupiditate asperiores. Ea pariatur mollitia cupiditate quaerat.","date":"2003-09-19T02:22:44.000Z","movie_id":"573a13a1f29313caabd066cb"},{"text":"Minima possimus error eligendi aspernatur. Sapiente odio eligendi optio. Optio veritatis aut cumque possimus similique.","date":"1994-10-25T19:18:25.000Z","movie_id":"573a13a1f29313caabd066c4"},{"text":"Neque est iusto eius. Beatae delectus laborum harum repellendus iste. Perspiciatis quos hic molestias fugit veniam. Dolore quo nesciunt numquam beatae.","date":"2005-09-23T06:23:26.000Z","movie_id":"573a13a1f29313caabd069c6"},{"text":"Nihil numquam ipsum fugit natus molestiae velit sed iusto. Eaque ducimus optio et voluptate id voluptatem nesciunt. Debitis placeat saepe nesciunt est.","date":"2004-01-12T22:32:28.000Z","movie_id":"573a13a1f29313caabd0765d"},{"text":"Asperiores adipisci illum suscipit natus rerum impedit magnam totam. At eligendi sapiente sint accusantium debitis facilis placeat. Modi ipsum dolorum doloribus itaque tenetur praesentium.","date":"2011-11-18T14:23:51.000Z","movie_id":"573a13a3f29313caabd0d1e3"},{"text":"Illo saepe cupiditate dolore eaque laborum. Eum nisi dolorum corrupti cum laboriosam aperiam. Nulla quasi a quis.","date":"1997-08-22T18:20:27.000Z","movie_id":"573a13a3f29313caabd0d923"},{"text":"Rem voluptas nulla quasi error eum alias quia. Ex porro voluptatum similique ea fugiat veritatis. Quos porro impedit quam quisquam delectus ab beatae.","date":"1994-02-15T04:29:35.000Z","movie_id":"573a13a3f29313caabd0d923"},{"text":"Consequuntur illum non quia iure. Deleniti tenetur nostrum distinctio minima quaerat.","date":"2005-06-18T04:24:11.000Z","movie_id":"573a13a3f29313caabd0ebbb"},{"text":"Debitis aut qui iste rem praesentium harum sunt. Dolorem dolor ea illo aspernatur exercitationem magni ratione. Libero delectus placeat debitis. Ad sequi nam dolor est soluta sed.","date":"2005-05-12T05:40:57.000Z","movie_id":"573a13a4f29313caabd0f8dc"},{"text":"Quas qui temporibus praesentium aspernatur a ipsam a. Nulla corrupti hic quae. Unde necessitatibus tenetur excepturi unde totam laboriosam temporibus.","date":"2009-09-01T00:39:45.000Z","movie_id":"573a13a4f29313caabd114ac"},{"text":"Fugit ex ipsa fuga at repudiandae beatae. Fuga sint delectus ipsum laborum earum ex. Officiis quas pariatur molestias eum id aspernatur corrupti.","date":"1991-01-03T05:18:06.000Z","movie_id":"573a13a4f29313caabd114ac"},{"text":"Totam cumque alias illo provident. Alias beatae temporibus aliquam. Quos nesciunt molestiae earum incidunt tempora molestias. A suscipit impedit quidem aliquam molestiae excepturi itaque.","date":"1992-09-20T07:25:36.000Z","movie_id":"573a13a4f29313caabd117df"},{"text":"Cupiditate aspernatur maxime officiis esse in iure. Quibusdam voluptates totam enim adipisci. Cumque recusandae minus dolores voluptas distinctio odit. Architecto repellat ipsa eaque libero.","date":"1995-06-02T19:06:51.000Z","movie_id":"573a13a5f29313caabd1333a"},{"text":"Molestiae impedit totam similique repellat. Odit delectus animi animi eum modi suscipit voluptatum incidunt. Voluptatibus velit voluptatem consequatur eveniet molestiae ullam numquam labore.","date":"1987-06-13T06:15:20.000Z","movie_id":"573a13a6f29313caabd18b78"},{"text":"Sequi nesciunt ab architecto dignissimos aperiam consequatur. Eaque ut maiores sequi natus cumque repellendus. Optio voluptatum alias a maiores inventore. Ea veniam nihil nesciunt tempora.","date":"2004-11-02T08:35:18.000Z","movie_id":"573a13a7f29313caabd19f1b"},{"text":"Id libero quia ratione perspiciatis occaecati. Aspernatur exercitationem nobis rerum. Exercitationem deleniti incidunt vitae laborum ratione.","date":"1994-07-16T03:14:20.000Z","movie_id":"573a13a7f29313caabd1aa03"},{"text":"Maiores beatae impedit nostrum consequuntur architecto veniam modi iure. Cumque nostrum eligendi ratione totam. Sunt dolores occaecati laboriosam cumque assumenda ipsam alias dolore.","date":"2004-01-14T12:17:03.000Z","movie_id":"573a13a7f29313caabd19f82"},{"text":"Expedita amet pariatur dolor. Ad nesciunt laudantium perferendis aliquam autem quas sint. Inventore voluptas distinctio corporis quas deserunt. Eligendi sequi quidem aspernatur ab nostrum.","date":"1995-05-24T06:25:47.000Z","movie_id":"573a13a7f29313caabd1aa55"},{"text":"Officiis fugit corrupti saepe qui laboriosam. Ad amet dignissimos mollitia. Doloribus veniam alias voluptas. Dolore unde qui fuga atque adipisci qui. Aperiam ipsa vero deleniti sint.","date":"1998-02-19T15:53:12.000Z","movie_id":"573a13a7f29313caabd1aa55"},{"text":"Id rem officiis officia fugit nostrum facilis. Nihil perferendis veniam sint distinctio aut vel. Rem quod porro quisquam quisquam provident ad amet.","date":"1988-10-19T17:22:35.000Z","movie_id":"573a13a7f29313caabd1c099"},{"text":"Ratione alias voluptatem dolores. Aliquam quam adipisci ut nesciunt voluptas explicabo.","date":"1987-05-24T07:58:31.000Z","movie_id":"573a13a7f29313caabd1c099"},{"text":"Quasi id maiores aut totam necessitatibus rem. Blanditiis impedit ipsa corrupti ipsum. Laudantium labore autem illum dolorem sit. Perspiciatis a deserunt cumque nobis dignissimos repudiandae illo.","date":"1996-05-14T04:26:42.000Z","movie_id":"573a13a8f29313caabd1c494"},{"text":"Praesentium nam necessitatibus voluptate tempora non. Eligendi alias eveniet consequuntur rerum saepe eius optio.","date":"2003-08-08T14:39:42.000Z","movie_id":"573a13a9f29313caabd1ea7d"},{"text":"Illo quisquam voluptate neque explicabo ea aspernatur minima. Inventore natus quod facere optio. Possimus eveniet dolores atque eius.","date":"2011-11-08T06:48:16.000Z","movie_id":"573a13a9f29313caabd1f18a"},{"text":"Totam accusantium voluptates dolore. Reiciendis odio nobis voluptate culpa deserunt molestias. Illum cumque soluta expedita voluptatem quod repudiandae.","date":"1991-02-12T23:22:13.000Z","movie_id":"573a13a9f29313caabd1ea7d"},{"text":"Perferendis numquam architecto optio quaerat ipsa animi aspernatur. Eum aliquid assumenda laborum molestiae dolores. Sit ad id quo consequuntur exercitationem. Sint vel quia molestias nesciunt.","date":"2004-10-12T18:12:28.000Z","movie_id":"573a13a9f29313caabd1f93c"},{"text":"Fuga facere illum dicta optio iusto omnis. Ut dolor fugiat fugit at sunt minima laboriosam. Eum quasi iure nemo molestias doloribus.","date":"2006-12-10T12:44:54.000Z","movie_id":"573a13a9f29313caabd20478"},{"text":"Aspernatur ab quam aut dolorum. Aliquid quo rem numquam modi. Numquam animi omnis ea fugiat. Dignissimos iusto optio nesciunt consequuntur et voluptate est. Sunt eaque temporibus odio.","date":"1994-03-19T00:00:34.000Z","movie_id":"573a13aaf29313caabd2128b"},{"text":"Tenetur tempore dolorem quaerat. Blanditiis qui itaque ducimus culpa repudiandae iusto dolor. Ab necessitatibus recusandae quo animi quis. Quia aliquam molestiae minima id blanditiis quisquam.","date":"1991-10-13T08:58:08.000Z","movie_id":"573a13aaf29313caabd22abb"},{"text":"Consectetur nesciunt dolores harum. Aspernatur temporibus pariatur minus voluptatibus. Nihil magni optio blanditiis a delectus at.","date":"2009-04-18T14:21:30.000Z","movie_id":"573a13abf29313caabd24a7f"},{"text":"Incidunt itaque quis soluta qui eligendi ratione ab odio. Quia saepe maxime doloribus veniam qui placeat ipsum. Quo maxime velit esse iusto magni quod. Quo autem quibusdam assumenda vero impedit.","date":"1990-08-19T02:43:55.000Z","movie_id":"573a13abf29313caabd24181"},{"text":"Ea aliquid nemo odio veritatis odit pariatur. Possimus quod sint aliquam. Dolore alias ea sed consequuntur dicta. Dignissimos quaerat eveniet quasi soluta rerum ullam amet.","date":"2003-03-17T11:00:58.000Z","movie_id":"573a13abf29313caabd24a7f"},{"text":"Fuga at itaque at id. Deleniti architecto tempora architecto cumque corrupti. Ipsum debitis quos debitis repudiandae. Deleniti ipsam corrupti exercitationem omnis ratione.","date":"1998-09-17T09:08:00.000Z","movie_id":"573a13acf29313caabd27286"},{"text":"Laudantium modi reiciendis earum est. Beatae facere numquam cupiditate fugiat. Quibusdam expedita molestias consequatur modi earum.","date":"2011-12-30T21:25:26.000Z","movie_id":"573a13acf29313caabd287dd"},{"text":"Nihil quasi atque nam ex laboriosam tempora. Necessitatibus beatae doloremque nulla neque deleniti ducimus hic. Tempora officia unde dicta non. Cum unde natus quam id sed quod.","date":"2011-10-30T22:34:23.000Z","movie_id":"573a13acf29313caabd29647"},{"text":"Facilis quidem nesciunt labore eum a qui. Laborum optio tenetur laborum molestiae non. Illum voluptatum et aliquid iste atque.","date":"2008-07-14T20:20:49.000Z","movie_id":"573a13acf29313caabd289b3"},{"text":"Quis sint reiciendis hic. A corporis exercitationem quas fugiat minus. Eos odio enim maxime hic provident commodi laudantium. Doloremque similique iste sit eligendi omnis voluptatem.","date":"2000-08-29T21:15:12.000Z","movie_id":"573a13b0f29313caabd3408e"},{"text":"Perferendis voluptas molestias corrupti tempora. Non earum nihil eum laudantium exercitationem. Beatae nam sed pariatur sapiente. Voluptatum magnam quam aut eaque.","date":"1995-04-03T17:38:42.000Z","movie_id":"573a13b0f29313caabd34996"},{"text":"Quos consequuntur non ad perspiciatis illum tenetur similique. Totam laudantium sapiente nostrum nemo. Error optio inventore modi commodi quod adipisci aspernatur ea.","date":"1997-04-05T23:13:26.000Z","movie_id":"573a13b0f29313caabd3505e"},{"text":"Esse illum doloremque temporibus error molestiae vero. Dolorum harum quae corporis odio modi labore. Repellendus esse aspernatur temporibus animi consectetur illo.","date":"2000-08-07T14:39:55.000Z","movie_id":"573a13b1f29313caabd36321"},{"text":"Sed omnis eligendi nulla neque non beatae enim. Tempora quas incidunt vero. Laborum qui eligendi dolores necessitatibus eligendi unde velit. Provident dolor inventore quis omnis repellendus.","date":"1997-11-09T05:55:24.000Z","movie_id":"573a13b2f29313caabd38c3b"},{"text":"Sapiente blanditiis officiis eaque est nihil. Nisi accusantium quidem porro perferendis. Pariatur porro ipsam totam vero. Animi suscipit quam itaque debitis fugiat.","date":"1989-08-29T19:16:59.000Z","movie_id":"573a13b2f29313caabd3a6e5"},{"text":"Ut inventore beatae sed consectetur ipsa adipisci maiores debitis. Repellat culpa natus quibusdam eos natus accusantium ut enim. Reprehenderit esse blanditiis cumque doloremque.","date":"1988-03-23T08:59:06.000Z","movie_id":"573a13b3f29313caabd3b2b9"},{"text":"Laudantium tenetur aliquam velit architecto. Consequatur magnam praesentium cupiditate magnam earum explicabo aut. Ratione reprehenderit corrupti eius asperiores fuga id debitis mollitia.","date":"1989-07-20T00:18:49.000Z","movie_id":"573a13b2f29313caabd3a6e5"},{"text":"Tenetur natus asperiores explicabo dolor. Corporis dolorem odio reiciendis consequatur. Necessitatibus modi harum sequi cum beatae natus nostrum debitis.","date":"2009-01-03T03:03:31.000Z","movie_id":"573a13b3f29313caabd3ae45"},{"text":"Deleniti beatae debitis magnam omnis. Repudiandae tempora voluptate pariatur a sit magnam suscipit. Quia tenetur nobis voluptate earum officiis.","date":"1989-06-03T07:15:38.000Z","movie_id":"573a13b3f29313caabd3b647"},{"text":"Ipsum hic explicabo voluptates neque. Voluptatem eius vel accusamus molestias soluta totam ducimus. Deserunt iure voluptatum ipsum sit. Sit beatae quo facilis est.","date":"2001-09-17T04:04:39.000Z","movie_id":"573a13b3f29313caabd3b647"},{"text":"Porro occaecati atque ipsa possimus accusamus. Quia ipsa ratione blanditiis culpa harum. Adipisci facilis consequatur ipsum sapiente tenetur placeat.","date":"2007-03-18T15:50:28.000Z","movie_id":"573a13b4f29313caabd3f5fc"},{"text":"Nihil numquam natus quasi. Eius nemo magnam aliquam et perferendis quod vel.","date":"2002-02-07T15:19:48.000Z","movie_id":"573a13b4f29313caabd410a2"},{"text":"Quae molestias consequuntur eaque tempora vitae. Fugiat in aperiam dolore veniam. Unde tempora itaque ducimus occaecati temporibus. Excepturi quam quod voluptatem adipisci.","date":"2006-11-30T14:32:22.000Z","movie_id":"573a13b4f29313caabd41aaa"},{"text":"Vel ex vel odit. Numquam eveniet quia nemo labore. Dolorem hic exercitationem quis quod repellat.","date":"1990-05-24T09:27:17.000Z","movie_id":"573a13b4f29313caabd41c04"},{"text":"Facere consectetur asperiores quae quisquam ea officia. At doloremque nobis quas nobis. Vero corporis excepturi incidunt.","date":"2006-10-16T02:21:22.000Z","movie_id":"573a13b6f29313caabd46a9f"},{"text":"Laborum ex dolorum odit aliquid maiores. Harum sunt facere est eligendi ipsum nobis. Debitis distinctio ratione nemo sapiente.","date":"1997-03-13T08:04:38.000Z","movie_id":"573a13b7f29313caabd4968d"},{"text":"Illo ducimus fugiat eaque molestias et ad. Labore magni eveniet vitae adipisci enim. Repudiandae officia eveniet ipsum ab harum.","date":"1989-09-19T11:07:12.000Z","movie_id":"573a13b7f29313caabd4968d"},{"text":"Pariatur facilis voluptatem fugit repellendus reiciendis deserunt nemo. Itaque illum modi dignissimos iusto rerum sint quam sit. Libero illum corporis voluptates eius quis nisi.","date":"2002-05-19T09:17:32.000Z","movie_id":"573a13bbf29313caabd5517f"},{"text":"Officia perspiciatis optio corrupti maxime odit. Consequuntur sint odit deleniti adipisci explicabo perspiciatis ratione. Cumque odio eius illo soluta autem culpa rem explicabo.","date":"1992-12-08T10:33:27.000Z","movie_id":"573a13bcf29313caabd57db6"},{"text":"Voluptate nisi consequatur amet sequi quo esse minima. Officia iste possimus consequatur iure ad repellendus sed. Officia rem enim eligendi illo. Maxime eum sequi expedita ipsum.","date":"1990-08-19T18:49:16.000Z","movie_id":"573a13bdf29313caabd58fd3"},{"text":"Maiores fuga autem quae velit neque. Ex enim nisi quos ducimus impedit ad omnis. Illum nemo sequi ipsa dicta natus reiciendis. Et similique enim quasi enim at non a.","date":"2008-03-22T06:36:58.000Z","movie_id":"573a13bef29313caabd5af44"},{"text":"Illo ad voluptatibus aut labore doloremque. Facilis iste delectus distinctio occaecati perspiciatis inventore. Eius mollitia aperiam esse similique maiores illum.","date":"2008-10-21T17:37:35.000Z","movie_id":"573a13bef29313caabd5b27a"},{"text":"Tempore consequatur autem pariatur cum. Illum repellendus excepturi voluptatibus commodi laudantium consequuntur. Aliquid dolorum eos sed sit rerum atque. Quis dolore quam sunt eveniet.","date":"1994-09-30T07:16:26.000Z","movie_id":"573a13bff29313caabd5f4a4"},{"text":"Vero labore vel sapiente nemo. Consequatur inventore sequi velit odit quod illo.\nAut explicabo amet officiis placeat molestias. Dignissimos quidem esse fugit a nisi ipsum.","date":"2010-05-29T07:59:44.000Z","movie_id":"573a13bff29313caabd5f799"},{"text":"Laboriosam mollitia vel ipsum ipsum. Maiores neque quas culpa numquam. Aspernatur nemo assumenda perferendis quis tempora praesentium hic facere.","date":"2003-02-19T18:47:36.000Z","movie_id":"573a13bff29313caabd5f799"},{"text":"Velit facere esse ex atque voluptates facere corporis placeat. Reiciendis quis officia neque nesciunt harum. Iste hic aspernatur quis dolores saepe praesentium harum repellendus.","date":"1995-09-29T02:40:07.000Z","movie_id":"573a13bff29313caabd5fcd1"},{"text":"Labore nemo in quod neque eius adipisci eum. Iusto ea ab corrupti iste. Tenetur magnam ea id unde reprehenderit cumque illum inventore.","date":"1994-07-04T00:56:09.000Z","movie_id":"573a13bff29313caabd6001f"},{"text":"Eaque ad reiciendis nemo. Occaecati officiis magnam laudantium nam. Adipisci eligendi saepe hic fugiat repellat eius.","date":"1997-03-09T15:41:24.000Z","movie_id":"573a13c0f29313caabd62fe9"},{"text":"At incidunt tempora necessitatibus soluta. Iusto voluptatem nemo vel laudantium ratione.","date":"1999-05-16T07:53:49.000Z","movie_id":"573a13c0f29313caabd60d0d"},{"text":"Culpa animi mollitia laborum veritatis. Incidunt minus animi voluptatum saepe unde. Possimus labore quos molestias praesentium. Hic sunt quos rem consequatur neque pariatur.","date":"2011-05-08T00:04:32.000Z","movie_id":"573a13c2f29313caabd661e8"},{"text":"Fugiat dolor exercitationem atque sed quasi voluptatum alias. Placeat dolor quam fugit. Perspiciatis quia iste culpa placeat aut praesentium odit. Error cumque velit nam deleniti placeat.","date":"1990-01-26T11:02:00.000Z","movie_id":"573a13c4f29313caabd6cc80"},{"text":"Quo est nostrum veritatis veritatis provident possimus distinctio. Eum id nostrum praesentium praesentium tempora. Natus repudiandae eaque impedit nesciunt delectus praesentium modi.","date":"2005-11-18T01:27:10.000Z","movie_id":"573a13c6f29313caabd715d3"},{"text":"Aperiam harum voluptates quos error totam neque. Maxime ullam laborum ratione consequatur. Ipsam occaecati veniam quaerat repellendus.","date":"1997-03-05T20:23:06.000Z","movie_id":"573a13c6f29313caabd715d3"},{"text":"Neque perspiciatis velit officia aliquam. Nam minima quasi inventore modi nesciunt velit.","date":"2004-02-08T01:40:59.000Z","movie_id":"573a13d1f29313caabd8fefc"},{"text":"Dolorem iure necessitatibus velit maxime sint. Voluptates quis nesciunt quos quos reprehenderit quas culpa repellat. Beatae culpa vel hic non enim dicta. Numquam mollitia unde nobis modi.","date":"2010-02-02T16:10:02.000Z","movie_id":"573a13d3f29313caabd9515c"},{"text":"Atque enim eos corporis. Explicabo libero nisi explicabo doloremque temporibus adipisci. Quae suscipit quo dolorem accusamus.","date":"1998-11-22T21:32:43.000Z","movie_id":"573a13cff29313caabd88d7c"},{"text":"Excepturi nihil nostrum ratione totam. Optio temporibus molestiae illo sequi. Voluptatum distinctio voluptatem ea ipsam. Odit temporibus voluptatum a exercitationem error.","date":"2010-08-25T11:23:21.000Z","movie_id":"573a13d4f29313caabd99301"},{"text":"Optio commodi tenetur corrupti sit nemo iste odit. Quia officia voluptas id praesentium soluta velit suscipit similique. Eaque doloremque possimus enim maiores. Modi praesentium doloremque dolor.","date":"1999-06-24T01:42:31.000Z","movie_id":"573a13daf29313caabdad565"},{"text":"Sequi vitae adipisci dolor necessitatibus perspiciatis facilis dolorum ipsa. Aliquid quas iusto quae iste.","date":"2008-08-05T12:54:25.000Z","movie_id":"573a13d8f29313caabda5493"},{"text":"A nesciunt aut delectus unde accusantium in perferendis iure. Rem deserunt officia eius itaque accusantium dolorem ex.","date":"1991-02-27T10:30:14.000Z","movie_id":"573a13e5f29313caabdc274c"},{"text":"Eius vitae exercitationem nobis eaque eius incidunt cum. Numquam esse inventore libero sapiente fugiat. Deleniti ipsam reprehenderit pariatur sint voluptatibus est asperiores.","date":"2008-09-26T17:46:01.000Z","movie_id":"573a13ebf29313caabdd0792"}]}],"executionTimeMs":1554,"queryOperators":["$match","$lookup","$project","$filter","$and","$gte","$lte","$map"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Display complete profile for user 'Loras Tyrell' including his account details, active session status, total comments, most recent 10 comments, and his commenting activity by year","dbQuery":"db.users.aggregate([\n  // Match the specific user by name\n  {\n    $match: {\n      name: \"Loras Tyrell\"\n    }\n  },\n  \n  // Lookup active sessions for this user\n  {\n    $lookup: {\n      from: \"sessions\",\n      localField: \"email\",\n      foreignField: \"user_id\",\n      as: \"sessions\"\n    }\n  },\n  \n  // Lookup all comments by this user\n  {\n    $lookup: {\n      from: \"comments\",\n      localField: \"email\", \n      foreignField: \"email\",\n      as: \"allComments\"\n    }\n  },\n  \n  // Add computed fields\n  {\n    $addFields: {\n      hasActiveSession: { $gt: [{ $size: \"$sessions\" }, 0] },\n      totalComments: { $size: \"$allComments\" },\n      recentComments: {\n        $slice: [\n          {\n            $sortArray: {\n              input: {\n                $map: {\n                  input: \"$allComments\",\n                  as: \"comment\",\n                  in: {\n                    text: \"$$comment.text\",\n                    date: \"$$comment.date\", \n                    movie_id: \"$$comment.movie_id\"\n                  }\n                }\n              },\n              sortBy: { date: -1 }\n            }\n          },\n          10\n        ]\n      },\n      commentsByYear: {\n        $map: {\n          input: {\n            $setUnion: [\n              {\n                $map: {\n                  input: \"$allComments\",\n                  as: \"comment\",\n                  in: { $year: \"$$comment.date\" }\n                }\n              }\n            ]\n          },\n          as: \"year\",\n          in: {\n            year: \"$$year\",\n            count: {\n              $size: {\n                $filter: {\n                  input: \"$allComments\",\n                  cond: { $eq: [{ $year: \"$$this.date\" }, \"$$year\"] }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \n  // Project final result schema\n  {\n    $project: {\n      _id: 0,\n      name: 1,\n      email: 1,\n      hasActiveSession: 1,\n      totalComments: 1,\n      recentComments: 1,\n      commentsByYear: {\n        $sortArray: {\n          input: \"$commentsByYear\",\n          sortBy: { year: -1 }\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"name":"Loras Tyrell","email":"finn_jones@gameofthron.es","hasActiveSession":false,"totalComments":217,"recentComments":[{"text":"Ullam repellat ab tempore adipisci eos repellat eveniet nostrum. Tempore optio esse reiciendis a nobis et molestias. Molestias beatae quo tempore eos culpa iste.","date":"2017-02-07T22:40:06.000Z","movie_id":"573a13a3f29313caabd0d923"},{"text":"Eaque itaque error dolore quia officiis voluptate omnis illum. Saepe sunt similique dolorum eligendi deserunt ratione. Impedit architecto eius dignissimos distinctio neque eos maxime dolores.","date":"2016-09-07T09:27:44.000Z","movie_id":"573a13bcf29313caabd57db6"},{"text":"Unde impedit at magnam est repudiandae incidunt alias. Facilis exercitationem aliquid nesciunt et culpa quidem corporis. Ea quae dolor possimus ipsam doloribus magnam.","date":"2016-09-02T10:59:37.000Z","movie_id":"573a139af29313caabcf089f"},{"text":"Est ipsum enim culpa labore ducimus eveniet dicta. Unde laborum temporibus laborum quo. Excepturi quasi optio fugiat magni. Alias porro iste in iste.","date":"2016-07-25T10:18:05.000Z","movie_id":"573a13b0f29313caabd35746"},{"text":"Soluta amet a eius amet. Accusantium autem sapiente perferendis explicabo. Quam nemo odit at libero necessitatibus eos dolor. Aliquam fuga perferendis aperiam porro consequatur.","date":"2015-08-25T14:57:06.000Z","movie_id":"573a13b2f29313caabd3a6e5"},{"text":"Nesciunt facilis ratione voluptates reprehenderit. Quidem tempora at hic neque vitae.","date":"2015-07-30T04:45:06.000Z","movie_id":"573a1398f29313caabceb75d"},{"text":"Sed ad libero odit dolore non. Impedit in quisquam sint necessitatibus vero.","date":"2015-05-31T15:55:43.000Z","movie_id":"573a13a9f29313caabd1fb05"},{"text":"Et illo temporibus sed voluptatem. Iure praesentium animi consequuntur quaerat enim doloribus adipisci repellendus. Voluptas maiores nemo vero praesentium alias consectetur commodi in.","date":"2015-02-10T17:16:12.000Z","movie_id":"573a13a8f29313caabd1c494"},{"text":"Facere molestiae numquam praesentium rem. Quibusdam libero inventore magnam explicabo. Aliquid ab ex corrupti non.","date":"2014-12-29T20:36:21.000Z","movie_id":"573a13a1f29313caabd069c6"},{"text":"Accusantium a doloremque fugiat reprehenderit excepturi quia accusantium. Corporis natus optio sunt fuga. Vitae placeat ad corporis.","date":"2014-04-30T03:36:13.000Z","movie_id":"573a1399f29313caabceea14"}],"commentsByYear":[{"year":2017,"count":1},{"year":2016,"count":3},{"year":2015,"count":4},{"year":2014,"count":2},{"year":2013,"count":4},{"year":2012,"count":2},{"year":2011,"count":5},{"year":2010,"count":8},{"year":2009,"count":10},{"year":2008,"count":5},{"year":2007,"count":8},{"year":2006,"count":5},{"year":2005,"count":6},{"year":2004,"count":5},{"year":2003,"count":3},{"year":2002,"count":5},{"year":2001,"count":2},{"year":2000,"count":8},{"year":1999,"count":2},{"year":1998,"count":1},{"year":1997,"count":3},{"year":1996,"count":6},{"year":1995,"count":4},{"year":1994,"count":8},{"year":1993,"count":4},{"year":1992,"count":9},{"year":1991,"count":5},{"year":1990,"count":4},{"year":1989,"count":4},{"year":1988,"count":8},{"year":1987,"count":4},{"year":1986,"count":7},{"year":1985,"count":7},{"year":1984,"count":3},{"year":1983,"count":3},{"year":1982,"count":6},{"year":1981,"count":9},{"year":1980,"count":5},{"year":1979,"count":1},{"year":1978,"count":8},{"year":1977,"count":5},{"year":1975,"count":5},{"year":1974,"count":2},{"year":1973,"count":3},{"year":1972,"count":2},{"year":1971,"count":1},{"year":1970,"count":2}]}],"executionTimeMs":1191,"queryOperators":["$match","$lookup","$addFields","$gt","$size","$slice","$sortArray","$map","$setUnion","$year","$filter","$eq","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Find 15 movies that are under 2 hours long with an IMDb rating above 7.0","dbQuery":"db.movies.find({\n  runtime: { $lt: 120, $exists: true },\n  \"imdb.rating\": { $gt: 7.0, $exists: true }\n}, {\n  title: 1,\n  runtime: 1,\n  \"imdb.rating\": 1,\n  _id: 0\n}).limit(15)","language":"mongosh","result":[{"runtime":1,"title":"Neko no shukai","imdb":{"rating":7.5}},{"runtime":2,"title":"Fresh Guacamole","imdb":{"rating":7.3}},{"runtime":2,"title":"Luxo Jr.","imdb":{"rating":7.4}},{"runtime":2,"title":"Pixels","imdb":{"rating":7.6}},{"runtime":3,"title":"Oktapodi","imdb":{"rating":7.3}},{"runtime":3,"title":"Don't Hug Me I'm Scared","imdb":{"rating":7.3}},{"runtime":3,"title":"Don't Hug Me I'm Scared 2: Time","imdb":{"rating":7.5}},{"runtime":3,"title":"The Fly","imdb":{"rating":7.6}},{"runtime":3,"title":"Lights Out","imdb":{"rating":7.6}},{"runtime":3,"title":"For the Birds","imdb":{"rating":8.2}},{"runtime":4,"title":"Season's Greetings","imdb":{"rating":7.1}},{"runtime":4,"title":"Sebastian's Voodoo","imdb":{"rating":7.4}},{"runtime":4,"title":"Wind","imdb":{"rating":7.4}},{"runtime":4,"title":"Knick Knack","imdb":{"rating":7.7}},{"runtime":4,"title":"Geri's Game","imdb":{"rating":8}}],"executionTimeMs":1339,"queryOperators":["$lt","$exists","$gt"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me 10 action movies released between 2010 and 2017 with a Rotten Tomatoes critic meter above 80%","dbQuery":"db.movies.find(\n  {\n    genres: \"Action\",\n    year: { $gte: 2010, $lte: 2017 },\n    \"tomatoes.critic.meter\": { $gt: 80 }\n  },\n  {\n    title: 1,\n    year: 1,\n    genres: 1,\n    \"tomatoes.critic.meter\": 1,\n    _id: 0\n  }\n).sort({ year: -1 }).limit(10)","language":"mongosh","result":[{"genres":["Action","Crime","Drama"],"title":"Landmine Goes Click","year":2015,"tomatoes":{"critic":{"meter":100}}},{"year":2015,"genres":["Action","Comedy","Crime"],"title":"Spy","tomatoes":{"critic":{"meter":93}}},{"year":2015,"genres":["Action","Crime","Thriller"],"title":"Furious 7","tomatoes":{"critic":{"meter":81}}},{"genres":["Documentary","Action","Adventure"],"title":"Meru","year":2015,"tomatoes":{"critic":{"meter":93}}},{"year":2015,"genres":["Action","Adventure","Sci-Fi"],"title":"Mad Max: Fury Road","tomatoes":{"critic":{"meter":97}}},{"genres":["Action","Drama","Sci-Fi"],"title":"Dawn of the Planet of the Apes","year":2014,"tomatoes":{"critic":{"meter":90}}},{"genres":["Action","Adventure","Sci-Fi"],"title":"Guardians of the Galaxy","year":2014,"tomatoes":{"critic":{"meter":91}}},{"year":2014,"genres":["Animation","Action","Adventure"],"title":"Big Hero 6","tomatoes":{"critic":{"meter":89}}},{"genres":["Action","Adventure","Sci-Fi"],"title":"X-Men: Days of Future Past","year":2014,"tomatoes":{"critic":{"meter":91}}},{"genres":["Action","Comedy","Crime"],"title":"Redirected","year":2014,"tomatoes":{"critic":{"meter":90}}}],"executionTimeMs":1241,"queryOperators":["$gte","$lte","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me 8 movies that are 90 minutes or shorter with an IMDb rating of at least 8.0","dbQuery":"db.movies.find({\n  runtime: { $lte: 90 },\n  \"imdb.rating\": { $gte: 8.0 }\n}, {\n  title: 1,\n  runtime: 1,\n  \"imdb.rating\": 1,\n  _id: 0\n}).limit(8)","language":"mongosh","result":[{"runtime":3,"title":"For the Birds","imdb":{"rating":8.2}},{"runtime":4,"title":"Geri's Game","imdb":{"rating":8}},{"runtime":4,"title":"Jinxy Jenkins, Lucky Lou","imdb":{"rating":8.1}},{"runtime":5,"title":"Presto","imdb":{"rating":8.5}},{"runtime":6,"title":"Day & Night","imdb":{"rating":8.2}},{"runtime":6,"title":"One-Minute Time Machine","imdb":{"rating":8.2}},{"runtime":6,"title":"More","imdb":{"rating":8.3}},{"runtime":6,"title":"Feast","imdb":{"rating":8.3}}],"executionTimeMs":1284,"queryOperators":["$lte","$gte"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find 12 drama movies from 2005 to 2015 with IMDb rating above 7.5 and Metacritic score above 70","dbQuery":"db.movies.find({\n  genres: \"Drama\",\n  year: { $gte: 2005, $lte: 2015 },\n  \"imdb.rating\": { $gt: 7.5 },\n  metacritic: { $gt: 70 },\n  // Ensure required fields exist\n  title: { $exists: true },\n  year: { $exists: true },\n  genres: { $exists: true },\n  \"imdb.rating\": { $exists: true },\n  metacritic: { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  genres: 1,\n  \"imdb.rating\": 1,\n  metacritic: 1,\n  _id: 0\n}).limit(12)","language":"mongosh","result":[{"imdb":{"rating":8.1},"year":1939,"genres":["Adventure","Family","Fantasy"],"metacritic":100,"title":"The Wizard of Oz"},{"imdb":{"rating":8.6},"year":1936,"genres":["Comedy","Drama"],"metacritic":96,"title":"Modern Times"},{"imdb":{"rating":8},"year":1938,"genres":["Action","Adventure","Romance"],"metacritic":97,"title":"The Adventures of Robin Hood"},{"genres":["Comedy","Fantasy","Romance"],"metacritic":44,"title":"Kate & Leopold","year":2001,"imdb":{"rating":6.3}},{"genres":["Crime","Drama","Music"],"metacritic":89,"title":"Quai des Orfèvres","year":1947,"imdb":{"rating":7.7}},{"imdb":{"rating":8},"year":1938,"genres":["Action","Adventure","Romance"],"metacritic":97,"title":"The Adventures of Robin Hood"},{"genres":["Biography","Comedy","Musical"],"metacritic":77,"title":"Annie Get Your Gun","year":1950,"imdb":{"rating":7}},{"genres":["Drama","War"],"metacritic":86,"title":"Children of Hiroshima","year":1952,"imdb":{"rating":7.9}},{"genres":["Drama","Thriller","Western"],"metacritic":89,"title":"High Noon","year":1952,"imdb":{"rating":8.1}},{"imdb":{"rating":8.1},"year":1955,"genres":["Crime","Drama","Film-Noir"],"metacritic":99,"title":"The Night of the Hunter"},{"genres":["Drama","Musical","Family"],"metacritic":53,"title":"Mother India","year":1957,"imdb":{"rating":8}},{"genres":["Documentary"],"metacritic":73,"title":"Araya","year":1959,"imdb":{"rating":7.8}}],"executionTimeMs":1201,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Get 10 comedy movies between 100 and 130 minutes long with Rotten Tomatoes viewer rating above 3.5 and released after 2000","dbQuery":"db.movies.find({\n  genres: { $in: [\"Comedy\"] },\n  runtime: { $gte: 100, $lte: 130 },\n  \"tomatoes.viewer.rating\": { $gt: 3.5 },\n  year: { $gt: 2000 },\n  runtime: { $exists: true },\n  \"tomatoes.viewer.rating\": { $exists: true },\n  year: { $exists: true },\n  genres: { $exists: true }\n}, {\n  title: 1,\n  runtime: 1,\n  genres: 1,\n  year: 1,\n  \"tomatoes.viewer\": 1,\n  _id: 0\n}).limit(10)","language":"mongosh","result":[{"genres":["Short","Romance"],"runtime":1,"title":"The Kiss","year":1896,"tomatoes":{"viewer":{"rating":4,"numReviews":235,"meter":87}}},{"genres":["Animation","Short"],"runtime":2,"title":"Game Over","year":2006,"tomatoes":{"viewer":{"rating":0,"numReviews":1,"meter":100}}},{"genres":["Animation","Short"],"runtime":2,"title":"Fresh Guacamole","year":2012,"tomatoes":{"viewer":{"rating":2.6,"numReviews":46,"meter":26}}},{"genres":["Short","Animation"],"runtime":3,"title":"Dots","year":1940,"tomatoes":{"viewer":{"rating":3.3,"numReviews":120,"meter":55}}},{"genres":["Short"],"runtime":3,"title":"Passeio com Johnny Guitar","year":1996,"tomatoes":{"viewer":{"rating":3.2,"numReviews":1791,"meter":55}}},{"genres":["Animation","Short"],"runtime":3,"title":"Sisyphus","year":1974,"tomatoes":{"viewer":{"rating":4.2,"numReviews":47}}},{"genres":["Animation","Short","Comedy"],"runtime":3,"title":"Gagarin","year":1994,"tomatoes":{"viewer":{"rating":3.5,"numReviews":1}}},{"genres":["Animation","Short","Comedy"],"runtime":3,"title":"Oktapodi","year":2007,"tomatoes":{"viewer":{"rating":3.9,"numReviews":284,"meter":83}}},{"genres":["Animation","Short","Fantasy"],"runtime":3,"title":"Don't Hug Me I'm Scared","year":2011,"tomatoes":{"viewer":{"rating":0,"numReviews":0}}},{"genres":["Animation","Comedy","Short"],"runtime":3,"title":"The Fly","year":1981,"tomatoes":{"viewer":{"rating":4.5,"numReviews":23}}}],"executionTimeMs":1295,"queryOperators":["$in","$gte","$lte","$gt","$exists"],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 5 movies released between 2010 and 2016 that have an IMDb rating above 8.0, Metacritic score above 80, and Rotten Tomatoes critic meter above 85%, sorted by IMDb rating","dbQuery":"db.movies.find({\n  year: { $gte: 2010, $lte: 2016 },\n  \"imdb.rating\": { $gt: 8.0 },\n  metacritic: { $gt: 80 },\n  \"tomatoes.critic.meter\": { $gt: 85 },\n  // Ensure all required fields exist\n  \"imdb.rating\": { $exists: true },\n  metacritic: { $exists: true },\n  \"tomatoes.critic.meter\": { $exists: true }\n}, {\n  title: 1,\n  year: 1,\n  \"imdb.rating\": 1,\n  metacritic: 1,\n  \"tomatoes.critic.meter\": 1,\n  _id: 0\n}).sort({ \"imdb.rating\": -1 }).limit(5)","language":"mongosh","result":[{"imdb":{"rating":8.8},"year":2010,"metacritic":74,"title":"Inception","tomatoes":{"critic":{"meter":86}}},{"imdb":{"rating":8.7},"year":2014,"metacritic":74,"title":"Interstellar","tomatoes":{"critic":{"meter":72}}},{"imdb":{"rating":8.6},"year":2015,"metacritic":94,"title":"Inside Out","tomatoes":{"critic":{"meter":98}}},{"imdb":{"rating":8.6},"year":2011,"metacritic":57,"title":"The Intouchables","tomatoes":{"critic":{"meter":75}}},{"metacritic":79,"title":"Senna","year":2010,"imdb":{"rating":8.6},"tomatoes":{"critic":{"meter":92}}}],"executionTimeMs":1209,"queryOperators":["$gte","$lte","$gt","$exists"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Show me 8 thriller movies from 2012 to 2017 that are between 90 and 150 minutes long with Rotten Tomatoes viewer meter above 70%","dbQuery":"db.movies.find(\n  {\n    genres: \"Thriller\",\n    year: { $gte: 2012, $lte: 2017 },\n    runtime: { $gte: 90, $lte: 150 },\n    \"tomatoes.viewer.meter\": { $gt: 70 }\n  },\n  {\n    title: 1,\n    year: 1,\n    runtime: 1,\n    genres: 1,\n    \"tomatoes.viewer.meter\": 1,\n    _id: 0\n  }\n).sort({ year: -1, \"tomatoes.viewer.meter\": -1 }).limit(8)","language":"mongosh","result":[{"genres":["Drama","Thriller"],"runtime":122,"title":"The Stanford Prison Experiment","year":2015,"tomatoes":{"viewer":{"meter":86}}},{"genres":["Crime","Drama","Thriller"],"runtime":91,"title":"Cash Only","year":2015,"tomatoes":{"viewer":{"meter":85}}},{"year":2015,"genres":["Action","Crime","Thriller"],"title":"Furious 7","tomatoes":{"viewer":{"meter":85}},"runtime":137},{"year":2014,"genres":["Comedy","Drama","Thriller"],"title":"Wild Tales","tomatoes":{"viewer":{"meter":92}},"runtime":122},{"year":2014,"genres":["Biography","Drama","Thriller"],"title":"The Imitation Game","tomatoes":{"viewer":{"meter":92}},"runtime":114},{"genres":["Horror","Thriller"],"runtime":90,"title":"Pernicious","year":2014,"tomatoes":{"viewer":{"meter":92}}},{"year":2014,"genres":["Action","Crime","Thriller"],"title":"The Raid 2","tomatoes":{"viewer":{"meter":87}},"runtime":150},{"genres":["Drama","Mystery","Thriller"],"runtime":149,"title":"Gone Girl","year":2014,"tomatoes":{"viewer":{"meter":87}}}],"executionTimeMs":1262,"queryOperators":["$gte","$lte","$gt"],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Get the title, poster, and IMDb rating for 20 movies released in 2010","dbQuery":"db.movies.find(\n  { year: 2010 },\n  { title: 1, poster: 1, \"imdb.rating\": 1, _id: 0 }\n).limit(20)","language":"mongosh","result":[{"poster":"https://m.media-amazon.com/images/M/MV5BODNjZmM3MWYtYmUwZC00M2RjLTkyZmEtYzRhMDU1NmM3ZmIzXkEyXkFqcGdeQXVyOTAzODAwOQ@@._V1_SY1000_SX677_AL_.jpg","title":"Pèl Adrienn","imdb":{"rating":6.8}},{"imdb":{"rating":5.5},"title":"In My Sleep","poster":"https://m.media-amazon.com/images/M/MV5BNzg1MDM1NzIwMV5BMl5BanBnXkFtZTcwNzMxMTU1MQ@@._V1_SY1000_SX677_AL_.jpg"},{"poster":"https://m.media-amazon.com/images/M/MV5BNmEwNmI1MjItNjNjYy00NDE5LWJiNTYtM2QxMTI5ZjllZTBhL2ltYWdlXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY1000_SX677_AL_.jpg","title":"The Pacific","imdb":{"rating":8.3}},{"poster":"https://m.media-amazon.com/images/M/MV5BMTAxNDYxMjg0MjNeQTJeQWpwZ15BbWU3MDcyNTk2OTM@._V1_SY1000_SX677_AL_.jpg","title":"Tangled","imdb":{"rating":7.8}},{"poster":"https://m.media-amazon.com/images/M/MV5BYmJhNWMwMWUtZWJiNS00ZjJmLThiMDktMzYxYzJkNmY2YzE5XkEyXkFqcGdeQXVyNjMwOTA1MDM@._V1_SY1000_SX677_AL_.jpg","title":"Utomlyonnye solntsem 2: Predstoyanie","imdb":{"rating":4.1}},{"poster":"https://m.media-amazon.com/images/M/MV5BMTc4ODc4NTQ1N15BMl5BanBnXkFtZTcwNDUxODUyMw@@._V1_SY1000_SX677_AL_.jpg","title":"The A-Team","imdb":{"rating":6.8}},{"imdb":{"rating":5.9},"title":"Dinner for Schmucks","poster":"https://m.media-amazon.com/images/M/MV5BOTk5MTYzNTIyMl5BMl5BanBnXkFtZTcwOTM3MTQ2Mw@@._V1_SY1000_SX677_AL_.jpg"},{"poster":"https://m.media-amazon.com/images/M/MV5BMTgxOTY4Mjc0MF5BMl5BanBnXkFtZTcwNTA4MDQyMw@@._V1_SY1000_SX677_AL_.jpg","title":"Toy Story 3","imdb":{"rating":8.4}},{"poster":"https://m.media-amazon.com/images/M/MV5BYmNkMWFiZGMtYzU4Yi00ZjJiLWI1YmYtMWIwZjBjMWY0OTY0XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SY1000_SX677_AL_.jpg","title":"7 Days","imdb":{"rating":6.5}},{"poster":"https://m.media-amazon.com/images/M/MV5BMTkwNTczNTMyOF5BMl5BanBnXkFtZTcwNzUxOTUyMw@@._V1_SY1000_SX677_AL_.jpg","title":"Scott Pilgrim vs. the World","imdb":{"rating":7.5}},{"poster":"https://m.media-amazon.com/images/M/MV5BMjAzMDU5OTg0NV5BMl5BanBnXkFtZTcwNDQ4MjcwMw@@._V1_SY1000_SX677_AL_.jpg","title":"The Crazies","imdb":{"rating":6.6}},{"imdb":{"rating":5.5},"title":"Piranha 3D","poster":"https://m.media-amazon.com/images/M/MV5BMTU3NDg2NTY4Nl5BMl5BanBnXkFtZTcwMTM0OTE3Mw@@._V1_SY1000_SX677_AL_.jpg"},{"poster":"https://m.media-amazon.com/images/M/MV5BMTMwNDg0NzcyMV5BMl5BanBnXkFtZTcwNjg4MjQyMw@@._V1_SY1000_SX677_AL_.jpg","title":"Prince of Persia: The Sands of Time","imdb":{"rating":6.6}},{"title":"Bandage","imdb":{"rating":7}},{"imdb":{"rating":5.9},"title":"Barry Munday","poster":"https://m.media-amazon.com/images/M/MV5BMTUzNTc4Nzg4N15BMl5BanBnXkFtZTcwMTM5NTE3Mw@@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":6.8},"title":"Unstoppable","poster":"https://m.media-amazon.com/images/M/MV5BMjI4NDQwMDM0N15BMl5BanBnXkFtZTcwMzY1ODMwNA@@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":6.4},"title":"The Losers","poster":"https://m.media-amazon.com/images/M/MV5BMjU3MTU0NDI4Nl5BMl5BanBnXkFtZTcwMTE0NDMyMw@@._V1_SY1000_SX677_AL_.jpg"},{"imdb":{"rating":3.7},"title":"Furry Vengeance","poster":"https://m.media-amazon.com/images/M/MV5BMjM5Mzg5NjA0Nl5BMl5BanBnXkFtZTcwMjg3MDEyMw@@._V1_SY1000_SX677_AL_.jpg"},{"poster":"https://m.media-amazon.com/images/M/MV5BMTk4MTU0MTczM15BMl5BanBnXkFtZTcwNjYzOTI0Mw@@._V1_SY1000_SX677_AL_.jpg","title":"Ramona and Beezus","imdb":{"rating":6.7}},{"poster":"https://m.media-amazon.com/images/M/MV5BMTg2NTI5NDY2Ml5BMl5BanBnXkFtZTcwODQzMDMzNA@@._V1_SY1000_SX677_AL_.jpg","title":"Who Is Harry Nilsson (And Why Is Everybody Talkin' About Him?)","imdb":{"rating":7.7}}],"executionTimeMs":1248,"queryOperators":[],"methods":["find","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Show me the complete details including full plot, cast, directors, awards, and all ratings for the movie titled 'The Social Network'","dbQuery":"db.movies.findOne(\n  { title: \"The Social Network\" },\n  {\n    title: 1,\n    fullplot: 1,\n    cast: 1,\n    directors: 1,\n    awards: 1,\n    imdb: 1,\n    tomatoes: 1,\n    metacritic: 1,\n    _id: 0\n  }\n)","language":"mongosh","result":{"fullplot":"On a fall night in 2003, Harvard undergrad and computer programming genius Mark Zuckerberg sits down at his computer and heatedly begins working on a new idea. In a fury of blogging and programming, what begins in his dorm room soon becomes a global social network and a revolution in communication. A mere six years and 500 million friends later, Mark Zuckerberg is the youngest billionaire in history... but for this entrepreneur, success leads to both personal and legal complications.","imdb":{"rating":7.8,"votes":431315,"id":1285016},"metacritic":95,"title":"The Social Network","tomatoes":{"website":"http://www.thesocialnetwork-movie.com/","viewer":{"rating":4.1,"numReviews":199792,"meter":86},"dvd":"2011-01-11T00:00:00.000Z","critic":{"rating":9,"numReviews":287,"meter":96},"boxOffice":"$96.9M","consensus":"Impeccably scripted, beautifully directed, and filled with fine performances, The Social Network is a riveting, ambitious example of modern filmmaking at its finest.","rotten":11,"production":"Columbia Pictures","lastUpdated":"2015-09-12T18:18:30.000Z","fresh":276},"awards":{"wins":171,"nominations":134,"text":"Won 3 Oscars. Another 168 wins & 134 nominations."},"cast":["Jesse Eisenberg","Rooney Mara","Bryan Barter","Dustin Fitzsimons"],"directors":["David Fincher"]},"executionTimeMs":1269,"queryOperators":[],"methods":["findOne"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 15 most recent active user sessions with their user IDs and JWT tokens","dbQuery":"db.sessions.find({}, {user_id: 1, jwt: 1, _id: 1}).sort({_id: -1}).limit(15)","language":"mongosh","result":[{"_id":"5a97f9c91c807bb9c6eb5fb4","user_id":"t3qulfeem@kwiv5.6ur","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MTk5MDkzMjEsIm5iZiI6MTUxOTkwOTMyMSwianRpIjoiNmJlZDAwMWYtNTFiYi00NzVhLTgxZDAtMDcwNGE5Mjk0MWZlIiwiZXhwIjoxNTE5OTEwMjIxLCJpZGVudGl0eSI6eyJlbWFpbCI6InQzcXVsZmVlbUBrd2l2NS42dXIiLCJuYW1lIjoiM2lveHJtZnF4IiwicGFzc3dvcmQiOm51bGx9LCJmcmVzaCI6ZmFsc2UsInR5cGUiOiJhY2Nlc3MiLCJ1c2VyX2NsYWltcyI6eyJ1c2VyIjp7ImVtYWlsIjoidDNxdWxmZWVtQGt3aXY1LjZ1ciIsIm5hbWUiOiIzaW94cm1mcXgiLCJwYXNzd29yZCI6bnVsbH19fQ.ejtr_NyZyBronWMKuE0RFTjWej--T0zGrdc_iymGtVs"}],"executionTimeMs":1188,"queryOperators":[],"methods":["find","sort","limit"],"isReferenceAnswer":true,"complexity":"simple","databaseName":"sample_mflix"}
{"nlQuery":"Find the top 10 movies with the most user comments, showing title, poster, number of comments, and IMDb rating for performance optimization","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      num_mflix_comments: { $exists: true, $ne: null, $gt: 0 }\n    }\n  },\n  {\n    $sort: {\n      num_mflix_comments: -1\n    }\n  },\n  {\n    $limit: 10\n  },\n  {\n    $project: {\n      _id: 0,\n      title: 1,\n      poster: 1,\n      num_mflix_comments: 1,\n      \"imdb.rating\": 1\n    }\n  }\n])","language":"mongosh","result":[{"imdb":{"rating":6.4},"title":"The Taking of Pelham 1 2 3","poster":"https://m.media-amazon.com/images/M/MV5BMTU3NzA4MDcwNV5BMl5BanBnXkFtZTcwMDAyNzc1Mg@@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":161},{"imdb":{"rating":7.8},"title":"Ocean's Eleven","poster":"https://m.media-amazon.com/images/M/MV5BYzVmYzVkMmUtOGRhMi00MTNmLThlMmUtZTljYjlkMjNkMjJkXkEyXkFqcGdeQXVyNDk3NzU2MTQ@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":158},{"imdb":{"rating":6.7},"title":"Terminator Salvation","poster":"https://m.media-amazon.com/images/M/MV5BODE1MTM1MzA2NF5BMl5BanBnXkFtZTcwODQ5MTA2Mg@@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":158},{"imdb":{"rating":6.8},"title":"50 First Dates","poster":"https://m.media-amazon.com/images/M/MV5BMjAwMzc4MDgxNF5BMl5BanBnXkFtZTYwNjUwMzE3._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":158},{"imdb":{"rating":7.1},"title":"About a Boy","poster":"https://m.media-amazon.com/images/M/MV5BMTQ2Mzg4MDAzNV5BMl5BanBnXkFtZTgwMjcxNTYxMTE@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":158},{"imdb":{"rating":7},"title":"The Mummy","poster":"https://m.media-amazon.com/images/M/MV5BOTJiYjBhZDgtMjhiOC00MTIzLThlNGMtMmI1NjIwM2M3YTI5XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":157},{"imdb":{"rating":7.6},"title":"Sherlock Holmes","poster":"https://m.media-amazon.com/images/M/MV5BMTg0NjEwNjUxM15BMl5BanBnXkFtZTcwMzk0MjQ5Mg@@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":157},{"imdb":{"rating":7},"title":"Hellboy II: The Golden Army","poster":"https://m.media-amazon.com/images/M/MV5BMjA5NzgyMjc2Nl5BMl5BanBnXkFtZTcwOTU3MDI3MQ@@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":155},{"imdb":{"rating":7.3},"title":"Anchorman: The Legend of Ron Burgundy","poster":"https://m.media-amazon.com/images/M/MV5BMTQ2MzYwMzk5Ml5BMl5BanBnXkFtZTcwOTI4NzUyMw@@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":154},{"imdb":{"rating":6.3},"title":"The Mummy Returns","poster":"https://m.media-amazon.com/images/M/MV5BMjE2NzU1NTk2MV5BMl5BanBnXkFtZTgwMjIwMzcxMTE@._V1_SY1000_SX677_AL_.jpg","num_mflix_comments":154}],"executionTimeMs":1936,"queryOperators":["$match","$exists","$ne","$gt","$sort","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Find 8 theaters near coordinates [-84.0, 33.8] within a 50km radius, showing theater ID, address, and exact coordinates","dbQuery":"db.theaters.aggregate([\n  {\n    $geoNear: {\n      near: {\n        type: \"Point\",\n        coordinates: [-84.0, 33.8]\n      },\n      distanceField: \"distance\",\n      maxDistance: 50000,\n      spherical: true\n    }\n  },\n  {\n    $limit: 8\n  },\n  {\n    $project: {\n      _id: 0,\n      theaterId: 1,\n      location: {\n        address: {\n          street1: \"$location.address.street1\",\n          city: \"$location.address.city\",\n          state: \"$location.address.state\",\n          zipcode: \"$location.address.zipcode\"\n        },\n        geo: {\n          coordinates: \"$location.geo.coordinates\"\n        }\n      }\n    }\n  }\n])","language":"mongosh","result":[{"theaterId":776,"location":{"address":{"street1":"1679 Scenic Hwy N","city":"Snellville","state":"GA","zipcode":"30078"},"geo":{"coordinates":[-84.013058,33.882777]}}},{"theaterId":389,"location":{"address":{"street1":"1540 Dogwood Dr Se","city":"Conyers","state":"GA","zipcode":"30013"},"geo":{"coordinates":[-84.08573,33.69778]}}},{"theaterId":1923,"location":{"address":{"street1":"2929 Turner Hill Road","city":"Lithonia","state":"GA","zipcode":"30038"},"geo":{"coordinates":[-84.088812,33.698426]}}},{"theaterId":504,"location":{"address":{"street1":"1875 Pleasant Hill Rd","city":"Duluth","state":"GA","zipcode":"30096"},"geo":{"coordinates":[-84.130768,33.949905]}}},{"theaterId":513,"location":{"address":{"street1":"4135 Lavista Rd","city":"Tucker","state":"GA","zipcode":"30084"},"geo":{"coordinates":[-84.249758,33.845027]}}},{"theaterId":2895,"location":{"address":{"street1":"4800 Briarcliff Road","city":"Atlanta","state":"GA","zipcode":"30345"},"geo":{"coordinates":[-84.255343,33.84988]}}},{"theaterId":426,"location":{"address":{"street1":"3205 Woodward Crossing Blvd","city":"Buford","state":"GA","zipcode":"30519"},"geo":{"coordinates":[-83.985214,34.068127]}}},{"theaterId":1924,"location":{"address":{"street1":"3333 Buford Drive","city":"Buford","state":"GA","zipcode":"30519"},"geo":{"coordinates":[-83.984258,34.071252]}}}],"executionTimeMs":1179,"queryOperators":["$geoNear","$limit","$project"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"moderate","databaseName":"sample_mflix"}
{"nlQuery":"Show me the top 5 genres by movie count, along with their average IMDb rating and average runtime, for movies released between 2008 and 2015 with at least 1000 IMDb votes","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      year: { $gte: 2008, $lte: 2015 },\n      \"imdb.votes\": { $gte: 1000 },\n      genres: { $exists: true, $ne: [] }\n    }\n  },\n  {\n    $unwind: \"$genres\"\n  },\n  {\n    $group: {\n      _id: \"$genres\",\n      movieCount: { $sum: 1 },\n      avgRating: { $avg: \"$imdb.rating\" },\n      avgRuntime: { $avg: \"$runtime\" }\n    }\n  },\n  {\n    $sort: { movieCount: -1 }\n  },\n  {\n    $limit: 5\n  }\n])","language":"mongosh","result":[{"_id":"Drama","movieCount":2146,"avgRating":6.699021435228332,"avgRuntime":110.32276384287742},{"_id":"Comedy","movieCount":1217,"avgRating":6.361380443714051,"avgRuntime":100.17241379310344},{"_id":"Action","movieCount":711,"avgRating":6.379324894514768,"avgRuntime":111.0961262553802},{"_id":"Thriller","movieCount":649,"avgRating":6.2223420647149466,"avgRuntime":103.91162790697675},{"_id":"Romance","movieCount":553,"avgRating":6.539602169981917,"avgRuntime":108.76481481481481}],"executionTimeMs":1241,"queryOperators":["$match","$gte","$lte","$exists","$ne","$unwind","$group","$sum","$avg","$sort","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
{"nlQuery":"Get 15 movies with IMDb rating above 8.0, runtime between 90 and 150 minutes, released after 2005, that have both Rotten Tomatoes critic and viewer ratings, showing title, poster, runtime, IMDb rating, and Tomatoes scores","dbQuery":"db.movies.aggregate([\n  {\n    $match: {\n      \"imdb.rating\": { $gt: 8.0 },\n      \"runtime\": { $gte: 90, $lte: 150 },\n      \"released\": { $gt: ISODate(\"2005-12-31T23:59:59.999Z\") },\n      \"tomatoes.critic.rating\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.rating\": { $exists: true, $ne: null },\n      \"tomatoes.critic.meter\": { $exists: true, $ne: null },\n      \"tomatoes.viewer.meter\": { $exists: true, $ne: null }\n    }\n  },\n  {\n    $project: {\n      title: 1,\n      poster: 1,\n      runtime: 1,\n      \"imdb.rating\": 1,\n      \"tomatoes.critic.rating\": 1,\n      \"tomatoes.critic.meter\": 1,\n      \"tomatoes.viewer.rating\": 1,\n      \"tomatoes.viewer.meter\": 1,\n      _id: 0\n    }\n  },\n  {\n    $limit: 15\n  }\n])","language":"mongosh","result":[{"runtime":92,"poster":"https://m.media-amazon.com/images/M/MV5BMTQ1MTUyNzA1OV5BMl5BanBnXkFtZTgwMTYzNjk4NDE@._V1_SY1000_SX677_AL_.jpg","title":"The Life and Mind of Mark DeFriest","imdb":{"rating":8.1},"tomatoes":{"viewer":{"rating":4.5,"meter":100},"critic":{"rating":7.2,"meter":90}}},{"imdb":{"rating":8.5},"title":"The Cove","tomatoes":{"viewer":{"rating":4.3,"meter":94},"critic":{"rating":8,"meter":94}},"poster":"https://m.media-amazon.com/images/M/MV5BMzM3NTRhMTctNTE2MS00YjJmLWE2ZmMtMmY3MWI0ODExMTMzXkEyXkFqcGdeQXVyNTA4NzY1MzY@._V1_SY1000_SX677_AL_.jpg","runtime":92},{"runtime":93,"poster":"https://m.media-amazon.com/images/M/MV5BMTg5NTAxMTc3OF5BMl5BanBnXkFtZTgwNDY0MjA2MDE@._V1_SY1000_SX677_AL_.jpg","title":"The English Surgeon","imdb":{"rating":8.1},"tomatoes":{"viewer":{"rating":3.4,"meter":96},"critic":{"rating":7.4,"meter":89}}},{"imdb":{"rating":8.2},"title":"Song of the Sea","tomatoes":{"viewer":{"rating":4.3,"meter":92},"critic":{"rating":8.4,"meter":99}},"poster":"https://m.media-amazon.com/images/M/MV5BMTQ2MDMwNjEwNV5BMl5BanBnXkFtZTgwOTkxMzI0MzE@._V1_SY1000_SX677_AL_.jpg","runtime":93},{"runtime":93,"poster":"https://m.media-amazon.com/images/M/MV5BMTY5Mzg0NTM2M15BMl5BanBnXkFtZTcwMTk1Mjc1MQ@@._V1_SY1000_SX677_AL_.jpg","title":"Pete Seeger: The Power of Song","imdb":{"rating":8.3},"tomatoes":{"viewer":{"rating":4.3,"meter":92},"critic":{"rating":8.2,"meter":95}}},{"imdb":{"rating":8.6},"title":"Inside Out","tomatoes":{"viewer":{"rating":4.4,"meter":90},"critic":{"rating":9,"meter":98}},"poster":"https://m.media-amazon.com/images/M/MV5BOTgxMDQwMDk0OF5BMl5BanBnXkFtZTgwNjU5OTg2NDE@._V1_SY1000_SX677_AL_.jpg","runtime":94},{"runtime":95,"poster":"https://m.media-amazon.com/images/M/MV5BMTI2OTAyMTM1Ml5BMl5BanBnXkFtZTcwNzQxOTUzMQ@@._V1_SY1000_SX677_AL_.jpg","title":"The Clay Bird","imdb":{"rating":8.4},"tomatoes":{"viewer":{"rating":4,"meter":86},"critic":{"rating":7.6,"meter":89}}},{"runtime":95,"title":"Truth in 24","imdb":{"rating":8.5},"tomatoes":{"viewer":{"rating":2.2,"meter":14},"critic":{"rating":5.5,"meter":17}}},{"imdb":{"rating":8.1},"title":"Metal: A Headbanger's Journey","tomatoes":{"viewer":{"rating":4.1,"meter":91},"critic":{"rating":6.9,"meter":90}},"poster":"https://m.media-amazon.com/images/M/MV5BZWIzZjk2YjktYzEwZC00ZGY1LWFiNTAtZjJiNmQ1ZTdjN2RkXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SY1000_SX677_AL_.jpg","runtime":96},{"imdb":{"rating":8.3},"title":"Up","tomatoes":{"viewer":{"rating":3.8,"meter":90},"critic":{"rating":8.7,"meter":98}},"poster":"https://m.media-amazon.com/images/M/MV5BMTk3NDE2NzI4NF5BMl5BanBnXkFtZTgwNzE1MzEyMTE@._V1_SY1000_SX677_AL_.jpg","runtime":96},{"runtime":97,"poster":"https://m.media-amazon.com/images/M/MV5BMTY0NjI0ODY3NV5BMl5BanBnXkFtZTcwNDg5MDU1MQ@@._V1_SY1000_SX677_AL_.jpg","title":"Sigur Rès: Heima","imdb":{"rating":8.6},"tomatoes":{"viewer":{"rating":4.5,"meter":96},"critic":{"rating":7.5,"meter":100}}},{"imdb":{"rating":8.2},"title":"How to Train Your Dragon","tomatoes":{"viewer":{"rating":4.2,"meter":91},"critic":{"rating":7.9,"meter":98}},"poster":"https://m.media-amazon.com/images/M/MV5BMjA5NDQyMjc2NF5BMl5BanBnXkFtZTcwMjg5ODcyMw@@._V1_SY1000_SX677_AL_.jpg","runtime":98},{"imdb":{"rating":8.4},"title":"WALLèE","tomatoes":{"viewer":{"rating":4.2,"meter":89},"critic":{"rating":8.5,"meter":96}},"poster":"https://m.media-amazon.com/images/M/MV5BMjExMTg5OTU0NF5BMl5BanBnXkFtZTcwMjMxMzMzMw@@._V1_SY1000_SX677_AL_.jpg","runtime":98},{"imdb":{"rating":8.1},"title":"The Grand Budapest Hotel","tomatoes":{"viewer":{"rating":4.1,"meter":86},"critic":{"rating":8.4,"meter":92}},"poster":"https://m.media-amazon.com/images/M/MV5BMzM5NjUxOTEyMl5BMl5BanBnXkFtZTgwNjEyMDM0MDE@._V1_SY1000_SX677_AL_.jpg","runtime":99},{"runtime":99,"poster":"https://m.media-amazon.com/images/M/MV5BMzM5NjUxOTEyMl5BMl5BanBnXkFtZTgwNjEyMDM0MDE@._V1_SY1000_SX677_AL_.jpg","title":"The Grand Budapest Hotel","imdb":{"rating":8.1},"tomatoes":{"viewer":{"rating":4.1,"meter":86},"critic":{"rating":8.4,"meter":92}}}],"executionTimeMs":1336,"queryOperators":["$match","$gt","$gte","$lte","$exists","$ne","$project","$limit"],"methods":["aggregate"],"isReferenceAnswer":true,"complexity":"complex","databaseName":"sample_mflix"}
