<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/server/modules" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">mongodb-chatbot-server | MongoDB Chatbot Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mongodb.github.io/chatbot/reference/server/modules"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="mongodb-chatbot-server | MongoDB Chatbot Framework"><meta data-rh="true" name="description" content="Namespaces"><meta data-rh="true" property="og:description" content="Namespaces"><link data-rh="true" rel="canonical" href="https://mongodb.github.io/chatbot/reference/server/modules"><link data-rh="true" rel="alternate" href="https://mongodb.github.io/chatbot/reference/server/modules" hreflang="en"><link data-rh="true" rel="alternate" href="https://mongodb.github.io/chatbot/reference/server/modules" hreflang="x-default"><link rel="stylesheet" href="/chatbot/assets/css/styles.d95408d0.css">
<script src="/chatbot/assets/js/runtime~main.fadfa849.js" defer="defer"></script>
<script src="/chatbot/assets/js/main.2d0ae26e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chatbot/"><b class="navbar__title text--truncate">MongoDB Chatbot Framework</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb/chatbot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/mongodb">MongoDB &amp; Atlas Vector Search</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/chatbot/ingest/configure">Data Ingest CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/chatbot/server/configure">Chatbot Server</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chatbot/ui">Chatbot UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/chatbot/reference/">API Reference</a><button aria-label="Collapse sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/chatbot/reference/server/">mongodb-chatbot-server</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/chatbot/reference/server/">Readme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/chatbot/reference/server/modules">Exports</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/server/namespaces/Chunk">Namespaces</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/server/interfaces/AppConfig">Interfaces</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/core/">mongodb-rag-core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/ingest/">mongodb-rag-ingest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/chatbot/reference/ui/">mongodb-chatbot-ui</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/chatbot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/chatbot/reference/"><span itemprop="name">API Reference</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">mongodb-chatbot-server</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Exports</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>mongodb-chatbot-server</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="namespaces">Namespaces<a href="#namespaces" class="hash-link" aria-label="Direct link to Namespaces" title="Direct link to Namespaces">​</a></h2>
<ul>
<li><a href="/chatbot/reference/server/namespaces/Chunk">Chunk</a></li>
<li><a href="/chatbot/reference/server/namespaces/ContentStore">ContentStore</a></li>
<li><a href="/chatbot/reference/server/namespaces/Conversations">Conversations</a></li>
<li><a href="/chatbot/reference/server/namespaces/Embed">Embed</a></li>
<li><a href="/chatbot/reference/server/namespaces/FindContent">FindContent</a></li>
<li><a href="/chatbot/reference/server/namespaces/FrontMatter">FrontMatter</a></li>
<li><a href="/chatbot/reference/server/namespaces/Llm">Llm</a></li>
<li><a href="/chatbot/reference/server/namespaces/VerifiedAnswers">VerifiedAnswers</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interfaces">Interfaces<a href="#interfaces" class="hash-link" aria-label="Direct link to Interfaces" title="Direct link to Interfaces">​</a></h2>
<ul>
<li><a href="/chatbot/reference/server/interfaces/AppConfig">AppConfig</a></li>
<li><a href="/chatbot/reference/server/interfaces/ClassificationType">ClassificationType</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRateLimitConfig">ConversationsRateLimitConfig</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a></li>
<li><a href="/chatbot/reference/server/interfaces/ConversationsRouterParams">ConversationsRouterParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/DataStreamer">DataStreamer</a></li>
<li><a href="/chatbot/reference/server/interfaces/GenerateResponseParams">GenerateResponseParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue">GenerateUserPromptFuncReturnValue</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeRagGenerateUserPromptParams">MakeRagGenerateUserPromptParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams">MakeUserMessageFuncParams</a></li>
<li><a href="/chatbot/reference/server/interfaces/MakeVerifiedAnswerGenerateUserPromptParams">MakeVerifiedAnswerGenerateUserPromptParams</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addassistantmessageparams">AddAssistantMessageParams<a href="#addassistantmessageparams" class="hash-link" aria-label="Direct link to AddAssistantMessageParams" title="Direct link to AddAssistantMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addassistantmessageparams">AddAssistantMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addconversationmessageparams">AddConversationMessageParams<a href="#addconversationmessageparams" class="hash-link" aria-label="Direct link to AddConversationMessageParams" title="Direct link to AddConversationMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addconversationmessageparams">AddConversationMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addfunctionmessageparams">AddFunctionMessageParams<a href="#addfunctionmessageparams" class="hash-link" aria-label="Direct link to AddFunctionMessageParams" title="Direct link to AddFunctionMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addfunctionmessageparams">AddFunctionMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addmanyconversationmessagesparams">AddManyConversationMessagesParams<a href="#addmanyconversationmessagesparams" class="hash-link" aria-label="Direct link to AddManyConversationMessagesParams" title="Direct link to AddManyConversationMessagesParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addmanyconversationmessagesparams">AddManyConversationMessagesParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addmessageparams">AddMessageParams<a href="#addmessageparams" class="hash-link" aria-label="Direct link to AddMessageParams" title="Direct link to AddMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addmessageparams">AddMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addsomemessageparams">AddSomeMessageParams<a href="#addsomemessageparams" class="hash-link" aria-label="Direct link to AddSomeMessageParams" title="Direct link to AddSomeMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addsomemessageparams">AddSomeMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addsystemmessageparams">AddSystemMessageParams<a href="#addsystemmessageparams" class="hash-link" aria-label="Direct link to AddSystemMessageParams" title="Direct link to AddSystemMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addsystemmessageparams">AddSystemMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addusermessageparams">AddUserMessageParams<a href="#addusermessageparams" class="hash-link" aria-label="Direct link to AddUserMessageParams" title="Direct link to AddUserMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#addusermessageparams">AddUserMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assistantmessage">AssistantMessage<a href="#assistantmessage" class="hash-link" aria-label="Direct link to AssistantMessage" title="Direct link to AssistantMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#assistantmessage">AssistantMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assistantmessagemetadata">AssistantMessageMetadata<a href="#assistantmessagemetadata" class="hash-link" aria-label="Direct link to AssistantMessageMetadata" title="Direct link to AssistantMessageMetadata">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#assistantmessagemetadata">AssistantMessageMetadata</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calltoolresponse">CallToolResponse<a href="#calltoolresponse" class="hash-link" aria-label="Direct link to CallToolResponse" title="Direct link to CallToolResponse">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.CallToolResponse">CallToolResponse</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatllm">ChatLlm<a href="#chatllm" class="hash-link" aria-label="Direct link to ChatLlm" title="Direct link to ChatLlm">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.ChatLlm">ChatLlm</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkfunc">ChunkFunc<a href="#chunkfunc" class="hash-link" aria-label="Direct link to ChunkFunc" title="Direct link to ChunkFunc">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkfunc">ChunkFunc</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkmetadatagetter">ChunkMetadataGetter<a href="#chunkmetadatagetter" class="hash-link" aria-label="Direct link to ChunkMetadataGetter" title="Direct link to ChunkMetadataGetter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkmetadatagetter">ChunkMetadataGetter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkoptions">ChunkOptions<a href="#chunkoptions" class="hash-link" aria-label="Direct link to ChunkOptions" title="Direct link to ChunkOptions">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkoptions">ChunkOptions</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunktransformer">ChunkTransformer<a href="#chunktransformer" class="hash-link" aria-label="Direct link to ChunkTransformer" title="Direct link to ChunkTransformer">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunktransformer">ChunkTransformer</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="commentmessageparams">CommentMessageParams<a href="#commentmessageparams" class="hash-link" aria-label="Direct link to CommentMessageParams" title="Direct link to CommentMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.CommentMessageParams">CommentMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contentchunk">ContentChunk<a href="#contentchunk" class="hash-link" aria-label="Direct link to ContentChunk" title="Direct link to ContentChunk">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#contentchunk">ContentChunk</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversation">Conversation<a href="#conversation" class="hash-link" aria-label="Direct link to Conversation" title="Direct link to Conversation">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.Conversation">Conversation</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationconstants">ConversationConstants<a href="#conversationconstants" class="hash-link" aria-label="Direct link to ConversationConstants" title="Direct link to ConversationConstants">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.ConversationConstants">ConversationConstants</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationcustomdata">ConversationCustomData<a href="#conversationcustomdata" class="hash-link" aria-label="Direct link to ConversationCustomData" title="Direct link to ConversationCustomData">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata">ConversationCustomData</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationsservice">ConversationsService<a href="#conversationsservice" class="hash-link" aria-label="Direct link to ConversationsService" title="Direct link to ConversationsService">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.ConversationsService">ConversationsService</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createconversationparams">CreateConversationParams<a href="#createconversationparams" class="hash-link" aria-label="Direct link to CreateConversationParams" title="Direct link to CreateConversationParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#createconversationparams">CreateConversationParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dbmessage">DbMessage<a href="#dbmessage" class="hash-link" aria-label="Direct link to DbMessage" title="Direct link to DbMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#dbmessage">DbMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deleteembeddedcontentargs">DeleteEmbeddedContentArgs<a href="#deleteembeddedcontentargs" class="hash-link" aria-label="Direct link to DeleteEmbeddedContentArgs" title="Direct link to DeleteEmbeddedContentArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#deleteembeddedcontentargs">DeleteEmbeddedContentArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deletepagesargs">DeletePagesArgs<a href="#deletepagesargs" class="hash-link" aria-label="Direct link to DeletePagesArgs" title="Direct link to DeletePagesArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#deletepagesargs">DeletePagesArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedargs">EmbedArgs<a href="#embedargs" class="hash-link" aria-label="Direct link to EmbedArgs" title="Direct link to EmbedArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#embedargs">EmbedArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedconcurrencyoptions">EmbedConcurrencyOptions<a href="#embedconcurrencyoptions" class="hash-link" aria-label="Direct link to EmbedConcurrencyOptions" title="Direct link to EmbedConcurrencyOptions">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/ContentStore.EmbedConcurrencyOptions">EmbedConcurrencyOptions</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedresult">EmbedResult<a href="#embedresult" class="hash-link" aria-label="Direct link to EmbedResult" title="Direct link to EmbedResult">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#embedresult">EmbedResult</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embeddedcontent">EmbeddedContent<a href="#embeddedcontent" class="hash-link" aria-label="Direct link to EmbeddedContent" title="Direct link to EmbeddedContent">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent">EmbeddedContent</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embeddedcontentstore">EmbeddedContentStore<a href="#embeddedcontentstore" class="hash-link" aria-label="Direct link to EmbeddedContentStore" title="Direct link to EmbeddedContentStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#embeddedcontentstore">EmbeddedContentStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedder">Embedder<a href="#embedder" class="hash-link" aria-label="Direct link to Embedder" title="Direct link to Embedder">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#embedder">Embedder</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findbyidparams">FindByIdParams<a href="#findbyidparams" class="hash-link" aria-label="Direct link to FindByIdParams" title="Direct link to FindByIdParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.FindByIdParams">FindByIdParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentfunc">FindContentFunc<a href="#findcontentfunc" class="hash-link" aria-label="Direct link to FindContentFunc" title="Direct link to FindContentFunc">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#findcontentfunc">FindContentFunc</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentfuncargs">FindContentFuncArgs<a href="#findcontentfuncargs" class="hash-link" aria-label="Direct link to FindContentFuncArgs" title="Direct link to FindContentFuncArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#findcontentfuncargs">FindContentFuncArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findcontentresult">FindContentResult<a href="#findcontentresult" class="hash-link" aria-label="Direct link to FindContentResult" title="Direct link to FindContentResult">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#findcontentresult">FindContentResult</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerfunc">FindVerifiedAnswerFunc<a href="#findverifiedanswerfunc" class="hash-link" aria-label="Direct link to FindVerifiedAnswerFunc" title="Direct link to FindVerifiedAnswerFunc">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#findverifiedanswerfunc">FindVerifiedAnswerFunc</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerfuncargs">FindVerifiedAnswerFuncArgs<a href="#findverifiedanswerfuncargs" class="hash-link" aria-label="Direct link to FindVerifiedAnswerFuncArgs" title="Direct link to FindVerifiedAnswerFuncArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#findverifiedanswerfuncargs">FindVerifiedAnswerFuncArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findverifiedanswerresult">FindVerifiedAnswerResult<a href="#findverifiedanswerresult" class="hash-link" aria-label="Direct link to FindVerifiedAnswerResult" title="Direct link to FindVerifiedAnswerResult">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#findverifiedanswerresult">FindVerifiedAnswerResult</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functionmessage">FunctionMessage<a href="#functionmessage" class="hash-link" aria-label="Direct link to FunctionMessage" title="Direct link to FunctionMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#functionmessage">FunctionMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="llmanswerquestionparams">LlmAnswerQuestionParams<a href="#llmanswerquestionparams" class="hash-link" aria-label="Direct link to LlmAnswerQuestionParams" title="Direct link to LlmAnswerQuestionParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.LlmAnswerQuestionParams">LlmAnswerQuestionParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="llmcalltoolparams">LlmCallToolParams<a href="#llmcalltoolparams" class="hash-link" aria-label="Direct link to LlmCallToolParams" title="Direct link to LlmCallToolParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.LlmCallToolParams">LlmCallToolParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loadpagesargs">LoadPagesArgs<a href="#loadpagesargs" class="hash-link" aria-label="Direct link to LoadPagesArgs" title="Direct link to LoadPagesArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#loadpagesargs">LoadPagesArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindcontentfuncargs">MakeDefaultFindContentFuncArgs<a href="#makedefaultfindcontentfuncargs" class="hash-link" aria-label="Direct link to MakeDefaultFindContentFuncArgs" title="Direct link to MakeDefaultFindContentFuncArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#makedefaultfindcontentfuncargs">MakeDefaultFindContentFuncArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindverifiedanswerfuncargs">MakeDefaultFindVerifiedAnswerFuncArgs<a href="#makedefaultfindverifiedanswerfuncargs" class="hash-link" aria-label="Direct link to MakeDefaultFindVerifiedAnswerFuncArgs" title="Direct link to MakeDefaultFindVerifiedAnswerFuncArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#makedefaultfindverifiedanswerfuncargs">MakeDefaultFindVerifiedAnswerFuncArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainembedderparams">MakeLangChainEmbedderParams<a href="#makelangchainembedderparams" class="hash-link" aria-label="Direct link to MakeLangChainEmbedderParams" title="Direct link to MakeLangChainEmbedderParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#makelangchainembedderparams">MakeLangChainEmbedderParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainchatllmprops">MakeLangchainChatLlmProps<a href="#makelangchainchatllmprops" class="hash-link" aria-label="Direct link to MakeLangchainChatLlmProps" title="Direct link to MakeLangchainChatLlmProps">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.MakeLangchainChatLlmProps">MakeLangchainChatLlmProps</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbembeddedcontentstoreparams">MakeMongoDbEmbeddedContentStoreParams<a href="#makemongodbembeddedcontentstoreparams" class="hash-link" aria-label="Direct link to MakeMongoDbEmbeddedContentStoreParams" title="Direct link to MakeMongoDbEmbeddedContentStoreParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#makemongodbembeddedcontentstoreparams">MakeMongoDbEmbeddedContentStoreParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbpagestoreparams">MakeMongoDbPageStoreParams<a href="#makemongodbpagestoreparams" class="hash-link" aria-label="Direct link to MakeMongoDbPageStoreParams" title="Direct link to MakeMongoDbPageStoreParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#makemongodbpagestoreparams">MakeMongoDbPageStoreParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaichatllmparams">MakeOpenAiChatLlmParams<a href="#makeopenaichatllmparams" class="hash-link" aria-label="Direct link to MakeOpenAiChatLlmParams" title="Direct link to MakeOpenAiChatLlmParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.MakeOpenAiChatLlmParams">MakeOpenAiChatLlmParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaiembedderargs">MakeOpenAiEmbedderArgs<a href="#makeopenaiembedderargs" class="hash-link" aria-label="Direct link to MakeOpenAiEmbedderArgs" title="Direct link to MakeOpenAiEmbedderArgs">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#makeopenaiembedderargs">MakeOpenAiEmbedderArgs</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="message">Message<a href="#message" class="hash-link" aria-label="Direct link to Message" title="Direct link to Message">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#message">Message</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="messagebase">MessageBase<a href="#messagebase" class="hash-link" aria-label="Direct link to MessageBase" title="Direct link to MessageBase">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#messagebase">MessageBase</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodbembeddedcontentstore">MongoDbEmbeddedContentStore<a href="#mongodbembeddedcontentstore" class="hash-link" aria-label="Direct link to MongoDbEmbeddedContentStore" title="Direct link to MongoDbEmbeddedContentStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#mongodbembeddedcontentstore">MongoDbEmbeddedContentStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodbpagestore">MongoDbPageStore<a href="#mongodbpagestore" class="hash-link" aria-label="Direct link to MongoDbPageStore" title="Direct link to MongoDbPageStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#mongodbpagestore">MongoDbPageStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaichatcompletionwithoutusage">OpenAIChatCompletionWithoutUsage<a href="#openaichatcompletionwithoutusage" class="hash-link" aria-label="Direct link to OpenAIChatCompletionWithoutUsage" title="Direct link to OpenAIChatCompletionWithoutUsage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#openaichatcompletionwithoutusage">OpenAIChatCompletionWithoutUsage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaiawaitedresponse">OpenAiAwaitedResponse<a href="#openaiawaitedresponse" class="hash-link" aria-label="Direct link to OpenAiAwaitedResponse" title="Direct link to OpenAiAwaitedResponse">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#openaiawaitedresponse">OpenAiAwaitedResponse</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaichatmessage">OpenAiChatMessage<a href="#openaichatmessage" class="hash-link" aria-label="Direct link to OpenAiChatMessage" title="Direct link to OpenAiChatMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#openaichatmessage">OpenAiChatMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaimessagerole">OpenAiMessageRole<a href="#openaimessagerole" class="hash-link" aria-label="Direct link to OpenAiMessageRole" title="Direct link to OpenAiMessageRole">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#openaimessagerole">OpenAiMessageRole</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openaistreamingresponse">OpenAiStreamingResponse<a href="#openaistreamingresponse" class="hash-link" aria-label="Direct link to OpenAiStreamingResponse" title="Direct link to OpenAiStreamingResponse">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#openaistreamingresponse">OpenAiStreamingResponse</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="page">Page<a href="#page" class="hash-link" aria-label="Direct link to Page" title="Direct link to Page">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#page">Page</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageaction">PageAction<a href="#pageaction" class="hash-link" aria-label="Direct link to PageAction" title="Direct link to PageAction">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pageaction">PageAction</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageconcurrencyoptions">PageConcurrencyOptions<a href="#pageconcurrencyoptions" class="hash-link" aria-label="Direct link to PageConcurrencyOptions" title="Direct link to PageConcurrencyOptions">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/ContentStore.PageConcurrencyOptions">PageConcurrencyOptions</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformat">PageFormat<a href="#pageformat" class="hash-link" aria-label="Direct link to PageFormat" title="Direct link to PageFormat">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pageformat">PageFormat</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pagemetadata">PageMetadata<a href="#pagemetadata" class="hash-link" aria-label="Direct link to PageMetadata" title="Direct link to PageMetadata">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pagemetadata">PageMetadata</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pagestore">PageStore<a href="#pagestore" class="hash-link" aria-label="Direct link to PageStore" title="Direct link to PageStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pagestore">PageStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistedpage">PersistedPage<a href="#persistedpage" class="hash-link" aria-label="Direct link to PersistedPage" title="Direct link to PersistedPage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#persistedpage">PersistedPage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="question">Question<a href="#question" class="hash-link" aria-label="Direct link to Question" title="Direct link to Question">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#question-1">Question</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ratemessageparams">RateMessageParams<a href="#ratemessageparams" class="hash-link" aria-label="Direct link to RateMessageParams" title="Direct link to RateMessageParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Conversations.RateMessageParams">RateMessageParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="searchbooster">SearchBooster<a href="#searchbooster" class="hash-link" aria-label="Direct link to SearchBooster" title="Direct link to SearchBooster">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/FindContent.SearchBooster">SearchBooster</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="somemessage">SomeMessage<a href="#somemessage" class="hash-link" aria-label="Direct link to SomeMessage" title="Direct link to SomeMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#somemessage">SomeMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sometokenizer">SomeTokenizer<a href="#sometokenizer" class="hash-link" aria-label="Direct link to SomeTokenizer" title="Direct link to SomeTokenizer">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#sometokenizer">SomeTokenizer</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="systemmessage">SystemMessage<a href="#systemmessage" class="hash-link" aria-label="Direct link to SystemMessage" title="Direct link to SystemMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#systemmessage">SystemMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="systemprompt">SystemPrompt<a href="#systemprompt" class="hash-link" aria-label="Direct link to SystemPrompt" title="Direct link to SystemPrompt">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#systemprompt">SystemPrompt</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tool">Tool<a href="#tool" class="hash-link" aria-label="Direct link to Tool" title="Direct link to Tool">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.Tool">Tool</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolcalldirective">ToolCallDirective<a href="#toolcalldirective" class="hash-link" aria-label="Direct link to ToolCallDirective" title="Direct link to ToolCallDirective">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#toolcalldirective">ToolCallDirective</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolcallparams">ToolCallParams<a href="#toolcallparams" class="hash-link" aria-label="Direct link to ToolCallParams" title="Direct link to ToolCallParams">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/interfaces/Llm.ToolCallParams">ToolCallParams</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usermessage">UserMessage<a href="#usermessage" class="hash-link" aria-label="Direct link to UserMessage" title="Direct link to UserMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#usermessage">UserMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswer">VerifiedAnswer<a href="#verifiedanswer" class="hash-link" aria-label="Direct link to VerifiedAnswer" title="Direct link to VerifiedAnswer">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#verifiedanswer-1">VerifiedAnswer</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswereventdata">VerifiedAnswerEventData<a href="#verifiedanswereventdata" class="hash-link" aria-label="Direct link to VerifiedAnswerEventData" title="Direct link to VerifiedAnswerEventData">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#verifiedanswereventdata">VerifiedAnswerEventData</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifiedanswerstore">VerifiedAnswerStore<a href="#verifiedanswerstore" class="hash-link" aria-label="Direct link to VerifiedAnswerStore" title="Direct link to VerifiedAnswerStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#verifiedanswerstore">VerifiedAnswerStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="withfilterandk">WithFilterAndK<a href="#withfilterandk" class="hash-link" aria-label="Direct link to WithFilterAndK" title="Direct link to WithFilterAndK">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#withfilterandk">WithFilterAndK</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aspageformat">asPageFormat<a href="#aspageformat" class="hash-link" aria-label="Direct link to asPageFormat" title="Direct link to asPageFormat">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#aspageformat">asPageFormat</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkcode">chunkCode<a href="#chunkcode" class="hash-link" aria-label="Direct link to chunkCode" title="Direct link to chunkCode">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkcode">chunkCode</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkmd">chunkMd<a href="#chunkmd" class="hash-link" aria-label="Direct link to chunkMd" title="Direct link to chunkMd">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkmd">chunkMd</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkopenapispecyaml">chunkOpenApiSpecYaml<a href="#chunkopenapispecyaml" class="hash-link" aria-label="Direct link to chunkOpenApiSpecYaml" title="Direct link to chunkOpenApiSpecYaml">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkopenapispecyaml">chunkOpenApiSpecYaml</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chunkpage">chunkPage<a href="#chunkpage" class="hash-link" aria-label="Direct link to chunkPage" title="Direct link to chunkPage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#chunkpage">chunkPage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createmessage">createMessage<a href="#createmessage" class="hash-link" aria-label="Direct link to createMessage" title="Direct link to createMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#createmessage">createMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createmessagefromopenaichatmessage">createMessageFromOpenAIChatMessage<a href="#createmessagefromopenaichatmessage" class="hash-link" aria-label="Direct link to createMessageFromOpenAIChatMessage" title="Direct link to createMessageFromOpenAIChatMessage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#createmessagefromopenaichatmessage">createMessageFromOpenAIChatMessage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultconversationconstants">defaultConversationConstants<a href="#defaultconversationconstants" class="hash-link" aria-label="Direct link to defaultConversationConstants" title="Direct link to defaultConversationConstants">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#defaultconversationconstants">defaultConversationConstants</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultopenapispecyamlchunkoptions">defaultOpenApiSpecYamlChunkOptions<a href="#defaultopenapispecyamlchunkoptions" class="hash-link" aria-label="Direct link to defaultOpenApiSpecYamlChunkOptions" title="Direct link to defaultOpenApiSpecYamlChunkOptions">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#defaultopenapispecyamlchunkoptions">defaultOpenApiSpecYamlChunkOptions</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extractfrontmatter">extractFrontMatter<a href="#extractfrontmatter" class="hash-link" aria-label="Direct link to extractFrontMatter" title="Direct link to extractFrontMatter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FrontMatter#extractfrontmatter">extractFrontMatter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getchangedpages">getChangedPages<a href="#getchangedpages" class="hash-link" aria-label="Direct link to getChangedPages" title="Direct link to getChangedPages">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#getchangedpages">getChangedPages</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ispageformat">isPageFormat<a href="#ispageformat" class="hash-link" aria-label="Direct link to isPageFormat" title="Direct link to isPageFormat">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#ispageformat">isPageFormat</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issupportedlanguage">isSupportedLanguage<a href="#issupportedlanguage" class="hash-link" aria-label="Direct link to isSupportedLanguage" title="Direct link to isSupportedLanguage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#issupportedlanguage">isSupportedLanguage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeboostonatlassearchfilter">makeBoostOnAtlasSearchFilter<a href="#makeboostonatlassearchfilter" class="hash-link" aria-label="Direct link to makeBoostOnAtlasSearchFilter" title="Direct link to makeBoostOnAtlasSearchFilter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#makeboostonatlassearchfilter">makeBoostOnAtlasSearchFilter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makechunkfrontmatterupdater">makeChunkFrontMatterUpdater<a href="#makechunkfrontmatterupdater" class="hash-link" aria-label="Direct link to makeChunkFrontMatterUpdater" title="Direct link to makeChunkFrontMatterUpdater">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#makechunkfrontmatterupdater">makeChunkFrontMatterUpdater</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindcontent">makeDefaultFindContent<a href="#makedefaultfindcontent" class="hash-link" aria-label="Direct link to makeDefaultFindContent" title="Direct link to makeDefaultFindContent">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FindContent#makedefaultfindcontent">makeDefaultFindContent</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultfindverifiedanswer">makeDefaultFindVerifiedAnswer<a href="#makedefaultfindverifiedanswer" class="hash-link" aria-label="Direct link to makeDefaultFindVerifiedAnswer" title="Direct link to makeDefaultFindVerifiedAnswer">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#makedefaultfindverifiedanswer">makeDefaultFindVerifiedAnswer</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainembedder">makeLangChainEmbedder<a href="#makelangchainembedder" class="hash-link" aria-label="Direct link to makeLangChainEmbedder" title="Direct link to makeLangChainEmbedder">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#makelangchainembedder">makeLangChainEmbedder</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makelangchainchatllm">makeLangchainChatLlm<a href="#makelangchainchatllm" class="hash-link" aria-label="Direct link to makeLangchainChatLlm" title="Direct link to makeLangchainChatLlm">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#makelangchainchatllm">makeLangchainChatLlm</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbconversationsservice">makeMongoDbConversationsService<a href="#makemongodbconversationsservice" class="hash-link" aria-label="Direct link to makeMongoDbConversationsService" title="Direct link to makeMongoDbConversationsService">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Conversations#makemongodbconversationsservice">makeMongoDbConversationsService</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbembeddedcontentstore">makeMongoDbEmbeddedContentStore<a href="#makemongodbembeddedcontentstore" class="hash-link" aria-label="Direct link to makeMongoDbEmbeddedContentStore" title="Direct link to makeMongoDbEmbeddedContentStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#makemongodbembeddedcontentstore">makeMongoDbEmbeddedContentStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbpagestore">makeMongoDbPageStore<a href="#makemongodbpagestore" class="hash-link" aria-label="Direct link to makeMongoDbPageStore" title="Direct link to makeMongoDbPageStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#makemongodbpagestore">makeMongoDbPageStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makemongodbverifiedanswerstore">makeMongoDbVerifiedAnswerStore<a href="#makemongodbverifiedanswerstore" class="hash-link" aria-label="Direct link to makeMongoDbVerifiedAnswerStore" title="Direct link to makeMongoDbVerifiedAnswerStore">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/VerifiedAnswers#makemongodbverifiedanswerstore">makeMongoDbVerifiedAnswerStore</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaichatllm">makeOpenAiChatLlm<a href="#makeopenaichatllm" class="hash-link" aria-label="Direct link to makeOpenAiChatLlm" title="Direct link to makeOpenAiChatLlm">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Llm#makeopenaichatllm">makeOpenAiChatLlm</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeopenaiembedder">makeOpenAiEmbedder<a href="#makeopenaiembedder" class="hash-link" aria-label="Direct link to makeOpenAiEmbedder" title="Direct link to makeOpenAiEmbedder">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Embed#makeopenaiembedder">makeOpenAiEmbedder</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformat-1">pageFormat<a href="#pageformat-1" class="hash-link" aria-label="Direct link to pageFormat" title="Direct link to pageFormat">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pageformat-1">pageFormat</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformattolanguage">pageFormatToLanguage<a href="#pageformattolanguage" class="hash-link" aria-label="Direct link to pageFormatToLanguage" title="Direct link to pageFormatToLanguage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#pageformattolanguage">pageFormatToLanguage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageformats">pageFormats<a href="#pageformats" class="hash-link" aria-label="Direct link to pageFormats" title="Direct link to pageFormats">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pageformats">pageFormats</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pageidentity">pageIdentity<a href="#pageidentity" class="hash-link" aria-label="Direct link to pageIdentity" title="Direct link to pageIdentity">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#pageidentity">pageIdentity</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistpages">persistPages<a href="#persistpages" class="hash-link" aria-label="Direct link to persistPages" title="Direct link to persistPages">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#persistpages">persistPages</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removefrontmatter">removeFrontMatter<a href="#removefrontmatter" class="hash-link" aria-label="Direct link to removeFrontMatter" title="Direct link to removeFrontMatter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FrontMatter#removefrontmatter">removeFrontMatter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standardchunkfrontmatterupdater">standardChunkFrontMatterUpdater<a href="#standardchunkfrontmatterupdater" class="hash-link" aria-label="Direct link to standardChunkFrontMatterUpdater" title="Direct link to standardChunkFrontMatterUpdater">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#standardchunkfrontmatterupdater">standardChunkFrontMatterUpdater</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standardmetadatagetter">standardMetadataGetter<a href="#standardmetadatagetter" class="hash-link" aria-label="Direct link to standardMetadataGetter" title="Direct link to standardMetadataGetter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/Chunk#standardmetadatagetter">standardMetadataGetter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updateembeddedcontent">updateEmbeddedContent<a href="#updateembeddedcontent" class="hash-link" aria-label="Direct link to updateEmbeddedContent" title="Direct link to updateEmbeddedContent">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#updateembeddedcontent">updateEmbeddedContent</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updateembeddedcontentforpage">updateEmbeddedContentForPage<a href="#updateembeddedcontentforpage" class="hash-link" aria-label="Direct link to updateEmbeddedContentForPage" title="Direct link to updateEmbeddedContentForPage">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#updateembeddedcontentforpage">updateEmbeddedContentForPage</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatefrontmatter">updateFrontMatter<a href="#updatefrontmatter" class="hash-link" aria-label="Direct link to updateFrontMatter" title="Direct link to updateFrontMatter">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/FrontMatter#updatefrontmatter">updateFrontMatter</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatepages">updatePages<a href="#updatepages" class="hash-link" aria-label="Direct link to updatePages" title="Direct link to updatePages">​</a></h3>
<p>Re-exports <a href="/chatbot/reference/server/namespaces/ContentStore#updatepages">updatePages</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="type-aliases">Type Aliases<a href="#type-aliases" class="hash-link" aria-label="Direct link to Type Aliases" title="Direct link to Type Aliases">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addcustomdatafunc">AddCustomDataFunc<a href="#addcustomdatafunc" class="hash-link" aria-label="Direct link to AddCustomDataFunc" title="Direct link to AddCustomDataFunc">​</a></h3>
<p>Ƭ <strong>AddCustomDataFunc</strong>: (<code>request</code>: <code>Request</code>, <code>response</code>: <a href="/chatbot/reference/server/modules#conversationsrouterresponse"><code>ConversationsRouterResponse</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration">Type declaration<a href="#type-declaration" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>request</code>, <code>response</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<p>Function to add custom data to the <a href="/chatbot/reference/server/interfaces/Conversations.Conversation">Conversation</a> persisted to the database.
Has access to the Express.js request and response plus the <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a>
from the Response.locals object.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>request</code></td><td style="text-align:left"><code>Request</code></td></tr><tr><td style="text-align:left"><code>response</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#conversationsrouterresponse"><code>ConversationsRouterResponse</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns<a href="#returns" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in">Defined in<a href="#defined-in" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L73" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:73</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="awaitgenerateresponseparams">AwaitGenerateResponseParams<a href="#awaitgenerateresponseparams" class="hash-link" aria-label="Direct link to AwaitGenerateResponseParams" title="Direct link to AwaitGenerateResponseParams">​</a></h3>
<p>Ƭ <strong>AwaitGenerateResponseParams</strong>: <code>Omit</code>&lt;<code>BaseGenerateResponseMessageParams</code>, <code>&quot;dataStreamer&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-1">Defined in<a href="#defined-in-1" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L170" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:170</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classification">Classification<a href="#classification" class="hash-link" aria-label="Direct link to Classification" title="Direct link to Classification">​</a></h3>
<p>Ƭ <strong>Classification</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#classification-1"><code>Classification</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-2">Defined in<a href="#defined-in-2" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:40</p>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:41</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classifier">Classifier<a href="#classifier" class="hash-link" aria-label="Direct link to Classifier" title="Direct link to Classifier">​</a></h3>
<p>Ƭ <strong>Classifier</strong>: (<code>{ input }</code>: { <code>input</code>: <code>string</code>  }) =&gt; <code>Promise</code>&lt;{ <code>classification</code>: <a href="/chatbot/reference/server/modules#classification-1"><code>Classification</code></a> ; <code>inputMessages</code>: <code>OpenAI.ChatCompletionMessageParam</code>[]  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-1">Type declaration<a href="#type-declaration-1" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>{ input }</code>): <code>Promise</code>&lt;{ <code>classification</code>: <a href="/chatbot/reference/server/modules#classification-1"><code>Classification</code></a> ; <code>inputMessages</code>: <code>OpenAI.ChatCompletionMessageParam</code>[]  }&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-1">Parameters<a href="#parameters-1" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>{ input }</code></td><td style="text-align:left"><code>Object</code></td></tr><tr><td style="text-align:left"><code>{ input }.input</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-1">Returns<a href="#returns-1" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;{ <code>classification</code>: <a href="/chatbot/reference/server/modules#classification-1"><code>Classification</code></a> ; <code>inputMessages</code>: <code>OpenAI.ChatCompletionMessageParam</code>[]  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-3">Defined in<a href="#defined-in-3" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationidstreamevent">ConversationIdStreamEvent<a href="#conversationidstreamevent" class="hash-link" aria-label="Direct link to ConversationIdStreamEvent" title="Direct link to ConversationIdStreamEvent">​</a></h3>
<p>Ƭ <strong>ConversationIdStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;conversationId&quot;</code>  }</p>
<p>Event when server streams the conversation ID to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-4">Defined in<a href="#defined-in-4" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:55</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationsmiddleware">ConversationsMiddleware<a href="#conversationsmiddleware" class="hash-link" aria-label="Direct link to ConversationsMiddleware" title="Direct link to ConversationsMiddleware">​</a></h3>
<p>Ƭ <strong>ConversationsMiddleware</strong>: <code>RequestHandler</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>any</code>, <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals"><code>ConversationsRouterLocals</code></a>&gt;</p>
<p>Middleware to put in front of all the routes in the conversationsRouter.
This middleware is useful for things like authentication, data validation, etc.
It exposes the app&#x27;s <a href="/chatbot/reference/server/interfaces/Conversations.ConversationsService">ConversationsService</a>.
It also lets you access <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals">ConversationsRouterLocals</a> via Response.locals
(<a href="https://expressjs.com/en/api.html#res.locals" target="_blank" rel="noopener noreferrer">docs</a>).
You can use the locals in other middleware or persist when you create the conversation
with the <code>POST /conversations</code> endpoint with the <a href="/chatbot/reference/server/modules#addcustomdatafunc">AddCustomDataFunc</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-5">Defined in<a href="#defined-in-5" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L106" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:106</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversationsrouterresponse">ConversationsRouterResponse<a href="#conversationsrouterresponse" class="hash-link" aria-label="Direct link to ConversationsRouterResponse" title="Direct link to ConversationsRouterResponse">​</a></h3>
<p>Ƭ <strong>ConversationsRouterResponse</strong>: <code>Response</code>&lt;<code>any</code>, <a href="/chatbot/reference/server/interfaces/ConversationsRouterLocals"><code>ConversationsRouterLocals</code></a>&gt;</p>
<p>Express.js Response from the app&#x27;s <a href="/chatbot/reference/server/interfaces/Conversations.ConversationsService">ConversationsService</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-6">Defined in<a href="#defined-in-6" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L91" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:91</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="databaseconnection">DatabaseConnection<a href="#databaseconnection" class="hash-link" aria-label="Direct link to DatabaseConnection" title="Direct link to DatabaseConnection">​</a></h3>
<p>Ƭ <strong>DatabaseConnection</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-2">Type declaration<a href="#type-declaration-2" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>close</code></td><td style="text-align:left">(<code>force?</code>: <code>boolean</code>) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr><tr><td style="text-align:left"><code>drop</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr><tr><td style="text-align:left"><code>init?</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-7">Defined in<a href="#defined-in-7" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DatabaseConnection.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deltastreamevent">DeltaStreamEvent<a href="#deltastreamevent" class="hash-link" aria-label="Direct link to DeltaStreamEvent" title="Direct link to DeltaStreamEvent">​</a></h3>
<p>Ƭ <strong>DeltaStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;delta&quot;</code>  }</p>
<p>Event when server streams additional message response to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-8">Defined in<a href="#defined-in-8" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:16</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterpreviousmessages">FilterPreviousMessages<a href="#filterpreviousmessages" class="hash-link" aria-label="Direct link to FilterPreviousMessages" title="Direct link to FilterPreviousMessages">​</a></h3>
<p>Ƭ <strong>FilterPreviousMessages</strong>: (<code>conversation</code>: <a href="/chatbot/reference/server/interfaces/Conversations.Conversation"><code>Conversation</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-3">Type declaration<a href="#type-declaration-3" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>conversation</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]&gt;</p>
<p>Filters which previous conversation messages are sent to the LLM
along with the user prompt.
For example, you may only want to send the system prompt to the LLM
with the user message or the system prompt and X prior messages.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-2">Parameters<a href="#parameters-2" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversations.Conversation"><code>Conversation</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-2">Returns<a href="#returns-2" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-9">Defined in<a href="#defined-in-9" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findnearestneighborsoptions">FindNearestNeighborsOptions<a href="#findnearestneighborsoptions" class="hash-link" aria-label="Direct link to FindNearestNeighborsOptions" title="Direct link to FindNearestNeighborsOptions">​</a></h3>
<p>Ƭ <strong>FindNearestNeighborsOptions</strong>: <code>Object</code></p>
<p>Options for performing a nearest-neighbor search.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-4">Type declaration<a href="#type-declaration-4" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>filter</code></td><td style="text-align:left"><code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;</td><td style="text-align:left">Search filter expression.</td></tr><tr><td style="text-align:left"><code>indexName</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The name of the index to use.</td></tr><tr><td style="text-align:left"><code>k</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">The number of nearest neighbors to return.</td></tr><tr><td style="text-align:left"><code>minScore</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">The minimum nearest-neighbor score threshold between 0-1.</td></tr><tr><td style="text-align:left"><code>numCandidates</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Number of nearest neighbors to use during the search. Value must be less than or equal to 10000. You can&#x27;t specify a number less than the number of documents to return (k).</td></tr><tr><td style="text-align:left"><code>path</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">The keypath to the field with the vector data to use.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-10">Defined in<a href="#defined-in-10" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:17</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="finishedstreamevent">FinishedStreamEvent<a href="#finishedstreamevent" class="hash-link" aria-label="Direct link to FinishedStreamEvent" title="Direct link to FinishedStreamEvent">​</a></h3>
<p>Ƭ <strong>FinishedStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;finished&quot;</code>  }</p>
<p>Event denoting the end of streaming.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-11">Defined in<a href="#defined-in-11" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:48</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateresponse">GenerateResponse<a href="#generateresponse" class="hash-link" aria-label="Direct link to GenerateResponse" title="Direct link to GenerateResponse">​</a></h3>
<p>Ƭ <strong>GenerateResponse</strong>: (<code>params</code>: <a href="/chatbot/reference/server/interfaces/GenerateResponseParams"><code>GenerateResponseParams</code></a>) =&gt; <code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-5">Type declaration<a href="#type-declaration-5" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-3">Parameters<a href="#parameters-3" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/GenerateResponseParams"><code>GenerateResponseParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-3">Returns<a href="#returns-3" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-12">Defined in<a href="#defined-in-12" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L38" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:38</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateuserpromptfunc">GenerateUserPromptFunc<a href="#generateuserpromptfunc" class="hash-link" aria-label="Direct link to GenerateUserPromptFunc" title="Direct link to GenerateUserPromptFunc">​</a></h3>
<p>Ƭ <strong>GenerateUserPromptFunc</strong>: (<code>params</code>: <a href="/chatbot/reference/server/modules#generateuserpromptfuncparams"><code>GenerateUserPromptFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-6">Type declaration<a href="#type-declaration-6" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<p>Generate the user prompt sent to the <a href="/chatbot/reference/server/interfaces/Llm.ChatLlm">ChatLlm</a>.
This function is a flexible construct that you can use to customize
the chatbot behavior. For example, you can use this function to
perform retrieval augmented generation (RAG) or chain of thought prompting.
Include whatever logic in here to construct the user message
that the LLM responds to.</p>
<p>If you are doing RAG, this can include the content from vector search.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-4">Parameters<a href="#parameters-4" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#generateuserpromptfuncparams"><code>GenerateUserPromptFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-4">Returns<a href="#returns-4" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateUserPromptFuncReturnValue"><code>GenerateUserPromptFuncReturnValue</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-13">Defined in<a href="#defined-in-13" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts#L66" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts:66</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateuserpromptfuncparams">GenerateUserPromptFuncParams<a href="#generateuserpromptfuncparams" class="hash-link" aria-label="Direct link to GenerateUserPromptFuncParams" title="Direct link to GenerateUserPromptFuncParams">​</a></h3>
<p>Ƭ <strong>GenerateUserPromptFuncParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-7">Type declaration<a href="#type-declaration-7" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversations.Conversation"><code>Conversation</code></a></td><td style="text-align:left">Conversation with preceding messages</td></tr><tr><td style="text-align:left"><code>customData?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata"><code>ConversationCustomData</code></a></td><td style="text-align:left">Custom data for the message request.</td></tr><tr><td style="text-align:left"><code>reqId</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">String Id for request</td></tr><tr><td style="text-align:left"><code>userMessageText</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">Original user message</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-14">Defined in<a href="#defined-in-14" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/GenerateUserPromptFunc.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makereferencelinksfunc">MakeReferenceLinksFunc<a href="#makereferencelinksfunc" class="hash-link" aria-label="Direct link to MakeReferenceLinksFunc" title="Direct link to MakeReferenceLinksFunc">​</a></h3>
<p>Ƭ <strong>MakeReferenceLinksFunc</strong>: (<code>chunks</code>: <a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]) =&gt; <code>any</code>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-8">Type declaration<a href="#type-declaration-8" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>chunks</code>): <code>any</code>[]</p>
<p>Function that generates the references in the response to user.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-5">Parameters<a href="#parameters-5" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>chunks</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-5">Returns<a href="#returns-5" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>any</code>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-15">Defined in<a href="#defined-in-15" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeusermessagefunc">MakeUserMessageFunc<a href="#makeusermessagefunc" class="hash-link" aria-label="Direct link to MakeUserMessageFunc" title="Direct link to MakeUserMessageFunc">​</a></h3>
<p>Ƭ <strong>MakeUserMessageFunc</strong>: (<code>params</code>: <a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams"><code>MakeUserMessageFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#usermessage"><code>UserMessage</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-9">Type declaration<a href="#type-declaration-9" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#usermessage"><code>UserMessage</code></a>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-6">Parameters<a href="#parameters-6" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeUserMessageFuncParams"><code>MakeUserMessageFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-6">Returns<a href="#returns-6" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#usermessage"><code>UserMessage</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-16">Defined in<a href="#defined-in-16" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L51" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:51</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadatastreamevent">MetadataStreamEvent<a href="#metadatastreamevent" class="hash-link" aria-label="Direct link to MetadataStreamEvent" title="Direct link to MetadataStreamEvent">​</a></h3>
<p>Ƭ <strong>MetadataStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt; ; <code>type</code>: <code>&quot;metadata&quot;</code>  }</p>
<p>Event when server streams a metadata object to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-17">Defined in<a href="#defined-in-17" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:41</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processingstreamevent">ProcessingStreamEvent<a href="#processingstreamevent" class="hash-link" aria-label="Direct link to ProcessingStreamEvent" title="Direct link to ProcessingStreamEvent">​</a></h3>
<p>Ƭ <strong>ProcessingStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>string</code> ; <code>type</code>: <code>&quot;processing&quot;</code>  }</p>
<p>Event for when the server is processing a request.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-18">Defined in<a href="#defined-in-18" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:23</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querypreprocessorfunc">QueryPreprocessorFunc<a href="#querypreprocessorfunc" class="hash-link" aria-label="Direct link to QueryPreprocessorFunc" title="Direct link to QueryPreprocessorFunc">​</a></h3>
<p>Ƭ <strong>QueryPreprocessorFunc</strong>&lt;<code>ReturnType</code>&gt;: (<code>params</code>: <a href="/chatbot/reference/server/modules#queryprocessorfuncparams"><code>QueryProcessorFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters">Type parameters<a href="#type-parameters" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ReturnType</code></td><td style="text-align:left">extends <a href="/chatbot/reference/server/modules#querypreprocessorresult"><code>QueryPreprocessorResult</code></a> = <a href="/chatbot/reference/server/modules#querypreprocessorresult"><code>QueryPreprocessorResult</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-10">Type declaration<a href="#type-declaration-10" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<p>Query preprocessors transform an input query to a new query based on your
business logic.</p>
<p>If the preprocessor can&#x27;t transform the query, it may return undefined. The
preprocessor may also suggest not answering with the rejectQuery field in the
return value (for example, if the query disparages your company, you might
want to send a canned response).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-7">Parameters<a href="#parameters-7" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#queryprocessorfuncparams"><code>QueryProcessorFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-7">Returns<a href="#returns-7" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<code>ReturnType</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-19">Defined in<a href="#defined-in-19" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L17" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:17</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querypreprocessorresult">QueryPreprocessorResult<a href="#querypreprocessorresult" class="hash-link" aria-label="Direct link to QueryPreprocessorResult" title="Direct link to QueryPreprocessorResult">​</a></h3>
<p>Ƭ <strong>QueryPreprocessorResult</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-11">Type declaration<a href="#type-declaration-11" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>query?</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>rejectQuery?</code></td><td style="text-align:left"><code>boolean</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-20">Defined in<a href="#defined-in-20" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L21" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:21</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="queryprocessorfuncparams">QueryProcessorFuncParams<a href="#queryprocessorfuncparams" class="hash-link" aria-label="Direct link to QueryProcessorFuncParams" title="Direct link to QueryProcessorFuncParams">​</a></h3>
<p>Ƭ <strong>QueryProcessorFuncParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-12">Type declaration<a href="#type-declaration-12" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>messages?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]</td></tr><tr><td style="text-align:left"><code>query</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-21">Defined in<a href="#defined-in-21" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts#L3" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/QueryPreprocessorFunc.ts:3</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h3>
<p>Ƭ <strong>Reference</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#reference-1"><code>Reference</code></a>&gt;</p>
<p>A formatted reference for an assistant message.</p>
<p>For example, a Reference might be a docs page, dev center article, or
a MongoDB University module.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-22">Defined in<a href="#defined-in-22" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/References.d.ts:8</p>
<p>packages/mongodb-rag-core/build/References.d.ts:9</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="references-1">References<a href="#references-1" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3>
<p>Ƭ <strong>References</strong>: <code>z.infer</code>&lt;typeof <a href="/chatbot/reference/server/modules#references-1"><code>References</code></a>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-23">Defined in<a href="#defined-in-23" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/References.d.ts:42</p>
<p>packages/mongodb-rag-core/build/References.d.ts:43</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="referencesstreamevent">ReferencesStreamEvent<a href="#referencesstreamevent" class="hash-link" aria-label="Direct link to ReferencesStreamEvent" title="Direct link to ReferencesStreamEvent">​</a></h3>
<p>Ƭ <strong>ReferencesStreamEvent</strong>: <code>StreamEvent</code> &amp; { <code>data</code>: <code>any</code>[] ; <code>type</code>: <code>&quot;references&quot;</code>  }</p>
<p>Event when server streams single <a href="/chatbot/reference/server/modules#references-1">References</a> object to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-24">Defined in<a href="#defined-in-24" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:34</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="somestreamevent">SomeStreamEvent<a href="#somestreamevent" class="hash-link" aria-label="Direct link to SomeStreamEvent" title="Direct link to SomeStreamEvent">​</a></h3>
<p>Ƭ <strong>SomeStreamEvent</strong>: <a href="/chatbot/reference/server/modules#deltastreamevent"><code>DeltaStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#metadatastreamevent"><code>MetadataStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#processingstreamevent"><code>ProcessingStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#referencesstreamevent"><code>ReferencesStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#finishedstreamevent"><code>FinishedStreamEvent</code></a> | <a href="/chatbot/reference/server/modules#conversationidstreamevent"><code>ConversationIdStreamEvent</code></a></p>
<p>The event types streamed from the chat server to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-25">Defined in<a href="#defined-in-25" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:62</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streamgenerateresponseparams">StreamGenerateResponseParams<a href="#streamgenerateresponseparams" class="hash-link" aria-label="Direct link to StreamGenerateResponseParams" title="Direct link to StreamGenerateResponseParams">​</a></h3>
<p>Ƭ <strong>StreamGenerateResponseParams</strong>: <code>BaseGenerateResponseMessageParams</code> &amp; <code>Required</code>&lt;<code>Pick</code>&lt;<a href="/chatbot/reference/server/interfaces/GenerateResponseParams"><code>GenerateResponseParams</code></a>, <code>&quot;dataStreamer&quot;</code>&gt;&gt; &amp; { <code>metadata?</code>: <code>Record</code>&lt;<code>string</code>, <code>unknown</code>&gt;  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-26">Defined in<a href="#defined-in-26" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L275" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:275</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatetracefunc">UpdateTraceFunc<a href="#updatetracefunc" class="hash-link" aria-label="Direct link to UpdateTraceFunc" title="Direct link to UpdateTraceFunc">​</a></h3>
<p>Ƭ <strong>UpdateTraceFunc</strong>: (<code>params</code>: <a href="/chatbot/reference/server/modules#updatetracefuncparams"><code>UpdateTraceFuncParams</code></a>) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-13">Type declaration<a href="#type-declaration-13" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<p>▸ (<code>params</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-8">Parameters<a href="#parameters-8" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>params</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#updatetracefuncparams"><code>UpdateTraceFuncParams</code></a></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-8">Returns<a href="#returns-8" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>Promise</code>&lt;<code>void</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-27">Defined in<a href="#defined-in-27" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts#L11" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts:11</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatetracefuncparams">UpdateTraceFuncParams<a href="#updatetracefuncparams" class="hash-link" aria-label="Direct link to UpdateTraceFuncParams" title="Direct link to UpdateTraceFuncParams">​</a></h3>
<p>Ƭ <strong>UpdateTraceFuncParams</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-14">Type declaration<a href="#type-declaration-14" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversations.Conversation"><code>Conversation</code></a></td></tr><tr><td style="text-align:left"><code>logger</code></td><td style="text-align:left">typeof <code>braintrustLogger</code></td></tr><tr><td style="text-align:left"><code>traceId</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-28">Defined in<a href="#defined-in-28" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts#L5" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts:5</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vectorstore">VectorStore<a href="#vectorstore" class="hash-link" aria-label="Direct link to VectorStore" title="Direct link to VectorStore">​</a></h3>
<p>Ƭ <strong>VectorStore</strong>&lt;<code>T</code>&gt;: <code>Object</code></p>
<p>Generic vector store for vector-searchable data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-1">Type parameters<a href="#type-parameters-1" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-15">Type declaration<a href="#type-declaration-15" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>close?</code></td><td style="text-align:left">() =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</td></tr><tr><td style="text-align:left"><code>findNearestNeighbors</code></td><td style="text-align:left">(<code>vector</code>: <code>number</code>[], <code>options?</code>: <code>Partial</code>&lt;<a href="/chatbot/reference/server/modules#findnearestneighborsoptions"><code>FindNearestNeighborsOptions</code></a>&gt;) =&gt; <code>Promise</code>&lt;<a href="/chatbot/reference/server/modules#withscore"><code>WithScore</code></a>&lt;<code>T</code>&gt;[]&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-29">Defined in<a href="#defined-in-29" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="withscore">WithScore<a href="#withscore" class="hash-link" aria-label="Direct link to WithScore" title="Direct link to WithScore">​</a></h3>
<p>Ƭ <strong>WithScore</strong>&lt;<code>T</code>&gt;: <code>T</code> &amp; { <code>score</code>: <code>number</code>  }</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-2">Type parameters<a href="#type-parameters-2" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-30">Defined in<a href="#defined-in-30" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/VectorStore.d.ts:11</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Direct link to Variables" title="Direct link to Variables">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_chatbot_app_env_vars">CORE_CHATBOT_APP_ENV_VARS<a href="#core_chatbot_app_env_vars" class="hash-link" aria-label="Direct link to CORE_CHATBOT_APP_ENV_VARS" title="Direct link to CORE_CHATBOT_APP_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_CHATBOT_APP_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-16">Type declaration<a href="#type-declaration-16" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>MONGODB_CONNECTION_URI</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>MONGODB_DATABASE_NAME</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-31">Defined in<a href="#defined-in-31" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:36</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_env_vars">CORE_ENV_VARS<a href="#core_env_vars" class="hash-link" aria-label="Direct link to CORE_ENV_VARS" title="Direct link to CORE_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-17">Type declaration<a href="#type-declaration-17" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>MONGODB_CONNECTION_URI</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>MONGODB_DATABASE_NAME</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_MODEL_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_RETRIEVAL_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_VERIFIED_ANSWER_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>VECTOR_SEARCH_INDEX_NAME</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-32">Defined in<a href="#defined-in-32" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:40</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_openai_chat_completion_env_vars">CORE_OPENAI_CHAT_COMPLETION_ENV_VARS<a href="#core_openai_chat_completion_env_vars" class="hash-link" aria-label="Direct link to CORE_OPENAI_CHAT_COMPLETION_ENV_VARS" title="Direct link to CORE_OPENAI_CHAT_COMPLETION_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_OPENAI_CHAT_COMPLETION_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-18">Type declaration<a href="#type-declaration-18" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_MODEL_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-33">Defined in<a href="#defined-in-33" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:19</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_openai_connection_env_vars">CORE_OPENAI_CONNECTION_ENV_VARS<a href="#core_openai_connection_env_vars" class="hash-link" aria-label="Direct link to CORE_OPENAI_CONNECTION_ENV_VARS" title="Direct link to CORE_OPENAI_CONNECTION_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_OPENAI_CONNECTION_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-19">Type declaration<a href="#type-declaration-19" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-34">Defined in<a href="#defined-in-34" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_openai_env_vars">CORE_OPENAI_ENV_VARS<a href="#core_openai_env_vars" class="hash-link" aria-label="Direct link to CORE_OPENAI_ENV_VARS" title="Direct link to CORE_OPENAI_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_OPENAI_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-20">Type declaration<a href="#type-declaration-20" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_CHAT_COMPLETION_MODEL_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_RETRIEVAL_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_VERIFIED_ANSWER_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>VECTOR_SEARCH_INDEX_NAME</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-35">Defined in<a href="#defined-in-35" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:26</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_openai_retrieval_env_vars">CORE_OPENAI_RETRIEVAL_ENV_VARS<a href="#core_openai_retrieval_env_vars" class="hash-link" aria-label="Direct link to CORE_OPENAI_RETRIEVAL_ENV_VARS" title="Direct link to CORE_OPENAI_RETRIEVAL_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_OPENAI_RETRIEVAL_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-21">Type declaration<a href="#type-declaration-21" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_RETRIEVAL_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>VECTOR_SEARCH_INDEX_NAME</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-36">Defined in<a href="#defined-in-36" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:6</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core_openai_verified_answers_env_vars">CORE_OPENAI_VERIFIED_ANSWERS_ENV_VARS<a href="#core_openai_verified_answers_env_vars" class="hash-link" aria-label="Direct link to CORE_OPENAI_VERIFIED_ANSWERS_ENV_VARS" title="Direct link to CORE_OPENAI_VERIFIED_ANSWERS_ENV_VARS">​</a></h3>
<p>• <code>Const</code> <strong>CORE_OPENAI_VERIFIED_ANSWERS_ENV_VARS</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-22">Type declaration<a href="#type-declaration-22" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>OPENAI_API_KEY</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_API_VERSION</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_ENDPOINT</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>OPENAI_VERIFIED_ANSWER_EMBEDDING_DEPLOYMENT</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-37">Defined in<a href="#defined-in-37" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/CoreEnvVars.d.ts:13</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom_request_origin_header">CUSTOM_REQUEST_ORIGIN_HEADER<a href="#custom_request_origin_header" class="hash-link" aria-label="Direct link to CUSTOM_REQUEST_ORIGIN_HEADER" title="Direct link to CUSTOM_REQUEST_ORIGIN_HEADER">​</a></h3>
<p>• <code>Const</code> <strong>CUSTOM_REQUEST_ORIGIN_HEADER</strong>: <code>&quot;X-Request-Origin&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-38">Defined in<a href="#defined-in-38" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts#L4" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts:4</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classification-1">Classification<a href="#classification-1" class="hash-link" aria-label="Direct link to Classification" title="Direct link to Classification">​</a></h3>
<p>• <strong>Classification</strong>: <code>ZodObject</code>&lt;{ <code>reason</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>type</code>: <code>ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>reason?</code>: <code>string</code> ; <code>type</code>: <code>string</code>  }, { <code>reason?</code>: <code>string</code> ; <code>type</code>: <code>string</code>  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-39">Defined in<a href="#defined-in-39" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:40</p>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:41</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_api_prefix">DEFAULT_API_PREFIX<a href="#default_api_prefix" class="hash-link" aria-label="Direct link to DEFAULT_API_PREFIX" title="Direct link to DEFAULT_API_PREFIX">​</a></h3>
<p>• <code>Const</code> <strong>DEFAULT_API_PREFIX</strong>: <code>&quot;/api/v1&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-40">Defined in<a href="#defined-in-40" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/app.ts#L109" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:109</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_max_request_timeout_ms">DEFAULT_MAX_REQUEST_TIMEOUT_MS<a href="#default_max_request_timeout_ms" class="hash-link" aria-label="Direct link to DEFAULT_MAX_REQUEST_TIMEOUT_MS" title="Direct link to DEFAULT_MAX_REQUEST_TIMEOUT_MS">​</a></h3>
<p>• <code>Const</code> <strong>DEFAULT_MAX_REQUEST_TIMEOUT_MS</strong>: <code>60000</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-41">Defined in<a href="#defined-in-41" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/app.ts#L111" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:111</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-1">Reference<a href="#reference-1" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h3>
<p>• <strong>Reference</strong>: <code>ZodObject</code>&lt;{ <code>metadata</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>&quot;passthrough&quot;</code>, <code>ZodTypeAny</code>, <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt;, <code>objectInputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt;&gt;&gt; ; <code>title</code>: <code>ZodString</code> ; <code>url</code>: <code>ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>metadata?</code>: <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }, { <code>metadata?</code>: <code>objectInputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-42">Defined in<a href="#defined-in-42" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/References.d.ts:8</p>
<p>packages/mongodb-rag-core/build/References.d.ts:9</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="references-2">References<a href="#references-2" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3>
<p>• <strong>References</strong>: <code>ZodArray</code>&lt;<code>ZodObject</code>&lt;{ <code>metadata</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>&quot;passthrough&quot;</code>, <code>ZodTypeAny</code>, <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt;, <code>objectInputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt;&gt;&gt; ; <code>title</code>: <code>ZodString</code> ; <code>url</code>: <code>ZodString</code>  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>metadata?</code>: <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }, { <code>metadata?</code>: <code>objectInputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }&gt;, <code>&quot;many&quot;</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-43">Defined in<a href="#defined-in-43" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/References.d.ts:42</p>
<p>packages/mongodb-rag-core/build/References.d.ts:43</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="someexpressrequest">SomeExpressRequest<a href="#someexpressrequest" class="hash-link" aria-label="Direct link to SomeExpressRequest" title="Direct link to SomeExpressRequest">​</a></h3>
<p>• <code>Const</code> <strong>SomeExpressRequest</strong>: <code>ZodObject</code>&lt;{ <code>body</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>headers</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>params</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt; ; <code>query</code>: <code>ZodOptional</code>&lt;<code>ZodObject</code>&lt;<!-- -->, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, <!-- -->, <!-- -->&gt;&gt;  }, <code>&quot;strip&quot;</code>, <code>ZodTypeAny</code>, { <code>body?</code>: {} ; <code>headers?</code>: {} ; <code>params?</code>: {} ; <code>query?</code>: {}  }, { <code>body?</code>: {} ; <code>headers?</code>: {} ; <code>params?</code>: {} ; <code>query?</code>: {}  }&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-44">Defined in<a href="#defined-in-44" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/middleware/validateRequestSchema.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/validateRequestSchema.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger">logger<a href="#logger" class="hash-link" aria-label="Direct link to logger" title="Direct link to logger">​</a></h3>
<p>• <code>Const</code> <strong>logger</strong>: <code>Logger</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-45">Defined in<a href="#defined-in-45" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/logger.d.ts:13</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ratelimitresponse">rateLimitResponse<a href="#ratelimitresponse" class="hash-link" aria-label="Direct link to rateLimitResponse" title="Direct link to rateLimitResponse">​</a></h3>
<p>• <code>Const</code> <strong>rateLimitResponse</strong>: <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-declaration-23">Type declaration<a href="#type-declaration-23" class="hash-link" aria-label="Direct link to Type declaration" title="Direct link to Type declaration">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>error</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-46">Defined in<a href="#defined-in-46" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L211" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:211</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assertenvvars">assertEnvVars<a href="#assertenvvars" class="hash-link" aria-label="Direct link to assertEnvVars" title="Direct link to assertEnvVars">​</a></h3>
<p>▸ <strong>assertEnvVars</strong>&lt;<code>T</code>&gt;(<code>ENV_VARS</code>): <code>T</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-3">Type parameters<a href="#type-parameters-3" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td><td style="text-align:left">extends <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-9">Parameters<a href="#parameters-9" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ENV_VARS</code></td><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-9">Returns<a href="#returns-9" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>T</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-47">Defined in<a href="#defined-in-47" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/assertEnvVars.d.ts:1</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="awaitgenerateresponsemessage">awaitGenerateResponseMessage<a href="#awaitgenerateresponsemessage" class="hash-link" aria-label="Direct link to awaitGenerateResponseMessage" title="Direct link to awaitGenerateResponseMessage">​</a></h3>
<p>▸ <strong>awaitGenerateResponseMessage</strong>(<code>«destructured»</code>): <code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-10">Parameters<a href="#parameters-10" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#awaitgenerateresponseparams"><code>AwaitGenerateResponseParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-10">Returns<a href="#returns-10" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-48">Defined in<a href="#defined-in-48" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L175" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:175</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="convertmessagefromllmtodb">convertMessageFromLlmToDb<a href="#convertmessagefromllmtodb" class="hash-link" aria-label="Direct link to convertMessageFromLlmToDb" title="Direct link to convertMessageFromLlmToDb">​</a></h3>
<p>▸ <strong>convertMessageFromLlmToDb</strong>(<code>message</code>): <a href="/chatbot/reference/server/namespaces/Conversations#somemessage"><code>SomeMessage</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-11">Parameters<a href="#parameters-11" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>message</code></td><td style="text-align:left"><code>ChatCompletionMessageParam</code> &amp; { <code>content</code>: <code>null</code> | <code>string</code> ; <code>embedding?</code>: <code>number</code>[] ; <code>role</code>: <a href="/chatbot/reference/server/namespaces/Llm#openaimessagerole"><code>OpenAiMessageRole</code></a>  }</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-11">Returns<a href="#returns-11" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/namespaces/Conversations#somemessage"><code>SomeMessage</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-49">Defined in<a href="#defined-in-49" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L466" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:466</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createloggermessage">createLoggerMessage<a href="#createloggermessage" class="hash-link" aria-label="Direct link to createLoggerMessage" title="Direct link to createLoggerMessage">​</a></h3>
<p>▸ <strong>createLoggerMessage</strong>(<code>«destructured»</code>): <code>Object</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-12">Parameters<a href="#parameters-12" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>CreateMessageParams</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-12">Returns<a href="#returns-12" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Object</code></p>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>ipAddress</code></td><td style="text-align:left"><code>undefined</code> | <code>string</code></td></tr><tr><td style="text-align:left"><code>message</code></td><td style="text-align:left"><code>string</code></td></tr><tr><td style="text-align:left"><code>requestBody</code></td><td style="text-align:left"><code>unknown</code></td></tr><tr><td style="text-align:left"><code>requestId</code></td><td style="text-align:left"><code>undefined</code> | <code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-50">Defined in<a href="#defined-in-50" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/logger.d.ts:7</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="errorhandler">errorHandler<a href="#errorhandler" class="hash-link" aria-label="Direct link to errorHandler" title="Direct link to errorHandler">​</a></h3>
<p>▸ <strong>errorHandler</strong>(<code>err</code>, <code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<p>General error handler. Called at usage of <code>next()</code> in routes.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-13">Parameters<a href="#parameters-13" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>err</code></td><td style="text-align:left"><code>any</code></td></tr><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;, <code>number</code>&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-13">Returns<a href="#returns-13" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-51">Defined in<a href="#defined-in-51" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>node_modules/@types/express-serve-static-core/index.d.ts:73</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="escapenewlines">escapeNewlines<a href="#escapenewlines" class="hash-link" aria-label="Direct link to escapeNewlines" title="Direct link to escapeNewlines">​</a></h3>
<p>▸ <strong>escapeNewlines</strong>(<code>str</code>): <code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-14">Parameters<a href="#parameters-14" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>str</code></td><td style="text-align:left"><code>string</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-14">Returns<a href="#returns-14" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>string</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-52">Defined in<a href="#defined-in-52" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterdefined">filterDefined<a href="#filterdefined" class="hash-link" aria-label="Direct link to filterDefined" title="Direct link to filterDefined">​</a></h3>
<p>▸ <strong>filterDefined</strong>&lt;<code>T</code>&gt;(<code>array</code>): <code>Exclude</code>&lt;<code>T</code>, <code>undefined</code>&gt;[]</p>
<p>Given an array of possibly undefined T, return those that are defined.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-4">Type parameters<a href="#type-parameters-4" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-15">Parameters<a href="#parameters-15" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>array</code></td><td style="text-align:left"><code>T</code>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-15">Returns<a href="#returns-15" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Exclude</code>&lt;<code>T</code>, <code>undefined</code>&gt;[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-53">Defined in<a href="#defined-in-53" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/arrayFilters.d.ts:8</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filterfulfilled">filterFulfilled<a href="#filterfulfilled" class="hash-link" aria-label="Direct link to filterFulfilled" title="Direct link to filterFulfilled">​</a></h3>
<p>▸ <strong>filterFulfilled</strong>&lt;<code>T</code>&gt;(<code>array</code>): <code>PromiseFulfilledResult</code>&lt;<code>T</code>&gt;[]</p>
<p>Given an array of PromiseSettledResults, return those that are fulfilled as PromiseFulfilledResults.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="type-parameters-5">Type parameters<a href="#type-parameters-5" class="hash-link" aria-label="Direct link to Type parameters" title="Direct link to Type parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th></tr></thead><tbody><tr><td style="text-align:left"><code>T</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-16">Parameters<a href="#parameters-16" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>array</code></td><td style="text-align:left"><code>PromiseSettledResult</code>&lt;<code>T</code>&gt;[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-16">Returns<a href="#returns-16" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>PromiseFulfilledResult</code>&lt;<code>T</code>&gt;[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-54">Defined in<a href="#defined-in-54" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/arrayFilters.d.ts:4</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filteronlysystemprompt">filterOnlySystemPrompt<a href="#filteronlysystemprompt" class="hash-link" aria-label="Direct link to filterOnlySystemPrompt" title="Direct link to filterOnlySystemPrompt">​</a></h3>
<p>▸ <strong>filterOnlySystemPrompt</strong>(<code>conversation</code>): <code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]&gt;</p>
<p>Only include the initial system prompt.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-17">Parameters<a href="#parameters-17" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>conversation</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversations.Conversation"><code>Conversation</code></a>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#conversationcustomdata"><code>ConversationCustomData</code></a>&gt;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-17">Returns<a href="#returns-17" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<a href="/chatbot/reference/server/namespaces/Conversations#message"><code>Message</code></a>[]&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-55">Defined in<a href="#defined-in-55" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts#L9" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/FilterPreviousMessages.ts:9</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generateresponse-1">generateResponse<a href="#generateresponse-1" class="hash-link" aria-label="Direct link to generateResponse" title="Direct link to generateResponse">​</a></h3>
<p>▸ <strong>generateResponse</strong>(<code>«destructured»</code>): <code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<p>Generate a response with/without streaming. Supports tool calling
and standard response generation.
Response includes the user message with any data mutations
and the assistant response message, plus any intermediate tool calls.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-18">Parameters<a href="#parameters-18" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/GenerateResponseParams"><code>GenerateResponseParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-18">Returns<a href="#returns-18" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-56">Defined in<a href="#defined-in-56" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L48" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:48</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="includechunksformaxtokenspossible">includeChunksForMaxTokensPossible<a href="#includechunksformaxtokenspossible" class="hash-link" aria-label="Direct link to includeChunksForMaxTokensPossible" title="Direct link to includeChunksForMaxTokensPossible">​</a></h3>
<p>▸ <strong>includeChunksForMaxTokensPossible</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]</p>
<p>This function returns the chunks that can fit in the maxTokens.
It limits the number of tokens that are sent to the LLM.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-19">Parameters<a href="#parameters-19" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>Object</code></td></tr><tr><td style="text-align:left">› <code>content</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr><tr><td style="text-align:left">› <code>maxTokens</code></td><td style="text-align:left"><code>number</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-19">Returns<a href="#returns-19" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-57">Defined in<a href="#defined-in-57" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L205" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:205</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeapp">makeApp<a href="#makeapp" class="hash-link" aria-label="Direct link to makeApp" title="Direct link to makeApp">​</a></h3>
<p>▸ <strong>makeApp</strong>(<code>config</code>): <code>Promise</code>&lt;<code>Express</code>&gt;</p>
<p>Constructor function to make the Express.js app.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-20">Parameters<a href="#parameters-20" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>config</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/AppConfig"><code>AppConfig</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-20">Returns<a href="#returns-20" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>Express</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-58">Defined in<a href="#defined-in-58" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/app.ts#L116" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:116</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeclassifier">makeClassifier<a href="#makeclassifier" class="hash-link" aria-label="Direct link to makeClassifier" title="Direct link to makeClassifier">​</a></h3>
<p>▸ <strong>makeClassifier</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#classifier"><code>Classifier</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-21">Parameters<a href="#parameters-21" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>Object</code></td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">› <code>chainOfThought?</code></td><td style="text-align:left"><code>boolean</code></td><td style="text-align:left">If set to <code>true</code>, the classification will include a <code>reason</code> field that performs <a href="https://www.promptingguide.ai/techniques/cot" target="_blank" rel="noopener noreferrer">chain-of-thought reasoning</a> before determining the classification type..</td></tr><tr><td style="text-align:left">› <code>classificationTypes</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ClassificationType"><code>ClassificationType</code></a>[]</td><td style="text-align:left">A list of valid classification types.</td></tr><tr><td style="text-align:left">› <code>model</code></td><td style="text-align:left"><code>string</code></td><td style="text-align:left">-</td></tr><tr><td style="text-align:left">› <code>openAiClient</code></td><td style="text-align:left"><code>OpenAI</code></td><td style="text-align:left">-</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-21">Returns<a href="#returns-21" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#classifier"><code>Classifier</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-59">Defined in<a href="#defined-in-59" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/makeClassifier.d.ts:51</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeconversationsrouter">makeConversationsRouter<a href="#makeconversationsrouter" class="hash-link" aria-label="Direct link to makeConversationsRouter" title="Direct link to makeConversationsRouter">​</a></h3>
<p>▸ <strong>makeConversationsRouter</strong>(<code>«destructured»</code>): <code>Router</code></p>
<p>Constructor function to make the /conversations/* Express.js router.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-22">Parameters<a href="#parameters-22" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ConversationsRouterParams"><code>ConversationsRouterParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-22">Returns<a href="#returns-22" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Router</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-60">Defined in<a href="#defined-in-60" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts#L234" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/conversationsRouter.ts:234</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedatastreamer">makeDataStreamer<a href="#makedatastreamer" class="hash-link" aria-label="Direct link to makeDataStreamer" title="Direct link to makeDataStreamer">​</a></h3>
<p>▸ <strong>makeDataStreamer</strong>(): <a href="/chatbot/reference/server/interfaces/DataStreamer"><code>DataStreamer</code></a></p>
<p>Create a <a href="/chatbot/reference/server/interfaces/DataStreamer">DataStreamer</a> that streams data to the client.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-23">Returns<a href="#returns-23" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/interfaces/DataStreamer"><code>DataStreamer</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-61">Defined in<a href="#defined-in-61" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>packages/mongodb-rag-core/build/DataStreamer.d.ts:76</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makedefaultreferencelinks">makeDefaultReferenceLinks<a href="#makedefaultreferencelinks" class="hash-link" aria-label="Direct link to makeDefaultReferenceLinks" title="Direct link to makeDefaultReferenceLinks">​</a></h3>
<p>▸ <strong>makeDefaultReferenceLinks</strong>(<code>chunks</code>): { <code>metadata?</code>: <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[]</p>
<p>The default reference format returns the following for chunks from <em>unique</em> pages:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pageTitle</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">??</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// if title doesn&#x27;t exist, just put url</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// this always exists</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-23">Parameters<a href="#parameters-23" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>chunks</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/ContentStore.EmbeddedContent"><code>EmbeddedContent</code></a>[]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-24">Returns<a href="#returns-24" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p>{ <code>metadata?</code>: <code>objectOutputType</code>&lt;{ <code>sourceName</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>sourceType</code>: <code>ZodOptional</code>&lt;<code>ZodString</code>&gt; ; <code>tags</code>: <code>ZodOptional</code>&lt;<code>ZodArray</code>&lt;<code>ZodString</code>, <code>&quot;many&quot;</code>&gt;&gt;  }, <code>ZodTypeAny</code>, <code>&quot;passthrough&quot;</code>&gt; ; <code>title</code>: <code>string</code> ; <code>url</code>: <code>string</code>  }[]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-62">Defined in<a href="#defined-in-62" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/MakeReferenceLinksFunc.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makefilternpreviousmessages">makeFilterNPreviousMessages<a href="#makefilternpreviousmessages" class="hash-link" aria-label="Direct link to makeFilterNPreviousMessages" title="Direct link to makeFilterNPreviousMessages">​</a></h3>
<p>▸ <strong>makeFilterNPreviousMessages</strong>(<code>n</code>): <a href="/chatbot/reference/server/modules#filterpreviousmessages"><code>FilterPreviousMessages</code></a></p>
<p>Creates a filter that only includes the previous n messages in the conversations.
The first message in the conversation <strong>must</strong> be the system prompt.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-24">Parameters<a href="#parameters-24" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>n</code></td><td style="text-align:left"><code>number</code></td><td style="text-align:left">Number of previous messages to include.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-25">Returns<a href="#returns-25" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#filterpreviousmessages"><code>FilterPreviousMessages</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-63">Defined in<a href="#defined-in-63" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/makeFilterNPreviousMessages.ts#L8" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeFilterNPreviousMessages.ts:8</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makehandletimeoutmiddleware">makeHandleTimeoutMiddleware<a href="#makehandletimeoutmiddleware" class="hash-link" aria-label="Direct link to makeHandleTimeoutMiddleware" title="Direct link to makeHandleTimeoutMiddleware">​</a></h3>
<p>▸ <strong>makeHandleTimeoutMiddleware</strong>(<code>apiTimeout</code>): (<code>req</code>: <code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;, <code>res</code>: <code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;, <code>next</code>: <code>NextFunction</code>) =&gt; <code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-25">Parameters<a href="#parameters-25" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>apiTimeout</code></td><td style="text-align:left"><code>number</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-26">Returns<a href="#returns-26" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>fn</code></p>
<p>▸ (<code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-26">Parameters<a href="#parameters-26" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h5>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="returns-27">Returns<a href="#returns-27" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h5>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-64">Defined in<a href="#defined-in-64" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/app.ts#L94" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/app.ts:94</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeraggenerateuserprompt">makeRagGenerateUserPrompt<a href="#makeraggenerateuserprompt" class="hash-link" aria-label="Direct link to makeRagGenerateUserPrompt" title="Direct link to makeRagGenerateUserPrompt">​</a></h3>
<p>▸ <strong>makeRagGenerateUserPrompt</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<p>Construct a <a href="/chatbot/reference/server/modules#generateuserpromptfunc">GenerateUserPromptFunc</a> function
that uses retrieval augmented generation (RAG) to generate the user prompt
and return references to use in the answer.
The returned RAG user prompt generator performs the following steps:</p>
<ol>
<li>Preprocess the user&#x27;s message using the query preprocessor.</li>
<li>Find content using vector search.</li>
<li>Removes any chunks that would exceed the max context tokens.</li>
<li>Generate the user message using the make user message function.</li>
<li>Return the user message and references.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-27">Parameters<a href="#parameters-27" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeRagGenerateUserPromptParams"><code>MakeRagGenerateUserPromptParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-28">Returns<a href="#returns-28" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-65">Defined in<a href="#defined-in-65" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts#L67" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeRagGenerateUserPrompt.ts:67</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="makeverifiedanswergenerateuserprompt">makeVerifiedAnswerGenerateUserPrompt<a href="#makeverifiedanswergenerateuserprompt" class="hash-link" aria-label="Direct link to makeVerifiedAnswerGenerateUserPrompt" title="Direct link to makeVerifiedAnswerGenerateUserPrompt">​</a></h3>
<p>▸ <strong>makeVerifiedAnswerGenerateUserPrompt</strong>(<code>«destructured»</code>): <a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<p>Constructs a GenerateUserPromptFunc that searches for verified answers for the
user query. If no verified answer can be found for the given query, the
onNoVerifiedAnswerFound GenerateUserPromptFunc is called instead.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-28">Parameters<a href="#parameters-28" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/MakeVerifiedAnswerGenerateUserPromptParams"><code>MakeVerifiedAnswerGenerateUserPromptParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-29">Returns<a href="#returns-29" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#generateuserpromptfunc"><code>GenerateUserPromptFunc</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-66">Defined in<a href="#defined-in-66" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/processors/makeVerifiedAnswerGenerateUserPrompt.ts#L26" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/processors/makeVerifiedAnswerGenerateUserPrompt.ts:26</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reqhandler">reqHandler<a href="#reqhandler" class="hash-link" aria-label="Direct link to reqHandler" title="Direct link to reqHandler">​</a></h3>
<p>▸ <strong>reqHandler</strong>(<code>req</code>, <code>res</code>, <code>next</code>): <code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-29">Parameters<a href="#parameters-29" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>req</code></td><td style="text-align:left"><code>Request</code>&lt;<code>ParamsDictionary</code>, <code>any</code>, <code>any</code>, <code>ParsedQs</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left"><code>res</code></td><td style="text-align:left"><code>Response</code>&lt;<code>any</code>, <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;, <code>number</code>&gt;</td></tr><tr><td style="text-align:left"><code>next</code></td><td style="text-align:left"><code>NextFunction</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-30">Returns<a href="#returns-30" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>void</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-67">Defined in<a href="#defined-in-67" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p>node_modules/@types/express-serve-static-core/index.d.ts:60</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirerequestorigin">requireRequestOrigin<a href="#requirerequestorigin" class="hash-link" aria-label="Direct link to requireRequestOrigin" title="Direct link to requireRequestOrigin">​</a></h3>
<p>▸ <strong>requireRequestOrigin</strong>(): <a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-31">Returns<a href="#returns-31" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-68">Defined in<a href="#defined-in-68" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts#L6" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireRequestOrigin.ts:6</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirevalidipaddress">requireValidIpAddress<a href="#requirevalidipaddress" class="hash-link" aria-label="Direct link to requireValidIpAddress" title="Direct link to requireValidIpAddress">​</a></h3>
<p>▸ <strong>requireValidIpAddress</strong>(): <a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-32">Returns<a href="#returns-32" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><a href="/chatbot/reference/server/modules#conversationsmiddleware"><code>ConversationsMiddleware</code></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-69">Defined in<a href="#defined-in-69" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/middleware/requireValidIpAddress.ts#L5" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/middleware/requireValidIpAddress.ts:5</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streamgenerateresponsemessage">streamGenerateResponseMessage<a href="#streamgenerateresponsemessage" class="hash-link" aria-label="Direct link to streamGenerateResponseMessage" title="Direct link to streamGenerateResponseMessage">​</a></h3>
<p>▸ <strong>streamGenerateResponseMessage</strong>(<code>«destructured»</code>): <code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-30">Parameters<a href="#parameters-30" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#streamgenerateresponseparams"><code>StreamGenerateResponseParams</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-33">Returns<a href="#returns-33" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>GenerateResponseReturnValue</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-70">Defined in<a href="#defined-in-70" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/generateResponse.ts#L283" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/generateResponse.ts:283</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updatetraceifexists">updateTraceIfExists<a href="#updatetraceifexists" class="hash-link" aria-label="Direct link to updateTraceIfExists" title="Direct link to updateTraceIfExists">​</a></h3>
<p>▸ <strong>updateTraceIfExists</strong>(<code>«destructured»</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-31">Parameters<a href="#parameters-31" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Type</th></tr></thead><tbody><tr><td style="text-align:left"><code>«destructured»</code></td><td style="text-align:left"><code>Object</code></td></tr><tr><td style="text-align:left">› <code>assistantResponseMessageId</code></td><td style="text-align:left"><code>ObjectId</code></td></tr><tr><td style="text-align:left">› <code>conversationId</code></td><td style="text-align:left"><code>ObjectId</code></td></tr><tr><td style="text-align:left">› <code>conversations</code></td><td style="text-align:left"><a href="/chatbot/reference/server/interfaces/Conversations.ConversationsService"><code>ConversationsService</code></a></td></tr><tr><td style="text-align:left">› <code>updateTrace?</code></td><td style="text-align:left"><a href="/chatbot/reference/server/modules#updatetracefunc"><code>UpdateTraceFunc</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-34">Returns<a href="#returns-34" class="hash-link" aria-label="Direct link to Returns" title="Direct link to Returns">​</a></h4>
<p><code>Promise</code>&lt;<code>void</code>&gt;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defined-in-71">Defined in<a href="#defined-in-71" class="hash-link" aria-label="Direct link to Defined in" title="Direct link to Defined in">​</a></h4>
<p><a href="https://github.com/mongodb/chatbot/blob/8086968d/packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts#L13" target="_blank" rel="noopener noreferrer">packages/mongodb-chatbot-server/src/routes/conversations/UpdateTraceFunc.ts:13</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/chatbot/reference/server/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Readme</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/chatbot/reference/server/namespaces/Chunk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chunk</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#namespaces" class="table-of-contents__link toc-highlight">Namespaces</a></li><li><a href="#interfaces" class="table-of-contents__link toc-highlight">Interfaces</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a><ul><li><a href="#addassistantmessageparams" class="table-of-contents__link toc-highlight">AddAssistantMessageParams</a></li><li><a href="#addconversationmessageparams" class="table-of-contents__link toc-highlight">AddConversationMessageParams</a></li><li><a href="#addfunctionmessageparams" class="table-of-contents__link toc-highlight">AddFunctionMessageParams</a></li><li><a href="#addmanyconversationmessagesparams" class="table-of-contents__link toc-highlight">AddManyConversationMessagesParams</a></li><li><a href="#addmessageparams" class="table-of-contents__link toc-highlight">AddMessageParams</a></li><li><a href="#addsomemessageparams" class="table-of-contents__link toc-highlight">AddSomeMessageParams</a></li><li><a href="#addsystemmessageparams" class="table-of-contents__link toc-highlight">AddSystemMessageParams</a></li><li><a href="#addusermessageparams" class="table-of-contents__link toc-highlight">AddUserMessageParams</a></li><li><a href="#assistantmessage" class="table-of-contents__link toc-highlight">AssistantMessage</a></li><li><a href="#assistantmessagemetadata" class="table-of-contents__link toc-highlight">AssistantMessageMetadata</a></li><li><a href="#calltoolresponse" class="table-of-contents__link toc-highlight">CallToolResponse</a></li><li><a href="#chatllm" class="table-of-contents__link toc-highlight">ChatLlm</a></li><li><a href="#chunkfunc" class="table-of-contents__link toc-highlight">ChunkFunc</a></li><li><a href="#chunkmetadatagetter" class="table-of-contents__link toc-highlight">ChunkMetadataGetter</a></li><li><a href="#chunkoptions" class="table-of-contents__link toc-highlight">ChunkOptions</a></li><li><a href="#chunktransformer" class="table-of-contents__link toc-highlight">ChunkTransformer</a></li><li><a href="#commentmessageparams" class="table-of-contents__link toc-highlight">CommentMessageParams</a></li><li><a href="#contentchunk" class="table-of-contents__link toc-highlight">ContentChunk</a></li><li><a href="#conversation" class="table-of-contents__link toc-highlight">Conversation</a></li><li><a href="#conversationconstants" class="table-of-contents__link toc-highlight">ConversationConstants</a></li><li><a href="#conversationcustomdata" class="table-of-contents__link toc-highlight">ConversationCustomData</a></li><li><a href="#conversationsservice" class="table-of-contents__link toc-highlight">ConversationsService</a></li><li><a href="#createconversationparams" class="table-of-contents__link toc-highlight">CreateConversationParams</a></li><li><a href="#dbmessage" class="table-of-contents__link toc-highlight">DbMessage</a></li><li><a href="#deleteembeddedcontentargs" class="table-of-contents__link toc-highlight">DeleteEmbeddedContentArgs</a></li><li><a href="#deletepagesargs" class="table-of-contents__link toc-highlight">DeletePagesArgs</a></li><li><a href="#embedargs" class="table-of-contents__link toc-highlight">EmbedArgs</a></li><li><a href="#embedconcurrencyoptions" class="table-of-contents__link toc-highlight">EmbedConcurrencyOptions</a></li><li><a href="#embedresult" class="table-of-contents__link toc-highlight">EmbedResult</a></li><li><a href="#embeddedcontent" class="table-of-contents__link toc-highlight">EmbeddedContent</a></li><li><a href="#embeddedcontentstore" class="table-of-contents__link toc-highlight">EmbeddedContentStore</a></li><li><a href="#embedder" class="table-of-contents__link toc-highlight">Embedder</a></li><li><a href="#findbyidparams" class="table-of-contents__link toc-highlight">FindByIdParams</a></li><li><a href="#findcontentfunc" class="table-of-contents__link toc-highlight">FindContentFunc</a></li><li><a href="#findcontentfuncargs" class="table-of-contents__link toc-highlight">FindContentFuncArgs</a></li><li><a href="#findcontentresult" class="table-of-contents__link toc-highlight">FindContentResult</a></li><li><a href="#findverifiedanswerfunc" class="table-of-contents__link toc-highlight">FindVerifiedAnswerFunc</a></li><li><a href="#findverifiedanswerfuncargs" class="table-of-contents__link toc-highlight">FindVerifiedAnswerFuncArgs</a></li><li><a href="#findverifiedanswerresult" class="table-of-contents__link toc-highlight">FindVerifiedAnswerResult</a></li><li><a href="#functionmessage" class="table-of-contents__link toc-highlight">FunctionMessage</a></li><li><a href="#llmanswerquestionparams" class="table-of-contents__link toc-highlight">LlmAnswerQuestionParams</a></li><li><a href="#llmcalltoolparams" class="table-of-contents__link toc-highlight">LlmCallToolParams</a></li><li><a href="#loadpagesargs" class="table-of-contents__link toc-highlight">LoadPagesArgs</a></li><li><a href="#makedefaultfindcontentfuncargs" class="table-of-contents__link toc-highlight">MakeDefaultFindContentFuncArgs</a></li><li><a href="#makedefaultfindverifiedanswerfuncargs" class="table-of-contents__link toc-highlight">MakeDefaultFindVerifiedAnswerFuncArgs</a></li><li><a href="#makelangchainembedderparams" class="table-of-contents__link toc-highlight">MakeLangChainEmbedderParams</a></li><li><a href="#makelangchainchatllmprops" class="table-of-contents__link toc-highlight">MakeLangchainChatLlmProps</a></li><li><a href="#makemongodbembeddedcontentstoreparams" class="table-of-contents__link toc-highlight">MakeMongoDbEmbeddedContentStoreParams</a></li><li><a href="#makemongodbpagestoreparams" class="table-of-contents__link toc-highlight">MakeMongoDbPageStoreParams</a></li><li><a href="#makeopenaichatllmparams" class="table-of-contents__link toc-highlight">MakeOpenAiChatLlmParams</a></li><li><a href="#makeopenaiembedderargs" class="table-of-contents__link toc-highlight">MakeOpenAiEmbedderArgs</a></li><li><a href="#message" class="table-of-contents__link toc-highlight">Message</a></li><li><a href="#messagebase" class="table-of-contents__link toc-highlight">MessageBase</a></li><li><a href="#mongodbembeddedcontentstore" class="table-of-contents__link toc-highlight">MongoDbEmbeddedContentStore</a></li><li><a href="#mongodbpagestore" class="table-of-contents__link toc-highlight">MongoDbPageStore</a></li><li><a href="#openaichatcompletionwithoutusage" class="table-of-contents__link toc-highlight">OpenAIChatCompletionWithoutUsage</a></li><li><a href="#openaiawaitedresponse" class="table-of-contents__link toc-highlight">OpenAiAwaitedResponse</a></li><li><a href="#openaichatmessage" class="table-of-contents__link toc-highlight">OpenAiChatMessage</a></li><li><a href="#openaimessagerole" class="table-of-contents__link toc-highlight">OpenAiMessageRole</a></li><li><a href="#openaistreamingresponse" class="table-of-contents__link toc-highlight">OpenAiStreamingResponse</a></li><li><a href="#page" class="table-of-contents__link toc-highlight">Page</a></li><li><a href="#pageaction" class="table-of-contents__link toc-highlight">PageAction</a></li><li><a href="#pageconcurrencyoptions" class="table-of-contents__link toc-highlight">PageConcurrencyOptions</a></li><li><a href="#pageformat" class="table-of-contents__link toc-highlight">PageFormat</a></li><li><a href="#pagemetadata" class="table-of-contents__link toc-highlight">PageMetadata</a></li><li><a href="#pagestore" class="table-of-contents__link toc-highlight">PageStore</a></li><li><a href="#persistedpage" class="table-of-contents__link toc-highlight">PersistedPage</a></li><li><a href="#question" class="table-of-contents__link toc-highlight">Question</a></li><li><a href="#ratemessageparams" class="table-of-contents__link toc-highlight">RateMessageParams</a></li><li><a href="#searchbooster" class="table-of-contents__link toc-highlight">SearchBooster</a></li><li><a href="#somemessage" class="table-of-contents__link toc-highlight">SomeMessage</a></li><li><a href="#sometokenizer" class="table-of-contents__link toc-highlight">SomeTokenizer</a></li><li><a href="#systemmessage" class="table-of-contents__link toc-highlight">SystemMessage</a></li><li><a href="#systemprompt" class="table-of-contents__link toc-highlight">SystemPrompt</a></li><li><a href="#tool" class="table-of-contents__link toc-highlight">Tool</a></li><li><a href="#toolcalldirective" class="table-of-contents__link toc-highlight">ToolCallDirective</a></li><li><a href="#toolcallparams" class="table-of-contents__link toc-highlight">ToolCallParams</a></li><li><a href="#usermessage" class="table-of-contents__link toc-highlight">UserMessage</a></li><li><a href="#verifiedanswer" class="table-of-contents__link toc-highlight">VerifiedAnswer</a></li><li><a href="#verifiedanswereventdata" class="table-of-contents__link toc-highlight">VerifiedAnswerEventData</a></li><li><a href="#verifiedanswerstore" class="table-of-contents__link toc-highlight">VerifiedAnswerStore</a></li><li><a href="#withfilterandk" class="table-of-contents__link toc-highlight">WithFilterAndK</a></li><li><a href="#aspageformat" class="table-of-contents__link toc-highlight">asPageFormat</a></li><li><a href="#chunkcode" class="table-of-contents__link toc-highlight">chunkCode</a></li><li><a href="#chunkmd" class="table-of-contents__link toc-highlight">chunkMd</a></li><li><a href="#chunkopenapispecyaml" class="table-of-contents__link toc-highlight">chunkOpenApiSpecYaml</a></li><li><a href="#chunkpage" class="table-of-contents__link toc-highlight">chunkPage</a></li><li><a href="#createmessage" class="table-of-contents__link toc-highlight">createMessage</a></li><li><a href="#createmessagefromopenaichatmessage" class="table-of-contents__link toc-highlight">createMessageFromOpenAIChatMessage</a></li><li><a href="#defaultconversationconstants" class="table-of-contents__link toc-highlight">defaultConversationConstants</a></li><li><a href="#defaultopenapispecyamlchunkoptions" class="table-of-contents__link toc-highlight">defaultOpenApiSpecYamlChunkOptions</a></li><li><a href="#extractfrontmatter" class="table-of-contents__link toc-highlight">extractFrontMatter</a></li><li><a href="#getchangedpages" class="table-of-contents__link toc-highlight">getChangedPages</a></li><li><a href="#ispageformat" class="table-of-contents__link toc-highlight">isPageFormat</a></li><li><a href="#issupportedlanguage" class="table-of-contents__link toc-highlight">isSupportedLanguage</a></li><li><a href="#makeboostonatlassearchfilter" class="table-of-contents__link toc-highlight">makeBoostOnAtlasSearchFilter</a></li><li><a href="#makechunkfrontmatterupdater" class="table-of-contents__link toc-highlight">makeChunkFrontMatterUpdater</a></li><li><a href="#makedefaultfindcontent" class="table-of-contents__link toc-highlight">makeDefaultFindContent</a></li><li><a href="#makedefaultfindverifiedanswer" class="table-of-contents__link toc-highlight">makeDefaultFindVerifiedAnswer</a></li><li><a href="#makelangchainembedder" class="table-of-contents__link toc-highlight">makeLangChainEmbedder</a></li><li><a href="#makelangchainchatllm" class="table-of-contents__link toc-highlight">makeLangchainChatLlm</a></li><li><a href="#makemongodbconversationsservice" class="table-of-contents__link toc-highlight">makeMongoDbConversationsService</a></li><li><a href="#makemongodbembeddedcontentstore" class="table-of-contents__link toc-highlight">makeMongoDbEmbeddedContentStore</a></li><li><a href="#makemongodbpagestore" class="table-of-contents__link toc-highlight">makeMongoDbPageStore</a></li><li><a href="#makemongodbverifiedanswerstore" class="table-of-contents__link toc-highlight">makeMongoDbVerifiedAnswerStore</a></li><li><a href="#makeopenaichatllm" class="table-of-contents__link toc-highlight">makeOpenAiChatLlm</a></li><li><a href="#makeopenaiembedder" class="table-of-contents__link toc-highlight">makeOpenAiEmbedder</a></li><li><a href="#pageformat-1" class="table-of-contents__link toc-highlight">pageFormat</a></li><li><a href="#pageformattolanguage" class="table-of-contents__link toc-highlight">pageFormatToLanguage</a></li><li><a href="#pageformats" class="table-of-contents__link toc-highlight">pageFormats</a></li><li><a href="#pageidentity" class="table-of-contents__link toc-highlight">pageIdentity</a></li><li><a href="#persistpages" class="table-of-contents__link toc-highlight">persistPages</a></li><li><a href="#removefrontmatter" class="table-of-contents__link toc-highlight">removeFrontMatter</a></li><li><a href="#standardchunkfrontmatterupdater" class="table-of-contents__link toc-highlight">standardChunkFrontMatterUpdater</a></li><li><a href="#standardmetadatagetter" class="table-of-contents__link toc-highlight">standardMetadataGetter</a></li><li><a href="#updateembeddedcontent" class="table-of-contents__link toc-highlight">updateEmbeddedContent</a></li><li><a href="#updateembeddedcontentforpage" class="table-of-contents__link toc-highlight">updateEmbeddedContentForPage</a></li><li><a href="#updatefrontmatter" class="table-of-contents__link toc-highlight">updateFrontMatter</a></li><li><a href="#updatepages" class="table-of-contents__link toc-highlight">updatePages</a></li></ul></li><li><a href="#type-aliases" class="table-of-contents__link toc-highlight">Type Aliases</a><ul><li><a href="#addcustomdatafunc" class="table-of-contents__link toc-highlight">AddCustomDataFunc</a></li><li><a href="#awaitgenerateresponseparams" class="table-of-contents__link toc-highlight">AwaitGenerateResponseParams</a></li><li><a href="#classification" class="table-of-contents__link toc-highlight">Classification</a></li><li><a href="#classifier" class="table-of-contents__link toc-highlight">Classifier</a></li><li><a href="#conversationidstreamevent" class="table-of-contents__link toc-highlight">ConversationIdStreamEvent</a></li><li><a href="#conversationsmiddleware" class="table-of-contents__link toc-highlight">ConversationsMiddleware</a></li><li><a href="#conversationsrouterresponse" class="table-of-contents__link toc-highlight">ConversationsRouterResponse</a></li><li><a href="#databaseconnection" class="table-of-contents__link toc-highlight">DatabaseConnection</a></li><li><a href="#deltastreamevent" class="table-of-contents__link toc-highlight">DeltaStreamEvent</a></li><li><a href="#filterpreviousmessages" class="table-of-contents__link toc-highlight">FilterPreviousMessages</a></li><li><a href="#findnearestneighborsoptions" class="table-of-contents__link toc-highlight">FindNearestNeighborsOptions</a></li><li><a href="#finishedstreamevent" class="table-of-contents__link toc-highlight">FinishedStreamEvent</a></li><li><a href="#generateresponse" class="table-of-contents__link toc-highlight">GenerateResponse</a></li><li><a href="#generateuserpromptfunc" class="table-of-contents__link toc-highlight">GenerateUserPromptFunc</a></li><li><a href="#generateuserpromptfuncparams" class="table-of-contents__link toc-highlight">GenerateUserPromptFuncParams</a></li><li><a href="#makereferencelinksfunc" class="table-of-contents__link toc-highlight">MakeReferenceLinksFunc</a></li><li><a href="#makeusermessagefunc" class="table-of-contents__link toc-highlight">MakeUserMessageFunc</a></li><li><a href="#metadatastreamevent" class="table-of-contents__link toc-highlight">MetadataStreamEvent</a></li><li><a href="#processingstreamevent" class="table-of-contents__link toc-highlight">ProcessingStreamEvent</a></li><li><a href="#querypreprocessorfunc" class="table-of-contents__link toc-highlight">QueryPreprocessorFunc</a></li><li><a href="#querypreprocessorresult" class="table-of-contents__link toc-highlight">QueryPreprocessorResult</a></li><li><a href="#queryprocessorfuncparams" class="table-of-contents__link toc-highlight">QueryProcessorFuncParams</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li><li><a href="#references-1" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#referencesstreamevent" class="table-of-contents__link toc-highlight">ReferencesStreamEvent</a></li><li><a href="#somestreamevent" class="table-of-contents__link toc-highlight">SomeStreamEvent</a></li><li><a href="#streamgenerateresponseparams" class="table-of-contents__link toc-highlight">StreamGenerateResponseParams</a></li><li><a href="#updatetracefunc" class="table-of-contents__link toc-highlight">UpdateTraceFunc</a></li><li><a href="#updatetracefuncparams" class="table-of-contents__link toc-highlight">UpdateTraceFuncParams</a></li><li><a href="#vectorstore" class="table-of-contents__link toc-highlight">VectorStore</a></li><li><a href="#withscore" class="table-of-contents__link toc-highlight">WithScore</a></li></ul></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href="#core_chatbot_app_env_vars" class="table-of-contents__link toc-highlight">CORE_CHATBOT_APP_ENV_VARS</a></li><li><a href="#core_env_vars" class="table-of-contents__link toc-highlight">CORE_ENV_VARS</a></li><li><a href="#core_openai_chat_completion_env_vars" class="table-of-contents__link toc-highlight">CORE_OPENAI_CHAT_COMPLETION_ENV_VARS</a></li><li><a href="#core_openai_connection_env_vars" class="table-of-contents__link toc-highlight">CORE_OPENAI_CONNECTION_ENV_VARS</a></li><li><a href="#core_openai_env_vars" class="table-of-contents__link toc-highlight">CORE_OPENAI_ENV_VARS</a></li><li><a href="#core_openai_retrieval_env_vars" class="table-of-contents__link toc-highlight">CORE_OPENAI_RETRIEVAL_ENV_VARS</a></li><li><a href="#core_openai_verified_answers_env_vars" class="table-of-contents__link toc-highlight">CORE_OPENAI_VERIFIED_ANSWERS_ENV_VARS</a></li><li><a href="#custom_request_origin_header" class="table-of-contents__link toc-highlight">CUSTOM_REQUEST_ORIGIN_HEADER</a></li><li><a href="#classification-1" class="table-of-contents__link toc-highlight">Classification</a></li><li><a href="#default_api_prefix" class="table-of-contents__link toc-highlight">DEFAULT_API_PREFIX</a></li><li><a href="#default_max_request_timeout_ms" class="table-of-contents__link toc-highlight">DEFAULT_MAX_REQUEST_TIMEOUT_MS</a></li><li><a href="#reference-1" class="table-of-contents__link toc-highlight">Reference</a></li><li><a href="#references-2" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#someexpressrequest" class="table-of-contents__link toc-highlight">SomeExpressRequest</a></li><li><a href="#logger" class="table-of-contents__link toc-highlight">logger</a></li><li><a href="#ratelimitresponse" class="table-of-contents__link toc-highlight">rateLimitResponse</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#assertenvvars" class="table-of-contents__link toc-highlight">assertEnvVars</a></li><li><a href="#awaitgenerateresponsemessage" class="table-of-contents__link toc-highlight">awaitGenerateResponseMessage</a></li><li><a href="#convertmessagefromllmtodb" class="table-of-contents__link toc-highlight">convertMessageFromLlmToDb</a></li><li><a href="#createloggermessage" class="table-of-contents__link toc-highlight">createLoggerMessage</a></li><li><a href="#errorhandler" class="table-of-contents__link toc-highlight">errorHandler</a></li><li><a href="#escapenewlines" class="table-of-contents__link toc-highlight">escapeNewlines</a></li><li><a href="#filterdefined" class="table-of-contents__link toc-highlight">filterDefined</a></li><li><a href="#filterfulfilled" class="table-of-contents__link toc-highlight">filterFulfilled</a></li><li><a href="#filteronlysystemprompt" class="table-of-contents__link toc-highlight">filterOnlySystemPrompt</a></li><li><a href="#generateresponse-1" class="table-of-contents__link toc-highlight">generateResponse</a></li><li><a href="#includechunksformaxtokenspossible" class="table-of-contents__link toc-highlight">includeChunksForMaxTokensPossible</a></li><li><a href="#makeapp" class="table-of-contents__link toc-highlight">makeApp</a></li><li><a href="#makeclassifier" class="table-of-contents__link toc-highlight">makeClassifier</a></li><li><a href="#makeconversationsrouter" class="table-of-contents__link toc-highlight">makeConversationsRouter</a></li><li><a href="#makedatastreamer" class="table-of-contents__link toc-highlight">makeDataStreamer</a></li><li><a href="#makedefaultreferencelinks" class="table-of-contents__link toc-highlight">makeDefaultReferenceLinks</a></li><li><a href="#makefilternpreviousmessages" class="table-of-contents__link toc-highlight">makeFilterNPreviousMessages</a></li><li><a href="#makehandletimeoutmiddleware" class="table-of-contents__link toc-highlight">makeHandleTimeoutMiddleware</a></li><li><a href="#makeraggenerateuserprompt" class="table-of-contents__link toc-highlight">makeRagGenerateUserPrompt</a></li><li><a href="#makeverifiedanswergenerateuserprompt" class="table-of-contents__link toc-highlight">makeVerifiedAnswerGenerateUserPrompt</a></li><li><a href="#reqhandler" class="table-of-contents__link toc-highlight">reqHandler</a></li><li><a href="#requirerequestorigin" class="table-of-contents__link toc-highlight">requireRequestOrigin</a></li><li><a href="#requirevalidipaddress" class="table-of-contents__link toc-highlight">requireValidIpAddress</a></li><li><a href="#streamgenerateresponsemessage" class="table-of-contents__link toc-highlight">streamGenerateResponseMessage</a></li><li><a href="#updatetraceifexists" class="table-of-contents__link toc-highlight">updateTraceIfExists</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/chatbot/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/chatbot/quick-start">Quick Start</a></li><li class="footer__item"><a href="https://github.com/mongodb/chatbot" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div></div></footer></div>
</body>
</html>